# Netlify Redirects File - Emergency Hotfix v2
# Redirects from rosehillsportsandplay.com to tpv.rosehill.group

# Force old domain to new subdomain
https://rosehillsportsandplay.com/* https://tpv.rosehill.group/:splat 301!
http://rosehillsportsandplay.com/* https://tpv.rosehill.group/:splat 301!
https://www.rosehillsportsandplay.com/* https://tpv.rosehill.group/:splat 301!
http://www.rosehillsportsandplay.com/* https://tpv.rosehill.group/:splat 301!

# Force HTTPS
http://tpv.rosehill.group/* https://tpv.rosehill.group/:splat 301!

# Language routing - route language URLs to root files for client-side translation
/es/* /:splat 200
/fr/* /:splat 200  
/de/* /:splat 200

# Redirect any /en/ URLs to root
/en/* /:splat 301!

# Test page routes for development
/es/translation-test.html /translation-test.html 200
/fr/translation-test.html /translation-test.html 200
/de/translation-test.html /translation-test.html 200
/en/translation-test.html /translation-test.html 200

# Clean URLs - remove .html extension (redirect .html to clean)
/about.html /about 301
/products.html /products 301
/applications.html /applications 301
/colour.html /colour 301
/contact.html /contact 301
/installations.html /installations 301
/mixer.html /mixer 301
/login.html /login 301
/thank-you.html /thank-you 301

# Serve HTML files without extension
/about /about.html 200
/products /products.html 200
/applications /applications.html 200
/colour /colour.html 200
/contact /contact.html 200
/installations /installations.html 200
/mixer /mixer.html 200
/login /login.html 200
/thank-you /thank-you.html 200

# Installation pages - serve from installations directory
/installations/*    /installations/:splat   200

# Admin pages - protected by application-level authentication
# Keep admin pages accessible at root level (English only)
/installation-approval-hub.html   /installation-approval-hub.html   200!
/admin/add-installation.html       /admin/add-installation.html       200!
/admin/add-installation-v2.html    /admin/add-installation-v2.html    200!
/admin/translations.html           /admin/translations.html           200!
/admin/manage-installations.html   /admin/manage-installations.html   200!
/admin/bulk-translate.html         /admin/bulk-translate.html         200!

# Redirect www to non-www (update with your actual domain)
# https://www.yourdomain.com/* https://yourdomain.com/:splat 301!

# Force HTTPS
# http://yourdomain.com/* https://yourdomain.com/:splat 301!

# Security: Block WordPress scanner bots (return 410 Gone)
/xmlrpc.php              /404.html  410
/wp-login.php            /404.html  410
/wp-admin/*              /404.html  410
/wp                      /404.html  410
/wordpress               /404.html  410

# Security: Block attack vectors and sensitive file access attempts
/.env                    /404.html  410
/about.php               /404.html  410
/file.php                /404.html  410
/admin.php               /404.html  410
/aa.php                  /404.html  410

# Security: Block directory probing attempts
/old                     /404.html  410
/new                     /404.html  410
/main                    /404.html  410

# AutoDiscover: Email client autodiscovery (redirect to homepage)
/AutoDiscover/autodiscover.xml    /    404

# Legacy pages: Redirect to relevant current pages
/email-disclaimer/       /privacy-policy    301

# Fallback for 404 errors
/* /404.html 404