var a3=Object.defineProperty;var s3=(t,e,r)=>e in t?a3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rx=(t,e,r)=>s3(t,typeof e!="symbol"?e+"":e,r);var ute=l3((yn,bn)=>{function c3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function id(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var wk={exports:{}},vp={},Sk={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=Symbol.for("react.element"),d3=Symbol.for("react.portal"),h3=Symbol.for("react.fragment"),f3=Symbol.for("react.strict_mode"),p3=Symbol.for("react.profiler"),g3=Symbol.for("react.provider"),m3=Symbol.for("react.context"),v3=Symbol.for("react.forward_ref"),y3=Symbol.for("react.suspense"),b3=Symbol.for("react.memo"),x3=Symbol.for("react.lazy"),nx=Symbol.iterator;function w3(t){return t===null||typeof t!="object"?null:(t=nx&&t[nx]||t["@@iterator"],typeof t=="function"?t:null)}var kk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_k=Object.assign,Ck={};function Bl(t,e,r){this.props=t,this.context=e,this.refs=Ck,this.updater=r||kk}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jk(){}jk.prototype=Bl.prototype;function Ev(t,e,r){this.props=t,this.context=e,this.refs=Ck,this.updater=r||kk}var Tv=Ev.prototype=new jk;Tv.constructor=Ev;_k(Tv,Bl.prototype);Tv.isPureReactComponent=!0;var ix=Array.isArray,Ek=Object.prototype.hasOwnProperty,Rv={current:null},Tk={key:!0,ref:!0,__self:!0,__source:!0};function Rk(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Ek.call(e,n)&&!Tk.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:od,type:t,key:o,ref:a,props:i,_owner:Rv.current}}function S3(t,e){return{$$typeof:od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pv(t){return typeof t=="object"&&t!==null&&t.$$typeof===od}function k3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ox=/\/+/g;function w0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k3(""+t.key):e.toString(36)}function qh(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case od:case d3:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+w0(a,0):n,ix(i)?(r="",t!=null&&(r=t.replace(ox,"$&/")+"/"),qh(i,e,r,"",function(c){return c})):i!=null&&(Pv(i)&&(i=S3(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ox,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",ix(t))for(var s=0;s<t.length;s++){o=t[s];var l=n+w0(o,s);a+=qh(o,e,r,l,i)}else if(l=w3(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=n+w0(o,s++),a+=qh(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qd(t,e,r){if(t==null)return t;var n=[],i=0;return qh(t,n,"","",function(o){return e.call(r,o,i++)}),n}function _3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},Kh={transition:null},C3={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Kh,ReactCurrentOwner:Rv};function Pk(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:qd,forEach:function(t,e,r){qd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qd(t,function(){e++}),e},toArray:function(t){return qd(t,function(e){return e})||[]},only:function(t){if(!Pv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=Bl;dt.Fragment=h3;dt.Profiler=p3;dt.PureComponent=Ev;dt.StrictMode=f3;dt.Suspense=y3;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C3;dt.act=Pk;dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=_k({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Ek.call(e,l)&&!Tk.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:od,type:t.type,key:i,ref:o,props:n,_owner:a}};dt.createContext=function(t){return t={$$typeof:m3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g3,_context:t},t.Consumer=t};dt.createElement=Rk;dt.createFactory=function(t){var e=Rk.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:v3,render:t}};dt.isValidElement=Pv;dt.lazy=function(t){return{$$typeof:x3,_payload:{_status:-1,_result:t},_init:_3}};dt.memo=function(t,e){return{$$typeof:b3,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=Kh.transition;Kh.transition={};try{t()}finally{Kh.transition=e}};dt.unstable_act=Pk;dt.useCallback=function(t,e){return Zr.current.useCallback(t,e)};dt.useContext=function(t){return Zr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return Zr.current.useEffect(t,e)};dt.useId=function(){return Zr.current.useId()};dt.useImperativeHandle=function(t,e,r){return Zr.current.useImperativeHandle(t,e,r)};dt.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return Zr.current.useMemo(t,e)};dt.useReducer=function(t,e,r){return Zr.current.useReducer(t,e,r)};dt.useRef=function(t){return Zr.current.useRef(t)};dt.useState=function(t){return Zr.current.useState(t)};dt.useSyncExternalStore=function(t,e,r){return Zr.current.useSyncExternalStore(t,e,r)};dt.useTransition=function(){return Zr.current.useTransition()};dt.version="18.3.1";Sk.exports=dt;var H=Sk.exports;const z=id(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j3=H,E3=Symbol.for("react.element"),T3=Symbol.for("react.fragment"),R3=Object.prototype.hasOwnProperty,P3=j3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O3={key:!0,ref:!0,__self:!0,__source:!0};function Ok(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)R3.call(e,n)&&!O3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:E3,type:t,key:o,ref:a,props:i,_owner:P3.current}}vp.Fragment=T3;vp.jsx=Ok;vp.jsxs=Ok;wk.exports=vp;var u=wk.exports,Ug={},Ak={exports:{}},Cn={},Nk={exports:{}},Fk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,A){var q=W.length;W.push(A);e:for(;0<q;){var B=q-1>>>1,V=W[B];if(0<i(V,A))W[B]=A,W[q]=V,q=B;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var A=W[0],q=W.pop();if(q!==A){W[0]=q;e:for(var B=0,V=W.length,he=V>>>1;B<he;){var ae=2*(B+1)-1,ce=W[ae],Ae=ae+1,Re=W[Ae];if(0>i(ce,q))Ae<V&&0>i(Re,ce)?(W[B]=Re,W[Ae]=q,B=Ae):(W[B]=ce,W[ae]=q,B=ae);else if(Ae<V&&0>i(Re,q))W[B]=Re,W[Ae]=q,B=Ae;else break e}}return A}function i(W,A){var q=W.sortIndex-A.sortIndex;return q!==0?q:W.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=W)n(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=r(c)}}function w(W){if(m=!1,x(W),!g)if(r(l)!==null)g=!0,U(S);else{var A=r(c);A!==null&&O(w,A.startTime-W)}}function S(W,A){g=!1,m&&(m=!1,v(P),P=-1),p=!0;var q=f;try{for(x(A),h=r(l);h!==null&&(!(h.expirationTime>A)||W&&!N());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var V=B(h.expirationTime<=A);A=t.unstable_now(),typeof V=="function"?h.callback=V:h===r(l)&&n(l),x(A)}else n(l);h=r(l)}if(h!==null)var he=!0;else{var ae=r(c);ae!==null&&O(w,ae.startTime-A),he=!1}return he}finally{h=null,f=q,p=!1}}var k=!1,C=null,P=-1,E=5,R=-1;function N(){return!(t.unstable_now()-R<E)}function T(){if(C!==null){var W=t.unstable_now();R=W;var A=!0;try{A=C(!0,W)}finally{A?D():(k=!1,C=null)}}else k=!1}var D;if(typeof b=="function")D=function(){b(T)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,G=_.port2;_.port1.onmessage=T,D=function(){G.postMessage(null)}}else D=function(){y(T,0)};function U(W){C=W,k||(k=!0,D())}function O(W,A){P=y(function(){W(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,U(S))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var q=f;f=A;try{return W()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,A){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=f;f=W;try{return A()}finally{f=q}},t.unstable_scheduleCallback=function(W,A,q){var B=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,W={id:d++,callback:A,priorityLevel:W,startTime:q,expirationTime:V,sortIndex:-1},q>B?(W.sortIndex=q,e(c,W),r(l)===null&&W===r(c)&&(m?(v(P),P=-1):m=!0,O(w,q-B))):(W.sortIndex=V,e(l,W),g||p||(g=!0,U(S))),W},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(W){var A=f;return function(){var q=f;f=A;try{return W.apply(this,arguments)}finally{f=q}}}})(Fk);Nk.exports=Fk;var A3=Nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3=H,Sn=A3;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dk=new Set,Cu={};function Ya(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(Cu[t]=e,t=0;t<e.length;t++)Dk.add(e[t])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hg=Object.prototype.hasOwnProperty,F3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ax={},sx={};function D3(t){return Hg.call(sx,t)?!0:Hg.call(ax,t)?!1:F3.test(t)?sx[t]=!0:(ax[t]=!0,!1)}function I3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M3(t,e,r,n){if(e===null||typeof e>"u"||I3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ov=/[\-:]([a-z])/g;function Av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ov,Av);Nr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ov,Av);Nr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ov,Av);Nr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nv(t,e,r,n){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M3(e,r,i,n)&&(r=null),n||i===null?D3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var io=N3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kd=Symbol.for("react.element"),rl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),Ik=Symbol.for("react.provider"),Mk=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),Gg=Symbol.for("react.suspense_list"),Iv=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),Lk=Symbol.for("react.offscreen"),lx=Symbol.iterator;function bc(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var nr=Object.assign,S0;function Uc(t){if(S0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);S0=e&&e[1]||""}return`
`+S0+t}var k0=!1;function _0(t,e){if(!t||k0)return"";k0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{k0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Uc(t):""}function L3(t){switch(t.tag){case 5:return Uc(t.type);case 16:return Uc("Lazy");case 13:return Uc("Suspense");case 19:return Uc("SuspenseList");case 0:case 2:case 15:return t=_0(t.type,!1),t;case 11:return t=_0(t.type.render,!1),t;case 1:return t=_0(t.type,!0),t;default:return""}}function qg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case rl:return"Portal";case Wg:return"Profiler";case Fv:return"StrictMode";case Vg:return"Suspense";case Gg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mk:return(t.displayName||"Context")+".Consumer";case Ik:return(t._context.displayName||"Context")+".Provider";case Dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Iv:return e=t.displayName||null,e!==null?e:qg(t.type)||"Memo";case ko:e=t._payload,t=t._init;try{return qg(t(e))}catch{}}return null}function z3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(e);case 8:return e===Fv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B3(t){var e=zk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xd(t){t._valueTracker||(t._valueTracker=B3(t))}function Bk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=zk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function vf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kg(t,e){var r=e.checked;return nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Xo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uk(t,e){e=e.checked,e!=null&&Nv(t,"checked",e,!1)}function Xg(t,e){Uk(t,e);var r=Xo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zg(t,e.type,r):e.hasOwnProperty("defaultValue")&&Zg(t,e.type,Xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ux(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Zg(t,e,r){(e!=="number"||vf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hc=Array.isArray;function yl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Xo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(fe(92));if(Hc(r)){if(1<r.length)throw Error(fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Xo(r)}}function Hk(t,e){var r=Xo(e.value),n=Xo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function hx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zd,Vk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zd=Zd||document.createElement("div"),Zd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ju(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U3=["Webkit","ms","Moz","O"];Object.keys(ru).forEach(function(t){U3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ru[e]=ru[t]})});function Gk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ru.hasOwnProperty(t)&&ru[t]?(""+e).trim():e+"px"}function qk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Gk(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var H3=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qg(t,e){if(e){if(H3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function $g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=null;function Mv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tm=null,bl=null,xl=null;function fx(t){if(t=ld(t)){if(typeof tm!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Sp(e),tm(t.stateNode,t.type,e))}}function Kk(t){bl?xl?xl.push(t):xl=[t]:bl=t}function Xk(){if(bl){var t=bl,e=xl;if(xl=bl=null,fx(t),e)for(t=0;t<e.length;t++)fx(e[t])}}function Zk(t,e){return t(e)}function Yk(){}var C0=!1;function Jk(t,e,r){if(C0)return t(e,r);C0=!0;try{return Zk(t,e,r)}finally{C0=!1,(bl!==null||xl!==null)&&(Yk(),Xk())}}function Eu(t,e){var r=t.stateNode;if(r===null)return null;var n=Sp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(fe(231,e,typeof r));return r}var rm=!1;if(eo)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){rm=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch{rm=!1}function W3(t,e,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var nu=!1,yf=null,bf=!1,nm=null,V3={onError:function(t){nu=!0,yf=t}};function G3(t,e,r,n,i,o,a,s,l){nu=!1,yf=null,W3.apply(V3,arguments)}function q3(t,e,r,n,i,o,a,s,l){if(G3.apply(this,arguments),nu){if(nu){var c=yf;nu=!1,yf=null}else throw Error(fe(198));bf||(bf=!0,nm=c)}}function Ja(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Qk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function px(t){if(Ja(t)!==t)throw Error(fe(188))}function K3(t){var e=t.alternate;if(!e){if(e=Ja(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return px(i),t;if(o===n)return px(i),e;o=o.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?t:e}function $k(t){return t=K3(t),t!==null?e_(t):null}function e_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e_(t);if(e!==null)return e;t=t.sibling}return null}var t_=Sn.unstable_scheduleCallback,gx=Sn.unstable_cancelCallback,X3=Sn.unstable_shouldYield,Z3=Sn.unstable_requestPaint,ar=Sn.unstable_now,Y3=Sn.unstable_getCurrentPriorityLevel,Lv=Sn.unstable_ImmediatePriority,r_=Sn.unstable_UserBlockingPriority,xf=Sn.unstable_NormalPriority,J3=Sn.unstable_LowPriority,n_=Sn.unstable_IdlePriority,yp=null,Ei=null;function Q3(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(yp,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:tR,$3=Math.log,eR=Math.LN2;function tR(t){return t>>>=0,t===0?32:31-($3(t)/eR|0)|0}var Yd=64,Jd=4194304;function Wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=Wc(s):(o&=a,o!==0&&(n=Wc(o)))}else a=r&~i,a!==0?n=Wc(a):o!==0&&(n=Wc(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-li(e),i=1<<r,n|=t[r],e&=~i;return n}function rR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nR(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-li(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=rR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function im(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i_(){var t=Yd;return Yd<<=1,!(Yd&4194240)&&(Yd=64),t}function j0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ad(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=r}function iR(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-li(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function zv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-li(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Rt=0;function o_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a_,Bv,s_,l_,c_,om=!1,Qd=[],Mo=null,Lo=null,zo=null,Tu=new Map,Ru=new Map,Eo=[],oR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mx(t,e){switch(t){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(e.pointerId)}}function wc(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ld(e),e!==null&&Bv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aR(t,e,r,n,i){switch(e){case"focusin":return Mo=wc(Mo,t,e,r,n,i),!0;case"dragenter":return Lo=wc(Lo,t,e,r,n,i),!0;case"mouseover":return zo=wc(zo,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Tu.set(o,wc(Tu.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ru.set(o,wc(Ru.get(o)||null,t,e,r,n,i)),!0}return!1}function u_(t){var e=Ta(t.target);if(e!==null){var r=Ja(e);if(r!==null){if(e=r.tag,e===13){if(e=Qk(r),e!==null){t.blockedOn=e,c_(t.priority,function(){s_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);em=n,r.target.dispatchEvent(n),em=null}else return e=ld(r),e!==null&&Bv(e),t.blockedOn=r,!1;e.shift()}return!0}function vx(t,e,r){Xh(t)&&r.delete(e)}function sR(){om=!1,Mo!==null&&Xh(Mo)&&(Mo=null),Lo!==null&&Xh(Lo)&&(Lo=null),zo!==null&&Xh(zo)&&(zo=null),Tu.forEach(vx),Ru.forEach(vx)}function Sc(t,e){t.blockedOn===e&&(t.blockedOn=null,om||(om=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,sR)))}function Pu(t){function e(i){return Sc(i,t)}if(0<Qd.length){Sc(Qd[0],t);for(var r=1;r<Qd.length;r++){var n=Qd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mo!==null&&Sc(Mo,t),Lo!==null&&Sc(Lo,t),zo!==null&&Sc(zo,t),Tu.forEach(e),Ru.forEach(e),r=0;r<Eo.length;r++)n=Eo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Eo.length&&(r=Eo[0],r.blockedOn===null);)u_(r),r.blockedOn===null&&Eo.shift()}var wl=io.ReactCurrentBatchConfig,Sf=!0;function lR(t,e,r,n){var i=Rt,o=wl.transition;wl.transition=null;try{Rt=1,Uv(t,e,r,n)}finally{Rt=i,wl.transition=o}}function cR(t,e,r,n){var i=Rt,o=wl.transition;wl.transition=null;try{Rt=4,Uv(t,e,r,n)}finally{Rt=i,wl.transition=o}}function Uv(t,e,r,n){if(Sf){var i=am(t,e,r,n);if(i===null)I0(t,e,n,kf,r),mx(t,n);else if(aR(i,t,e,r,n))n.stopPropagation();else if(mx(t,n),e&4&&-1<oR.indexOf(t)){for(;i!==null;){var o=ld(i);if(o!==null&&a_(o),o=am(t,e,r,n),o===null&&I0(t,e,n,kf,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else I0(t,e,n,null,r)}}var kf=null;function am(t,e,r,n){if(kf=null,t=Mv(n),t=Ta(t),t!==null)if(e=Ja(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Qk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kf=t,null}function d_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y3()){case Lv:return 1;case r_:return 4;case xf:case J3:return 16;case n_:return 536870912;default:return 16}default:return 16}}var Ao=null,Hv=null,Zh=null;function h_(){if(Zh)return Zh;var t,e=Hv,r=e.length,n,i="value"in Ao?Ao.value:Ao.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return Zh=i.slice(t,1<n?1-n:void 0)}function Yh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $d(){return!0}function yx(){return!1}function jn(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$d:yx,this.isPropagationStopped=yx,this}return nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$d)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$d)},persist:function(){},isPersistent:$d}),e}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wv=jn(Ul),sd=nr({},Ul,{view:0,detail:0}),uR=jn(sd),E0,T0,kc,bp=nr({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kc&&(kc&&t.type==="mousemove"?(E0=t.screenX-kc.screenX,T0=t.screenY-kc.screenY):T0=E0=0,kc=t),E0)},movementY:function(t){return"movementY"in t?t.movementY:T0}}),bx=jn(bp),dR=nr({},bp,{dataTransfer:0}),hR=jn(dR),fR=nr({},sd,{relatedTarget:0}),R0=jn(fR),pR=nr({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),gR=jn(pR),mR=nr({},Ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vR=jn(mR),yR=nr({},Ul,{data:0}),xx=jn(yR),bR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wR[t])?!!e[t]:!1}function Vv(){return SR}var kR=nr({},sd,{key:function(t){if(t.key){var e=bR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(t){return t.type==="keypress"?Yh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_R=jn(kR),CR=nr({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wx=jn(CR),jR=nr({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),ER=jn(jR),TR=nr({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),RR=jn(TR),PR=nr({},bp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OR=jn(PR),AR=[9,13,27,32],Gv=eo&&"CompositionEvent"in window,iu=null;eo&&"documentMode"in document&&(iu=document.documentMode);var NR=eo&&"TextEvent"in window&&!iu,f_=eo&&(!Gv||iu&&8<iu&&11>=iu),Sx=" ",kx=!1;function p_(t,e){switch(t){case"keyup":return AR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function FR(t,e){switch(t){case"compositionend":return g_(e);case"keypress":return e.which!==32?null:(kx=!0,Sx);case"textInput":return t=e.data,t===Sx&&kx?null:t;default:return null}}function DR(t,e){if(il)return t==="compositionend"||!Gv&&p_(t,e)?(t=h_(),Zh=Hv=Ao=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f_&&e.locale!=="ko"?null:e.data;default:return null}}var IR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IR[t.type]:e==="textarea"}function m_(t,e,r,n){Kk(n),e=_f(e,"onChange"),0<e.length&&(r=new Wv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ou=null,Ou=null;function MR(t){E_(t,0)}function xp(t){var e=sl(t);if(Bk(e))return t}function LR(t,e){if(t==="change")return e}var v_=!1;if(eo){var P0;if(eo){var O0="oninput"in document;if(!O0){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),O0=typeof Cx.oninput=="function"}P0=O0}else P0=!1;v_=P0&&(!document.documentMode||9<document.documentMode)}function jx(){ou&&(ou.detachEvent("onpropertychange",y_),Ou=ou=null)}function y_(t){if(t.propertyName==="value"&&xp(Ou)){var e=[];m_(e,Ou,t,Mv(t)),Jk(MR,e)}}function zR(t,e,r){t==="focusin"?(jx(),ou=e,Ou=r,ou.attachEvent("onpropertychange",y_)):t==="focusout"&&jx()}function BR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xp(Ou)}function UR(t,e){if(t==="click")return xp(e)}function HR(t,e){if(t==="input"||t==="change")return xp(e)}function WR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var di=typeof Object.is=="function"?Object.is:WR;function Au(t,e){if(di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Hg.call(e,i)||!di(t[i],e[i]))return!1}return!0}function Ex(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tx(t,e){var r=Ex(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ex(r)}}function b_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function x_(){for(var t=window,e=vf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=vf(t.document)}return e}function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VR(t){var e=x_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&b_(r.ownerDocument.documentElement,r)){if(n!==null&&qv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=Tx(r,o);var a=Tx(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GR=eo&&"documentMode"in document&&11>=document.documentMode,ol=null,sm=null,au=null,lm=!1;function Rx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lm||ol==null||ol!==vf(n)||(n=ol,"selectionStart"in n&&qv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),au&&Au(au,n)||(au=n,n=_f(sm,"onSelect"),0<n.length&&(e=new Wv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ol)))}function eh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var al={animationend:eh("Animation","AnimationEnd"),animationiteration:eh("Animation","AnimationIteration"),animationstart:eh("Animation","AnimationStart"),transitionend:eh("Transition","TransitionEnd")},A0={},w_={};eo&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function wp(t){if(A0[t])return A0[t];if(!al[t])return t;var e=al[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in w_)return A0[t]=e[r];return t}var S_=wp("animationend"),k_=wp("animationiteration"),__=wp("animationstart"),C_=wp("transitionend"),j_=new Map,Px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(t,e){j_.set(t,e),Ya(e,[t])}for(var N0=0;N0<Px.length;N0++){var F0=Px[N0],qR=F0.toLowerCase(),KR=F0[0].toUpperCase()+F0.slice(1);ra(qR,"on"+KR)}ra(S_,"onAnimationEnd");ra(k_,"onAnimationIteration");ra(__,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(C_,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vc));function Ox(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,q3(n,e,void 0,t),t.currentTarget=null}function E_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ox(i,s,c),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ox(i,s,c),o=l}}}if(bf)throw t=nm,bf=!1,nm=null,t}function Wt(t,e){var r=e[fm];r===void 0&&(r=e[fm]=new Set);var n=t+"__bubble";r.has(n)||(T_(e,t,2,!1),r.add(n))}function D0(t,e,r){var n=0;e&&(n|=4),T_(r,t,n,e)}var th="_reactListening"+Math.random().toString(36).slice(2);function Nu(t){if(!t[th]){t[th]=!0,Dk.forEach(function(r){r!=="selectionchange"&&(XR.has(r)||D0(r,!1,t),D0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[th]||(e[th]=!0,D0("selectionchange",!1,e))}}function T_(t,e,r,n){switch(d_(e)){case 1:var i=lR;break;case 4:i=cR;break;default:i=Uv}r=i.bind(null,e,r,t),i=void 0,!rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function I0(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ta(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}Jk(function(){var c=o,d=Mv(r),h=[];e:{var f=j_.get(t);if(f!==void 0){var p=Wv,g=t;switch(t){case"keypress":if(Yh(r)===0)break e;case"keydown":case"keyup":p=_R;break;case"focusin":g="focus",p=R0;break;case"focusout":g="blur",p=R0;break;case"beforeblur":case"afterblur":p=R0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ER;break;case S_:case k_:case __:p=gR;break;case C_:p=RR;break;case"scroll":p=uR;break;case"wheel":p=OR;break;case"copy":case"cut":case"paste":p=vR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wx}var m=(e&4)!==0,y=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,x;b!==null;){x=b;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=Eu(b,v),w!=null&&m.push(Fu(b,w,x)))),y)break;b=b.return}0<m.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==em&&(g=r.relatedTarget||r.fromElement)&&(Ta(g)||g[to]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ta(g):null,g!==null&&(y=Ja(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=bx,w="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=wx,w="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?f:sl(p),x=g==null?f:sl(g),f=new m(w,b+"leave",p,r,d),f.target=y,f.relatedTarget=x,w=null,Ta(d)===c&&(m=new m(v,b+"enter",g,r,d),m.target=x,m.relatedTarget=y,w=m),y=w,p&&g)t:{for(m=p,v=g,b=0,x=m;x;x=Ss(x))b++;for(x=0,w=v;w;w=Ss(w))x++;for(;0<b-x;)m=Ss(m),b--;for(;0<x-b;)v=Ss(v),x--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ss(m),v=Ss(v)}m=null}else m=null;p!==null&&Ax(h,f,p,m,!1),g!==null&&y!==null&&Ax(h,y,g,m,!0)}}e:{if(f=c?sl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=LR;else if(_x(f))if(v_)S=HR;else{S=BR;var k=zR}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=UR);if(S&&(S=S(t,c))){m_(h,S,r,d);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Zg(f,"number",f.value)}switch(k=c?sl(c):window,t){case"focusin":(_x(k)||k.contentEditable==="true")&&(ol=k,sm=c,au=null);break;case"focusout":au=sm=ol=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,Rx(h,r,d);break;case"selectionchange":if(GR)break;case"keydown":case"keyup":Rx(h,r,d)}var C;if(Gv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else il?p_(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(f_&&r.locale!=="ko"&&(il||P!=="onCompositionStart"?P==="onCompositionEnd"&&il&&(C=h_()):(Ao=d,Hv="value"in Ao?Ao.value:Ao.textContent,il=!0)),k=_f(c,P),0<k.length&&(P=new xx(P,t,null,r,d),h.push({event:P,listeners:k}),C?P.data=C:(C=g_(r),C!==null&&(P.data=C)))),(C=NR?FR(t,r):DR(t,r))&&(c=_f(c,"onBeforeInput"),0<c.length&&(d=new xx("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=C))}E_(h,e)})}function Fu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function _f(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Eu(t,r),o!=null&&n.unshift(Fu(t,o,i)),o=Eu(t,e),o!=null&&n.push(Fu(t,o,i))),t=t.return}return n}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ax(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Eu(r,o),l!=null&&a.unshift(Fu(r,l,s))):i||(l=Eu(r,o),l!=null&&a.push(Fu(r,l,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var ZR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function Nx(t){return(typeof t=="string"?t:""+t).replace(ZR,`
`).replace(YR,"")}function rh(t,e,r){if(e=Nx(e),Nx(t)!==e&&r)throw Error(fe(425))}function Cf(){}var cm=null,um=null;function dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hm=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(t){return Fx.resolve(null).then(t).catch($R)}:hm;function $R(t){setTimeout(function(){throw t})}function M0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Pu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pu(e)}function Bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),ki="__reactFiber$"+Hl,Du="__reactProps$"+Hl,to="__reactContainer$"+Hl,fm="__reactEvents$"+Hl,eP="__reactListeners$"+Hl,tP="__reactHandles$"+Hl;function Ta(t){var e=t[ki];if(e)return e;for(var r=t.parentNode;r;){if(e=r[to]||r[ki]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Dx(t);t!==null;){if(r=t[ki])return r;t=Dx(t)}return e}t=r,r=t.parentNode}return null}function ld(t){return t=t[ki]||t[to],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Sp(t){return t[Du]||null}var pm=[],ll=-1;function na(t){return{current:t}}function Kt(t){0>ll||(t.current=pm[ll],pm[ll]=null,ll--)}function Bt(t,e){ll++,pm[ll]=t.current,t.current=e}var Zo={},Br=na(Zo),nn=na(!1),za=Zo;function Pl(t,e){var r=t.type.contextTypes;if(!r)return Zo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function jf(){Kt(nn),Kt(Br)}function Ix(t,e,r){if(Br.current!==Zo)throw Error(fe(168));Bt(Br,e),Bt(nn,r)}function R_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(fe(108,z3(t)||"Unknown",i));return nr({},r,n)}function Ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zo,za=Br.current,Bt(Br,t),Bt(nn,nn.current),!0}function Mx(t,e,r){var n=t.stateNode;if(!n)throw Error(fe(169));r?(t=R_(t,e,za),n.__reactInternalMemoizedMergedChildContext=t,Kt(nn),Kt(Br),Bt(Br,t)):Kt(nn),Bt(nn,r)}var Vi=null,kp=!1,L0=!1;function P_(t){Vi===null?Vi=[t]:Vi.push(t)}function rP(t){kp=!0,P_(t)}function ia(){if(!L0&&Vi!==null){L0=!0;var t=0,e=Rt;try{var r=Vi;for(Rt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vi=null,kp=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(t+1)),t_(Lv,ia),i}finally{Rt=e,L0=!1}}return null}var cl=[],ul=0,Tf=null,Rf=0,Pn=[],On=0,Ba=null,qi=1,Ki="";function wa(t,e){cl[ul++]=Rf,cl[ul++]=Tf,Tf=t,Rf=e}function O_(t,e,r){Pn[On++]=qi,Pn[On++]=Ki,Pn[On++]=Ba,Ba=t;var n=qi;t=Ki;var i=32-li(n)-1;n&=~(1<<i),r+=1;var o=32-li(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,qi=1<<32-li(e)+i|r<<i|n,Ki=o+t}else qi=1<<o|r<<i|n,Ki=t}function Kv(t){t.return!==null&&(wa(t,1),O_(t,1,0))}function Xv(t){for(;t===Tf;)Tf=cl[--ul],cl[ul]=null,Rf=cl[--ul],cl[ul]=null;for(;t===Ba;)Ba=Pn[--On],Pn[On]=null,Ki=Pn[--On],Pn[On]=null,qi=Pn[--On],Pn[On]=null}var xn=null,pn=null,Qt=!1,oi=null;function A_(t,e){var r=Dn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Lx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,pn=Bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ba!==null?{id:qi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Dn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,xn=t,pn=null,!0):!1;default:return!1}}function gm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mm(t){if(Qt){var e=pn;if(e){var r=e;if(!Lx(t,e)){if(gm(t))throw Error(fe(418));e=Bo(r.nextSibling);var n=xn;e&&Lx(t,e)?A_(n,r):(t.flags=t.flags&-4097|2,Qt=!1,xn=t)}}else{if(gm(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Qt=!1,xn=t}}}function zx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function nh(t){if(t!==xn)return!1;if(!Qt)return zx(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dm(t.type,t.memoizedProps)),e&&(e=pn)){if(gm(t))throw N_(),Error(fe(418));for(;e;)A_(t,e),e=Bo(e.nextSibling)}if(zx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pn=Bo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=xn?Bo(t.stateNode.nextSibling):null;return!0}function N_(){for(var t=pn;t;)t=Bo(t.nextSibling)}function Ol(){pn=xn=null,Qt=!1}function Zv(t){oi===null?oi=[t]:oi.push(t)}var nP=io.ReactCurrentBatchConfig;function _c(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,t))}return t}function ih(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bx(t){var e=t._init;return e(t._payload)}function F_(t){function e(v,b){if(t){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function r(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Vo(v,b),v.index=0,v.sibling=null,v}function o(v,b,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,b,x,w){return b===null||b.tag!==6?(b=G0(x,v.mode,w),b.return=v,b):(b=i(b,x),b.return=v,b)}function l(v,b,x,w){var S=x.type;return S===nl?d(v,b,x.props.children,w,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ko&&Bx(S)===b.type)?(w=i(b,x.props),w.ref=_c(v,b,x),w.return=v,w):(w=nf(x.type,x.key,x.props,null,v.mode,w),w.ref=_c(v,b,x),w.return=v,w)}function c(v,b,x,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=q0(x,v.mode,w),b.return=v,b):(b=i(b,x.children||[]),b.return=v,b)}function d(v,b,x,w,S){return b===null||b.tag!==7?(b=Ia(x,v.mode,w,S),b.return=v,b):(b=i(b,x),b.return=v,b)}function h(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=G0(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kd:return x=nf(b.type,b.key,b.props,null,v.mode,x),x.ref=_c(v,null,b),x.return=v,x;case rl:return b=q0(b,v.mode,x),b.return=v,b;case ko:var w=b._init;return h(v,w(b._payload),x)}if(Hc(b)||bc(b))return b=Ia(b,v.mode,x,null),b.return=v,b;ih(v,b)}return null}function f(v,b,x,w){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:s(v,b,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kd:return x.key===S?l(v,b,x,w):null;case rl:return x.key===S?c(v,b,x,w):null;case ko:return S=x._init,f(v,b,S(x._payload),w)}if(Hc(x)||bc(x))return S!==null?null:d(v,b,x,w,null);ih(v,x)}return null}function p(v,b,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,s(b,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kd:return v=v.get(w.key===null?x:w.key)||null,l(b,v,w,S);case rl:return v=v.get(w.key===null?x:w.key)||null,c(b,v,w,S);case ko:var k=w._init;return p(v,b,x,k(w._payload),S)}if(Hc(w)||bc(w))return v=v.get(x)||null,d(b,v,w,S,null);ih(b,w)}return null}function g(v,b,x,w){for(var S=null,k=null,C=b,P=b=0,E=null;C!==null&&P<x.length;P++){C.index>P?(E=C,C=null):E=C.sibling;var R=f(v,C,x[P],w);if(R===null){C===null&&(C=E);break}t&&C&&R.alternate===null&&e(v,C),b=o(R,b,P),k===null?S=R:k.sibling=R,k=R,C=E}if(P===x.length)return r(v,C),Qt&&wa(v,P),S;if(C===null){for(;P<x.length;P++)C=h(v,x[P],w),C!==null&&(b=o(C,b,P),k===null?S=C:k.sibling=C,k=C);return Qt&&wa(v,P),S}for(C=n(v,C);P<x.length;P++)E=p(C,v,P,x[P],w),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?P:E.key),b=o(E,b,P),k===null?S=E:k.sibling=E,k=E);return t&&C.forEach(function(N){return e(v,N)}),Qt&&wa(v,P),S}function m(v,b,x,w){var S=bc(x);if(typeof S!="function")throw Error(fe(150));if(x=S.call(x),x==null)throw Error(fe(151));for(var k=S=null,C=b,P=b=0,E=null,R=x.next();C!==null&&!R.done;P++,R=x.next()){C.index>P?(E=C,C=null):E=C.sibling;var N=f(v,C,R.value,w);if(N===null){C===null&&(C=E);break}t&&C&&N.alternate===null&&e(v,C),b=o(N,b,P),k===null?S=N:k.sibling=N,k=N,C=E}if(R.done)return r(v,C),Qt&&wa(v,P),S;if(C===null){for(;!R.done;P++,R=x.next())R=h(v,R.value,w),R!==null&&(b=o(R,b,P),k===null?S=R:k.sibling=R,k=R);return Qt&&wa(v,P),S}for(C=n(v,C);!R.done;P++,R=x.next())R=p(C,v,P,R.value,w),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?P:R.key),b=o(R,b,P),k===null?S=R:k.sibling=R,k=R);return t&&C.forEach(function(T){return e(v,T)}),Qt&&wa(v,P),S}function y(v,b,x,w){if(typeof x=="object"&&x!==null&&x.type===nl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Kd:e:{for(var S=x.key,k=b;k!==null;){if(k.key===S){if(S=x.type,S===nl){if(k.tag===7){r(v,k.sibling),b=i(k,x.props.children),b.return=v,v=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ko&&Bx(S)===k.type){r(v,k.sibling),b=i(k,x.props),b.ref=_c(v,k,x),b.return=v,v=b;break e}r(v,k);break}else e(v,k);k=k.sibling}x.type===nl?(b=Ia(x.props.children,v.mode,w,x.key),b.return=v,v=b):(w=nf(x.type,x.key,x.props,null,v.mode,w),w.ref=_c(v,b,x),w.return=v,v=w)}return a(v);case rl:e:{for(k=x.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(v,b.sibling),b=i(b,x.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else e(v,b);b=b.sibling}b=q0(x,v.mode,w),b.return=v,v=b}return a(v);case ko:return k=x._init,y(v,b,k(x._payload),w)}if(Hc(x))return g(v,b,x,w);if(bc(x))return m(v,b,x,w);ih(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,x),b.return=v,v=b):(r(v,b),b=G0(x,v.mode,w),b.return=v,v=b),a(v)):r(v,b)}return y}var Al=F_(!0),D_=F_(!1),Pf=na(null),Of=null,dl=null,Yv=null;function Jv(){Yv=dl=Of=null}function Qv(t){var e=Pf.current;Kt(Pf),t._currentValue=e}function vm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Sl(t,e){Of=t,Yv=dl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Yv!==t)if(t={context:t,memoizedValue:e,next:null},dl===null){if(Of===null)throw Error(fe(308));dl=t,Of.dependencies={lanes:0,firstContext:t}}else dl=dl.next=t;return e}var Ra=null;function $v(t){Ra===null?Ra=[t]:Ra.push(t)}function I_(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$v(e)):(r.next=i.next,i.next=r),e.interleaved=r,ro(t,n)}function ro(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _o=!1;function ey(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ro(t,r)}return i=n.interleaved,i===null?(e.next=e,$v(n)):(e.next=i.next,i.next=e),n.interleaved=e,ro(t,r)}function Jh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zv(t,r)}}function Ux(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Af(t,e,r,n){var i=t.updateQueue;_o=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;a=0,d=c=l=null,s=o;do{var f=s.lane,p=s.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,m=s;switch(f=e,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=nr({},h,f);break e;case 2:_o=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ha|=a,t.lanes=a,t.memoizedState=h}}function Hx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var cd={},Ti=na(cd),Iu=na(cd),Mu=na(cd);function Pa(t){if(t===cd)throw Error(fe(174));return t}function ty(t,e){switch(Bt(Mu,e),Bt(Iu,t),Bt(Ti,cd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jg(e,t)}Kt(Ti),Bt(Ti,e)}function Nl(){Kt(Ti),Kt(Iu),Kt(Mu)}function L_(t){Pa(Mu.current);var e=Pa(Ti.current),r=Jg(e,t.type);e!==r&&(Bt(Iu,t),Bt(Ti,r))}function ry(t){Iu.current===t&&(Kt(Ti),Kt(Iu))}var tr=na(0);function Nf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z0=[];function ny(){for(var t=0;t<z0.length;t++)z0[t]._workInProgressVersionPrimary=null;z0.length=0}var Qh=io.ReactCurrentDispatcher,B0=io.ReactCurrentBatchConfig,Ua=0,rr=null,mr=null,_r=null,Ff=!1,su=!1,Lu=0,iP=0;function Dr(){throw Error(fe(321))}function iy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!di(t[r],e[r]))return!1;return!0}function oy(t,e,r,n,i,o){if(Ua=o,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qh.current=t===null||t.memoizedState===null?lP:cP,t=r(n,i),su){o=0;do{if(su=!1,Lu=0,25<=o)throw Error(fe(301));o+=1,_r=mr=null,e.updateQueue=null,Qh.current=uP,t=r(n,i)}while(su)}if(Qh.current=Df,e=mr!==null&&mr.next!==null,Ua=0,_r=mr=rr=null,Ff=!1,e)throw Error(fe(300));return t}function ay(){var t=Lu!==0;return Lu=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?rr.memoizedState=_r=t:_r=_r.next=t,_r}function Hn(){if(mr===null){var t=rr.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=_r===null?rr.memoizedState:_r.next;if(e!==null)_r=e,mr=t;else{if(t===null)throw Error(fe(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},_r===null?rr.memoizedState=_r=t:_r=_r.next=t}return _r}function zu(t,e){return typeof e=="function"?e(t):e}function U0(t){var e=Hn(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=mr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((Ua&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,a=n):l=l.next=h,rr.lanes|=d,Ha|=d}c=c.next}while(c!==null&&c!==o);l===null?a=n:l.next=s,di(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,rr.lanes|=o,Ha|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function H0(t){var e=Hn(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);di(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function z_(){}function B_(t,e){var r=rr,n=Hn(),i=e(),o=!di(n.memoizedState,i);if(o&&(n.memoizedState=i,tn=!0),n=n.queue,sy(W_.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||_r!==null&&_r.memoizedState.tag&1){if(r.flags|=2048,Bu(9,H_.bind(null,r,n,i,e),void 0,null),jr===null)throw Error(fe(349));Ua&30||U_(r,e,i)}return i}function U_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function H_(t,e,r,n){e.value=r,e.getSnapshot=n,V_(e)&&G_(t)}function W_(t,e,r){return r(function(){V_(e)&&G_(t)})}function V_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!di(t,r)}catch{return!0}}function G_(t){var e=ro(t,1);e!==null&&ci(e,t,1,-1)}function Wx(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:t},e.queue=t,t=t.dispatch=sP.bind(null,rr,t),[e.memoizedState,t]}function Bu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function q_(){return Hn().memoizedState}function $h(t,e,r,n){var i=Si();rr.flags|=t,i.memoizedState=Bu(1|e,r,void 0,n===void 0?null:n)}function _p(t,e,r,n){var i=Hn();n=n===void 0?null:n;var o=void 0;if(mr!==null){var a=mr.memoizedState;if(o=a.destroy,n!==null&&iy(n,a.deps)){i.memoizedState=Bu(e,r,o,n);return}}rr.flags|=t,i.memoizedState=Bu(1|e,r,o,n)}function Vx(t,e){return $h(8390656,8,t,e)}function sy(t,e){return _p(2048,8,t,e)}function K_(t,e){return _p(4,2,t,e)}function X_(t,e){return _p(4,4,t,e)}function Z_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y_(t,e,r){return r=r!=null?r.concat([t]):null,_p(4,4,Z_.bind(null,e,t),r)}function ly(){}function J_(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Q_(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $_(t,e,r){return Ua&21?(di(r,e)||(r=i_(),rr.lanes|=r,Ha|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function oP(t,e){var r=Rt;Rt=r!==0&&4>r?r:4,t(!0);var n=B0.transition;B0.transition={};try{t(!1),e()}finally{Rt=r,B0.transition=n}}function eC(){return Hn().memoizedState}function aP(t,e,r){var n=Wo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tC(t))rC(e,r);else if(r=I_(t,e,r,n),r!==null){var i=qr();ci(r,t,n,i),nC(r,e,n)}}function sP(t,e,r){var n=Wo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tC(t))rC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,di(s,a)){var l=e.interleaved;l===null?(i.next=i,$v(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=I_(t,e,i,n),r!==null&&(i=qr(),ci(r,t,n,i),nC(r,e,n))}}function tC(t){var e=t.alternate;return t===rr||e!==null&&e===rr}function rC(t,e){su=Ff=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function nC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zv(t,r)}}var Df={readContext:Un,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},lP={readContext:Un,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:Vx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$h(4194308,4,Z_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $h(4194308,4,t,e)},useInsertionEffect:function(t,e){return $h(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=aP.bind(null,rr,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:Wx,useDebugValue:ly,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=Wx(!1),e=t[0];return t=oP.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=rr,i=Si();if(Qt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=e(),jr===null)throw Error(fe(349));Ua&30||U_(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Vx(W_.bind(null,n,o,t),[t]),n.flags|=2048,Bu(9,H_.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Si(),e=jr.identifierPrefix;if(Qt){var r=Ki,n=qi;r=(n&~(1<<32-li(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Lu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iP++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cP={readContext:Un,useCallback:J_,useContext:Un,useEffect:sy,useImperativeHandle:Y_,useInsertionEffect:K_,useLayoutEffect:X_,useMemo:Q_,useReducer:U0,useRef:q_,useState:function(){return U0(zu)},useDebugValue:ly,useDeferredValue:function(t){var e=Hn();return $_(e,mr.memoizedState,t)},useTransition:function(){var t=U0(zu)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:z_,useSyncExternalStore:B_,useId:eC,unstable_isNewReconciler:!1},uP={readContext:Un,useCallback:J_,useContext:Un,useEffect:sy,useImperativeHandle:Y_,useInsertionEffect:K_,useLayoutEffect:X_,useMemo:Q_,useReducer:H0,useRef:q_,useState:function(){return H0(zu)},useDebugValue:ly,useDeferredValue:function(t){var e=Hn();return mr===null?e.memoizedState=t:$_(e,mr.memoizedState,t)},useTransition:function(){var t=H0(zu)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:z_,useSyncExternalStore:B_,useId:eC,unstable_isNewReconciler:!1};function ti(t,e){if(t&&t.defaultProps){e=nr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ym(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:nr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cp={isMounted:function(t){return(t=t._reactInternals)?Ja(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qr(),i=Wo(t),o=Zi(n,i);o.payload=e,r!=null&&(o.callback=r),e=Uo(t,o,i),e!==null&&(ci(e,t,i,n),Jh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qr(),i=Wo(t),o=Zi(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Uo(t,o,i),e!==null&&(ci(e,t,i,n),Jh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qr(),n=Wo(t),i=Zi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Uo(t,i,n),e!==null&&(ci(e,t,n,r),Jh(e,t,n))}};function Gx(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Au(r,n)||!Au(i,o):!0}function iC(t,e,r){var n=!1,i=Zo,o=e.contextType;return typeof o=="object"&&o!==null?o=Un(o):(i=on(e)?za:Br.current,n=e.contextTypes,o=(n=n!=null)?Pl(t,i):Zo),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function qx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function bm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ey(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Un(o):(o=on(e)?za:Br.current,i.context=Pl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ym(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cp.enqueueReplaceState(i,i.state,null),Af(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fl(t,e){try{var r="",n=e;do r+=L3(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function W0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dP=typeof WeakMap=="function"?WeakMap:Map;function oC(t,e,r){r=Zi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Mf||(Mf=!0,Pm=n),xm(t,e)},r}function aC(t,e,r){r=Zi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){xm(t,e),typeof n!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Kx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new dP;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=CP.bind(null,t,e,r),e.then(t,t))}function Xx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zi(-1,1),e.tag=2,Uo(r,e,1))),r.lanes|=1),t)}var hP=io.ReactCurrentOwner,tn=!1;function Wr(t,e,r,n){e.child=t===null?D_(e,null,r,n):Al(e,t.child,r,n)}function Yx(t,e,r,n,i){r=r.render;var o=e.ref;return Sl(e,i),n=oy(t,e,r,n,o,i),r=ay(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):(Qt&&r&&Kv(e),e.flags|=1,Wr(t,e,n,i),e.child)}function Jx(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!my(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,sC(t,e,o,n,i)):(t=nf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Au,r(a,n)&&t.ref===e.ref)return no(t,e,i)}return e.flags|=1,t=Vo(o,n),t.ref=e.ref,t.return=e,e.child=t}function sC(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Au(o,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,no(t,e,i)}return wm(t,e,r,n,i)}function lC(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(fl,dn),dn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(fl,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Bt(fl,dn),dn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Bt(fl,dn),dn|=n;return Wr(t,e,i,r),e.child}function cC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wm(t,e,r,n,i){var o=on(r)?za:Br.current;return o=Pl(e,o),Sl(e,i),r=oy(t,e,r,n,o,i),n=ay(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,no(t,e,i)):(Qt&&n&&Kv(e),e.flags|=1,Wr(t,e,r,i),e.child)}function Qx(t,e,r,n,i){if(on(r)){var o=!0;Ef(e)}else o=!1;if(Sl(e,i),e.stateNode===null)ef(t,e),iC(e,r,n),bm(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=on(r)?za:Br.current,c=Pl(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&qx(e,a,n,c),_o=!1;var f=e.memoizedState;a.state=f,Af(e,n,a,i),l=e.memoizedState,s!==n||f!==l||nn.current||_o?(typeof d=="function"&&(ym(e,r,d,n),l=e.memoizedState),(s=_o||Gx(e,r,s,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,M_(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ti(e.type,s),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=on(r)?za:Br.current,l=Pl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||f!==l)&&qx(e,a,n,l),_o=!1,f=e.memoizedState,a.state=f,Af(e,n,a,i);var g=e.memoizedState;s!==h||f!==g||nn.current||_o?(typeof p=="function"&&(ym(e,r,p,n),g=e.memoizedState),(c=_o||Gx(e,r,c,n,f,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Sm(t,e,r,n,o,i)}function Sm(t,e,r,n,i,o){cC(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Mx(e,r,!1),no(t,e,o);n=e.stateNode,hP.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Al(e,t.child,null,o),e.child=Al(e,null,s,o)):Wr(t,e,s,o),e.memoizedState=n.state,i&&Mx(e,r,!0),e.child}function uC(t){var e=t.stateNode;e.pendingContext?Ix(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ix(t,e.context,!1),ty(t,e.containerInfo)}function $x(t,e,r,n,i){return Ol(),Zv(i),e.flags|=256,Wr(t,e,r,n),e.child}var km={dehydrated:null,treeContext:null,retryLane:0};function _m(t){return{baseLanes:t,cachePool:null,transitions:null}}function dC(t,e,r){var n=e.pendingProps,i=tr.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bt(tr,i&1),t===null)return mm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Tp(a,n,0,null),t=Ia(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=_m(r),e.memoizedState=km,t):cy(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return fP(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Vo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Vo(s,o):(o=Ia(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?_m(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=km,n}return o=t.child,t=o.sibling,n=Vo(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function cy(t,e){return e=Tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oh(t,e,r,n){return n!==null&&Zv(n),Al(e,t.child,null,r),t=cy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fP(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=W0(Error(fe(422))),oh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Tp({mode:"visible",children:n.children},i,0,null),o=Ia(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Al(e,t.child,null,a),e.child.memoizedState=_m(a),e.memoizedState=km,o);if(!(e.mode&1))return oh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(fe(419)),n=W0(o,n,void 0),oh(t,e,a,n)}if(s=(a&t.childLanes)!==0,tn||s){if(n=jr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ro(t,i),ci(n,t,i,-1))}return gy(),n=W0(Error(fe(421))),oh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,pn=Bo(i.nextSibling),xn=e,Qt=!0,oi=null,t!==null&&(Pn[On++]=qi,Pn[On++]=Ki,Pn[On++]=Ba,qi=t.id,Ki=t.overflow,Ba=e),e=cy(e,n.children),e.flags|=4096,e)}function e1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vm(t.return,e,r)}function V0(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function hC(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Wr(t,e,n.children,r),n=tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e1(t,r,e);else if(t.tag===19)e1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Bt(tr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Nf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),V0(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}V0(e,!0,r,null,o);break;case"together":V0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function no(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ha|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,r=Vo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function pP(t,e,r){switch(e.tag){case 3:uC(e),Ol();break;case 5:L_(e);break;case 1:on(e.type)&&Ef(e);break;case 4:ty(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Bt(Pf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Bt(tr,tr.current&1),e.flags|=128,null):r&e.child.childLanes?dC(t,e,r):(Bt(tr,tr.current&1),t=no(t,e,r),t!==null?t.sibling:null);Bt(tr,tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return hC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(tr,tr.current),n)break;return null;case 22:case 23:return e.lanes=0,lC(t,e,r)}return no(t,e,r)}var fC,Cm,pC,gC;fC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cm=function(){};pC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Pa(Ti.current);var o=null;switch(r){case"input":i=Kg(t,i),n=Kg(t,n),o=[];break;case"select":i=nr({},i,{value:void 0}),n=nr({},n,{value:void 0}),o=[];break;case"textarea":i=Yg(t,i),n=Yg(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Cf)}Qg(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cu.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};gC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Cc(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function gP(t,e,r){var n=e.pendingProps;switch(Xv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return on(e.type)&&jf(),Ir(e),null;case 3:return n=e.stateNode,Nl(),Kt(nn),Kt(Br),ny(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oi!==null&&(Nm(oi),oi=null))),Cm(t,e),Ir(e),null;case 5:ry(e);var i=Pa(Mu.current);if(r=e.type,t!==null&&e.stateNode!=null)pC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(fe(166));return Ir(e),null}if(t=Pa(Ti.current),nh(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[ki]=e,n[Du]=o,t=(e.mode&1)!==0,r){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(i=0;i<Vc.length;i++)Wt(Vc[i],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":cx(n,o),Wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Wt("invalid",n);break;case"textarea":dx(n,o),Wt("invalid",n)}Qg(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&rh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&rh(n.textContent,s,t),i=["children",""+s]):Cu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Wt("scroll",n)}switch(r){case"input":Xd(n),ux(n,o,!0);break;case"textarea":Xd(n),hx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Cf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ki]=e,t[Du]=n,fC(t,e,!1,!1),e.stateNode=t;e:{switch(a=$g(r,n),r){case"dialog":Wt("cancel",t),Wt("close",t),i=n;break;case"iframe":case"object":case"embed":Wt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Vc.length;i++)Wt(Vc[i],t);i=n;break;case"source":Wt("error",t),i=n;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),i=n;break;case"details":Wt("toggle",t),i=n;break;case"input":cx(t,n),i=Kg(t,n),Wt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=nr({},n,{value:void 0}),Wt("invalid",t);break;case"textarea":dx(t,n),i=Yg(t,n),Wt("invalid",t);break;default:i=n}Qg(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?qk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vk(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ju(t,l):typeof l=="number"&&ju(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Wt("scroll",t):l!=null&&Nv(t,o,l,a))}switch(r){case"input":Xd(t),ux(t,n,!1);break;case"textarea":Xd(t),hx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Xo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?yl(t,!!n.multiple,o,!1):n.defaultValue!=null&&yl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(t&&e.stateNode!=null)gC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(fe(166));if(r=Pa(Mu.current),Pa(Ti.current),nh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ki]=e,(o=n.nodeValue!==r)&&(t=xn,t!==null))switch(t.tag){case 3:rh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rh(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ki]=e,e.stateNode=n}return Ir(e),null;case 13:if(Kt(tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&pn!==null&&e.mode&1&&!(e.flags&128))N_(),Ol(),e.flags|=98560,o=!1;else if(o=nh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(fe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[ki]=e}else Ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),o=!1}else oi!==null&&(Nm(oi),oi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?wr===0&&(wr=3):gy())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return Nl(),Cm(t,e),t===null&&Nu(e.stateNode.containerInfo),Ir(e),null;case 10:return Qv(e.type._context),Ir(e),null;case 17:return on(e.type)&&jf(),Ir(e),null;case 19:if(Kt(tr),o=e.memoizedState,o===null)return Ir(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Cc(o,!1);else{if(wr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nf(t),a!==null){for(e.flags|=128,Cc(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Bt(tr,tr.current&1|2),e.child}t=t.sibling}o.tail!==null&&ar()>Dl&&(e.flags|=128,n=!0,Cc(o,!1),e.lanes=4194304)}else{if(!n)if(t=Nf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Cc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Qt)return Ir(e),null}else 2*ar()-o.renderingStartTime>Dl&&r!==1073741824&&(e.flags|=128,n=!0,Cc(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ar(),e.sibling=null,r=tr.current,Bt(tr,n?r&1|2:r&1),e):(Ir(e),null);case 22:case 23:return py(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dn&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function mP(t,e){switch(Xv(e),e.tag){case 1:return on(e.type)&&jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nl(),Kt(nn),Kt(Br),ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ry(e),null;case 13:if(Kt(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kt(tr),null;case 4:return Nl(),null;case 10:return Qv(e.type._context),null;case 22:case 23:return py(),null;case 24:return null;default:return null}}var ah=!1,zr=!1,vP=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function hl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ir(t,e,n)}else r.current=null}function jm(t,e,r){try{r()}catch(n){ir(t,e,n)}}var t1=!1;function yP(t,e){if(cm=Sf,t=x_(),qv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(s=a+i),h!==o||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(s=a),f===o&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(um={focusedElem:t,selectionRange:r},Sf=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:ti(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(w){ir(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return g=t1,t1=!1,g}function lu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&jm(e,r,o)}i=i.next}while(i!==n)}}function jp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Em(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function mC(t){var e=t.alternate;e!==null&&(t.alternate=null,mC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ki],delete e[Du],delete e[fm],delete e[eP],delete e[tP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vC(t){return t.tag===5||t.tag===3||t.tag===4}function r1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Cf));else if(n!==4&&(t=t.child,t!==null))for(Tm(t,e,r),t=t.sibling;t!==null;)Tm(t,e,r),t=t.sibling}function Rm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rm(t,e,r),t=t.sibling;t!==null;)Rm(t,e,r),t=t.sibling}var Tr=null,ni=!1;function vo(t,e,r){for(r=r.child;r!==null;)yC(t,e,r),r=r.sibling}function yC(t,e,r){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(yp,r)}catch{}switch(r.tag){case 5:zr||hl(r,e);case 6:var n=Tr,i=ni;Tr=null,vo(t,e,r),Tr=n,ni=i,Tr!==null&&(ni?(t=Tr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Tr.removeChild(r.stateNode));break;case 18:Tr!==null&&(ni?(t=Tr,r=r.stateNode,t.nodeType===8?M0(t.parentNode,r):t.nodeType===1&&M0(t,r),Pu(t)):M0(Tr,r.stateNode));break;case 4:n=Tr,i=ni,Tr=r.stateNode.containerInfo,ni=!0,vo(t,e,r),Tr=n,ni=i;break;case 0:case 11:case 14:case 15:if(!zr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&jm(r,e,a),i=i.next}while(i!==n)}vo(t,e,r);break;case 1:if(!zr&&(hl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ir(r,e,s)}vo(t,e,r);break;case 21:vo(t,e,r);break;case 22:r.mode&1?(zr=(n=zr)||r.memoizedState!==null,vo(t,e,r),zr=n):vo(t,e,r);break;default:vo(t,e,r)}}function n1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vP),e.forEach(function(n){var i=EP.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Tr=s.stateNode,ni=!1;break e;case 3:Tr=s.stateNode.containerInfo,ni=!0;break e;case 4:Tr=s.stateNode.containerInfo,ni=!0;break e}s=s.return}if(Tr===null)throw Error(fe(160));yC(o,a,i),Tr=null,ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ir(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bC(e,t),e=e.sibling}function bC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),vi(t),n&4){try{lu(3,t,t.return),jp(3,t)}catch(m){ir(t,t.return,m)}try{lu(5,t,t.return)}catch(m){ir(t,t.return,m)}}break;case 1:Zn(e,t),vi(t),n&512&&r!==null&&hl(r,r.return);break;case 5:if(Zn(e,t),vi(t),n&512&&r!==null&&hl(r,r.return),t.flags&32){var i=t.stateNode;try{ju(i,"")}catch(m){ir(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Uk(i,o),$g(s,a);var c=$g(s,o);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?qk(i,h):d==="dangerouslySetInnerHTML"?Vk(i,h):d==="children"?ju(i,h):Nv(i,d,h,c)}switch(s){case"input":Xg(i,o);break;case"textarea":Hk(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?yl(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?yl(i,!!o.multiple,o.defaultValue,!0):yl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Du]=o}catch(m){ir(t,t.return,m)}}break;case 6:if(Zn(e,t),vi(t),n&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){ir(t,t.return,m)}}break;case 3:if(Zn(e,t),vi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pu(e.containerInfo)}catch(m){ir(t,t.return,m)}break;case 4:Zn(e,t),vi(t);break;case 13:Zn(e,t),vi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hy=ar())),n&4&&n1(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(zr=(c=zr)||d,Zn(e,t),zr=c):Zn(e,t),vi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Ce=t,d=t.child;d!==null;){for(h=Ce=d;Ce!==null;){switch(f=Ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:lu(4,f,f.return);break;case 1:hl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ir(n,r,m)}}break;case 5:hl(f,f.return);break;case 22:if(f.memoizedState!==null){o1(h);continue}}p!==null?(p.return=f,Ce=p):o1(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Gk("display",a))}catch(m){ir(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){ir(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zn(e,t),vi(t),n&4&&n1(t);break;case 21:break;default:Zn(e,t),vi(t)}}function vi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vC(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ju(i,""),n.flags&=-33);var o=r1(t);Rm(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=r1(t);Tm(t,s,a);break;default:throw Error(fe(161))}}catch(l){ir(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bP(t,e,r){Ce=t,xC(t)}function xC(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var i=Ce,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ah;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||zr;s=ah;var c=zr;if(ah=a,(zr=l)&&!c)for(Ce=i;Ce!==null;)a=Ce,l=a.child,a.tag===22&&a.memoizedState!==null?a1(i):l!==null?(l.return=a,Ce=l):a1(i);for(;o!==null;)Ce=o,xC(o),o=o.sibling;Ce=i,ah=s,zr=c}i1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ce=o):i1(t)}}function i1(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zr||jp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!zr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ti(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Hx(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Hx(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}zr||e.flags&512&&Em(e)}catch(f){ir(e,e.return,f)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function o1(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function a1(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{jp(4,e)}catch(l){ir(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ir(e,i,l)}}var o=e.return;try{Em(e)}catch(l){ir(e,o,l)}break;case 5:var a=e.return;try{Em(e)}catch(l){ir(e,a,l)}}}catch(l){ir(e,e.return,l)}if(e===t){Ce=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ce=s;break}Ce=e.return}}var xP=Math.ceil,If=io.ReactCurrentDispatcher,uy=io.ReactCurrentOwner,Ln=io.ReactCurrentBatchConfig,wt=0,jr=null,fr=null,Or=0,dn=0,fl=na(0),wr=0,Uu=null,Ha=0,Ep=0,dy=0,cu=null,en=null,hy=0,Dl=1/0,Ui=null,Mf=!1,Pm=null,Ho=null,sh=!1,No=null,Lf=0,uu=0,Om=null,tf=-1,rf=0;function qr(){return wt&6?ar():tf!==-1?tf:tf=ar()}function Wo(t){return t.mode&1?wt&2&&Or!==0?Or&-Or:nP.transition!==null?(rf===0&&(rf=i_()),rf):(t=Rt,t!==0||(t=window.event,t=t===void 0?16:d_(t.type)),t):1}function ci(t,e,r,n){if(50<uu)throw uu=0,Om=null,Error(fe(185));ad(t,r,n),(!(wt&2)||t!==jr)&&(t===jr&&(!(wt&2)&&(Ep|=r),wr===4&&To(t,Or)),an(t,n),r===1&&wt===0&&!(e.mode&1)&&(Dl=ar()+500,kp&&ia()))}function an(t,e){var r=t.callbackNode;nR(t,e);var n=wf(t,t===jr?Or:0);if(n===0)r!==null&&gx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&gx(r),e===1)t.tag===0?rP(s1.bind(null,t)):P_(s1.bind(null,t)),QR(function(){!(wt&6)&&ia()}),r=null;else{switch(o_(n)){case 1:r=Lv;break;case 4:r=r_;break;case 16:r=xf;break;case 536870912:r=n_;break;default:r=xf}r=TC(r,wC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function wC(t,e){if(tf=-1,rf=0,wt&6)throw Error(fe(327));var r=t.callbackNode;if(kl()&&t.callbackNode!==r)return null;var n=wf(t,t===jr?Or:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=zf(t,n);else{e=n;var i=wt;wt|=2;var o=kC();(jr!==t||Or!==e)&&(Ui=null,Dl=ar()+500,Da(t,e));do try{kP();break}catch(s){SC(t,s)}while(!0);Jv(),If.current=o,wt=i,fr!==null?e=0:(jr=null,Or=0,e=wr)}if(e!==0){if(e===2&&(i=im(t),i!==0&&(n=i,e=Am(t,i))),e===1)throw r=Uu,Da(t,0),To(t,n),an(t,ar()),r;if(e===6)To(t,n);else{if(i=t.current.alternate,!(n&30)&&!wP(i)&&(e=zf(t,n),e===2&&(o=im(t),o!==0&&(n=o,e=Am(t,o))),e===1))throw r=Uu,Da(t,0),To(t,n),an(t,ar()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(fe(345));case 2:Sa(t,en,Ui);break;case 3:if(To(t,n),(n&130023424)===n&&(e=hy+500-ar(),10<e)){if(wf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hm(Sa.bind(null,t,en,Ui),e);break}Sa(t,en,Ui);break;case 4:if(To(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-li(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xP(n/1960))-n,10<n){t.timeoutHandle=hm(Sa.bind(null,t,en,Ui),n);break}Sa(t,en,Ui);break;case 5:Sa(t,en,Ui);break;default:throw Error(fe(329))}}}return an(t,ar()),t.callbackNode===r?wC.bind(null,t):null}function Am(t,e){var r=cu;return t.current.memoizedState.isDehydrated&&(Da(t,e).flags|=256),t=zf(t,e),t!==2&&(e=en,en=r,e!==null&&Nm(e)),t}function Nm(t){en===null?en=t:en.push.apply(en,t)}function wP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!di(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(t,e){for(e&=~dy,e&=~Ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-li(e),n=1<<r;t[r]=-1,e&=~n}}function s1(t){if(wt&6)throw Error(fe(327));kl();var e=wf(t,0);if(!(e&1))return an(t,ar()),null;var r=zf(t,e);if(t.tag!==0&&r===2){var n=im(t);n!==0&&(e=n,r=Am(t,n))}if(r===1)throw r=Uu,Da(t,0),To(t,e),an(t,ar()),r;if(r===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sa(t,en,Ui),an(t,ar()),null}function fy(t,e){var r=wt;wt|=1;try{return t(e)}finally{wt=r,wt===0&&(Dl=ar()+500,kp&&ia())}}function Wa(t){No!==null&&No.tag===0&&!(wt&6)&&kl();var e=wt;wt|=1;var r=Ln.transition,n=Rt;try{if(Ln.transition=null,Rt=1,t)return t()}finally{Rt=n,Ln.transition=r,wt=e,!(wt&6)&&ia()}}function py(){dn=fl.current,Kt(fl)}function Da(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,JR(r)),fr!==null)for(r=fr.return;r!==null;){var n=r;switch(Xv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jf();break;case 3:Nl(),Kt(nn),Kt(Br),ny();break;case 5:ry(n);break;case 4:Nl();break;case 13:Kt(tr);break;case 19:Kt(tr);break;case 10:Qv(n.type._context);break;case 22:case 23:py()}r=r.return}if(jr=t,fr=t=Vo(t.current,null),Or=dn=e,wr=0,Uu=null,dy=Ep=Ha=0,en=cu=null,Ra!==null){for(e=0;e<Ra.length;e++)if(r=Ra[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Ra=null}return t}function SC(t,e){do{var r=fr;try{if(Jv(),Qh.current=Df,Ff){for(var n=rr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ff=!1}if(Ua=0,_r=mr=rr=null,su=!1,Lu=0,uy.current=null,r===null||r.return===null){wr=1,Uu=e,fr=null;break}e:{var o=t,a=r.return,s=r,l=e;if(e=Or,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xx(a);if(p!==null){p.flags&=-257,Zx(p,a,s,o,e),p.mode&1&&Kx(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Kx(o,c,e),gy();break e}l=Error(fe(426))}}else if(Qt&&s.mode&1){var y=Xx(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Zx(y,a,s,o,e),Zv(Fl(l,s));break e}}o=l=Fl(l,s),wr!==4&&(wr=2),cu===null?cu=[o]:cu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=oC(o,l,e);Ux(o,v);break e;case 1:s=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ho===null||!Ho.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=aC(o,s,e);Ux(o,w);break e}}o=o.return}while(o!==null)}CC(r)}catch(S){e=S,fr===r&&r!==null&&(fr=r=r.return);continue}break}while(!0)}function kC(){var t=If.current;return If.current=Df,t===null?Df:t}function gy(){(wr===0||wr===3||wr===2)&&(wr=4),jr===null||!(Ha&268435455)&&!(Ep&268435455)||To(jr,Or)}function zf(t,e){var r=wt;wt|=2;var n=kC();(jr!==t||Or!==e)&&(Ui=null,Da(t,e));do try{SP();break}catch(i){SC(t,i)}while(!0);if(Jv(),wt=r,If.current=n,fr!==null)throw Error(fe(261));return jr=null,Or=0,wr}function SP(){for(;fr!==null;)_C(fr)}function kP(){for(;fr!==null&&!X3();)_C(fr)}function _C(t){var e=EC(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?CC(t):fr=e,uy.current=null}function CC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=mP(r,e),r!==null){r.flags&=32767,fr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wr=6,fr=null;return}}else if(r=gP(r,e,dn),r!==null){fr=r;return}if(e=e.sibling,e!==null){fr=e;return}fr=e=t}while(e!==null);wr===0&&(wr=5)}function Sa(t,e,r){var n=Rt,i=Ln.transition;try{Ln.transition=null,Rt=1,_P(t,e,r,n)}finally{Ln.transition=i,Rt=n}return null}function _P(t,e,r,n){do kl();while(No!==null);if(wt&6)throw Error(fe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(iR(t,o),t===jr&&(fr=jr=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sh||(sh=!0,TC(xf,function(){return kl(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ln.transition,Ln.transition=null;var a=Rt;Rt=1;var s=wt;wt|=4,uy.current=null,yP(t,r),bC(r,t),VR(um),Sf=!!cm,um=cm=null,t.current=r,bP(r),Z3(),wt=s,Rt=a,Ln.transition=o}else t.current=r;if(sh&&(sh=!1,No=t,Lf=i),o=t.pendingLanes,o===0&&(Ho=null),Q3(r.stateNode),an(t,ar()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mf)throw Mf=!1,t=Pm,Pm=null,t;return Lf&1&&t.tag!==0&&kl(),o=t.pendingLanes,o&1?t===Om?uu++:(uu=0,Om=t):uu=0,ia(),null}function kl(){if(No!==null){var t=o_(Lf),e=Ln.transition,r=Rt;try{if(Ln.transition=null,Rt=16>t?16:t,No===null)var n=!1;else{if(t=No,No=null,Lf=0,wt&6)throw Error(fe(331));var i=wt;for(wt|=4,Ce=t.current;Ce!==null;){var o=Ce,a=o.child;if(Ce.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Ce=c;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:lu(8,d,o)}var h=d.child;if(h!==null)h.return=d,Ce=h;else for(;Ce!==null;){d=Ce;var f=d.sibling,p=d.return;if(mC(d),d===c){Ce=null;break}if(f!==null){f.return=p,Ce=f;break}Ce=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Ce=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ce=a;else e:for(;Ce!==null;){if(o=Ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:lu(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Ce=v;break e}Ce=o.return}}var b=t.current;for(Ce=b;Ce!==null;){a=Ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Ce=x;else e:for(a=b;Ce!==null;){if(s=Ce,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:jp(9,s)}}catch(S){ir(s,s.return,S)}if(s===a){Ce=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,Ce=w;break e}Ce=s.return}}if(wt=i,ia(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(yp,t)}catch{}n=!0}return n}finally{Rt=r,Ln.transition=e}}return!1}function l1(t,e,r){e=Fl(r,e),e=oC(t,e,1),t=Uo(t,e,1),e=qr(),t!==null&&(ad(t,1,e),an(t,e))}function ir(t,e,r){if(t.tag===3)l1(t,t,r);else for(;e!==null;){if(e.tag===3){l1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ho===null||!Ho.has(n))){t=Fl(r,t),t=aC(e,t,1),e=Uo(e,t,1),t=qr(),e!==null&&(ad(e,1,t),an(e,t));break}}e=e.return}}function CP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qr(),t.pingedLanes|=t.suspendedLanes&r,jr===t&&(Or&r)===r&&(wr===4||wr===3&&(Or&130023424)===Or&&500>ar()-hy?Da(t,0):dy|=r),an(t,e)}function jC(t,e){e===0&&(t.mode&1?(e=Jd,Jd<<=1,!(Jd&130023424)&&(Jd=4194304)):e=1);var r=qr();t=ro(t,e),t!==null&&(ad(t,e,r),an(t,r))}function jP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),jC(t,r)}function EP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(e),jC(t,r)}var EC;EC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,pP(t,e,r);tn=!!(t.flags&131072)}else tn=!1,Qt&&e.flags&1048576&&O_(e,Rf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ef(t,e),t=e.pendingProps;var i=Pl(e,Br.current);Sl(e,r),i=oy(null,e,n,t,i,r);var o=ay();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(n)?(o=!0,Ef(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ey(e),i.updater=Cp,e.stateNode=i,i._reactInternals=e,bm(e,n,t,r),e=Sm(null,e,n,!0,o,r)):(e.tag=0,Qt&&o&&Kv(e),Wr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ef(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=RP(n),t=ti(n,t),i){case 0:e=wm(null,e,n,t,r);break e;case 1:e=Qx(null,e,n,t,r);break e;case 11:e=Yx(null,e,n,t,r);break e;case 14:e=Jx(null,e,n,ti(n.type,t),r);break e}throw Error(fe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),wm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),Qx(t,e,n,i,r);case 3:e:{if(uC(e),t===null)throw Error(fe(387));n=e.pendingProps,o=e.memoizedState,i=o.element,M_(t,e),Af(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Fl(Error(fe(423)),e),e=$x(t,e,n,r,i);break e}else if(n!==i){i=Fl(Error(fe(424)),e),e=$x(t,e,n,r,i);break e}else for(pn=Bo(e.stateNode.containerInfo.firstChild),xn=e,Qt=!0,oi=null,r=D_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ol(),n===i){e=no(t,e,r);break e}Wr(t,e,n,r)}e=e.child}return e;case 5:return L_(e),t===null&&mm(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,dm(n,i)?a=null:o!==null&&dm(n,o)&&(e.flags|=32),cC(t,e),Wr(t,e,a,r),e.child;case 6:return t===null&&mm(e),null;case 13:return dC(t,e,r);case 4:return ty(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Al(e,null,n,r):Wr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),Yx(t,e,n,i,r);case 7:return Wr(t,e,e.pendingProps,r),e.child;case 8:return Wr(t,e,e.pendingProps.children,r),e.child;case 12:return Wr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Bt(Pf,n._currentValue),n._currentValue=a,o!==null)if(di(o.value,a)){if(o.children===i.children&&!nn.current){e=no(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Zi(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),vm(o.return,r,e),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(fe(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),vm(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Wr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Sl(e,r),i=Un(i),n=n(i),e.flags|=1,Wr(t,e,n,r),e.child;case 14:return n=e.type,i=ti(n,e.pendingProps),i=ti(n.type,i),Jx(t,e,n,i,r);case 15:return sC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),ef(t,e),e.tag=1,on(n)?(t=!0,Ef(e)):t=!1,Sl(e,r),iC(e,n,i),bm(e,n,i,r),Sm(null,e,n,!0,t,r);case 19:return hC(t,e,r);case 22:return lC(t,e,r)}throw Error(fe(156,e.tag))};function TC(t,e){return t_(t,e)}function TP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,r,n){return new TP(t,e,r,n)}function my(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RP(t){if(typeof t=="function")return my(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dv)return 11;if(t===Iv)return 14}return 2}function Vo(t,e){var r=t.alternate;return r===null?(r=Dn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function nf(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")my(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case nl:return Ia(r.children,i,o,e);case Fv:a=8,i|=8;break;case Wg:return t=Dn(12,r,e,i|2),t.elementType=Wg,t.lanes=o,t;case Vg:return t=Dn(13,r,e,i),t.elementType=Vg,t.lanes=o,t;case Gg:return t=Dn(19,r,e,i),t.elementType=Gg,t.lanes=o,t;case Lk:return Tp(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ik:a=10;break e;case Mk:a=9;break e;case Dv:a=11;break e;case Iv:a=14;break e;case ko:a=16,n=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Dn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Ia(t,e,r,n){return t=Dn(7,t,n,e),t.lanes=r,t}function Tp(t,e,r,n){return t=Dn(22,t,n,e),t.elementType=Lk,t.lanes=r,t.stateNode={isHidden:!1},t}function G0(t,e,r){return t=Dn(6,t,null,e),t.lanes=r,t}function q0(t,e,r){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PP(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=j0(0),this.expirationTimes=j0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vy(t,e,r,n,i,o,a,s,l){return t=new PP(t,e,r,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Dn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ey(o),t}function OP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function RC(t){if(!t)return Zo;t=t._reactInternals;e:{if(Ja(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var r=t.type;if(on(r))return R_(t,r,e)}return e}function PC(t,e,r,n,i,o,a,s,l){return t=vy(r,n,!0,t,i,o,a,s,l),t.context=RC(null),r=t.current,n=qr(),i=Wo(r),o=Zi(n,i),o.callback=e??null,Uo(r,o,i),t.current.lanes=i,ad(t,i,n),an(t,n),t}function Rp(t,e,r,n){var i=e.current,o=qr(),a=Wo(i);return r=RC(r),e.context===null?e.context=r:e.pendingContext=r,e=Zi(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Uo(i,e,a),t!==null&&(ci(t,i,a,o),Jh(t,i,a)),a}function Bf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function yy(t,e){c1(t,e),(t=t.alternate)&&c1(t,e)}function AP(){return null}var OC=typeof reportError=="function"?reportError:function(t){console.error(t)};function by(t){this._internalRoot=t}Pp.prototype.render=by.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Rp(t,e,null,null)};Pp.prototype.unmount=by.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wa(function(){Rp(null,t,null,null)}),e[to]=null}};function Pp(t){this._internalRoot=t}Pp.prototype.unstable_scheduleHydration=function(t){if(t){var e=l_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Eo.length&&e!==0&&e<Eo[r].priority;r++);Eo.splice(r,0,t),r===0&&u_(t)}};function xy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Op(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u1(){}function NP(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=Bf(a);o.call(c)}}var a=PC(e,n,t,0,null,!1,!1,"",u1);return t._reactRootContainer=a,t[to]=a.current,Nu(t.nodeType===8?t.parentNode:t),Wa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Bf(l);s.call(c)}}var l=vy(t,0,!1,null,null,!1,!1,"",u1);return t._reactRootContainer=l,t[to]=l.current,Nu(t.nodeType===8?t.parentNode:t),Wa(function(){Rp(e,l,r,n)}),l}function Ap(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Bf(a);s.call(l)}}Rp(e,a,t,i)}else a=NP(r,e,t,i,n);return Bf(a)}a_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Wc(e.pendingLanes);r!==0&&(zv(e,r|1),an(e,ar()),!(wt&6)&&(Dl=ar()+500,ia()))}break;case 13:Wa(function(){var n=ro(t,1);if(n!==null){var i=qr();ci(n,t,1,i)}}),yy(t,1)}};Bv=function(t){if(t.tag===13){var e=ro(t,134217728);if(e!==null){var r=qr();ci(e,t,134217728,r)}yy(t,134217728)}};s_=function(t){if(t.tag===13){var e=Wo(t),r=ro(t,e);if(r!==null){var n=qr();ci(r,t,e,n)}yy(t,e)}};l_=function(){return Rt};c_=function(t,e){var r=Rt;try{return Rt=t,e()}finally{Rt=r}};tm=function(t,e,r){switch(e){case"input":if(Xg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Sp(n);if(!i)throw Error(fe(90));Bk(n),Xg(n,i)}}}break;case"textarea":Hk(t,r);break;case"select":e=r.value,e!=null&&yl(t,!!r.multiple,e,!1)}};Zk=fy;Yk=Wa;var FP={usingClientEntryPoint:!1,Events:[ld,sl,Sp,Kk,Xk,fy]},jc={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DP={bundleType:jc.bundleType,version:jc.version,rendererPackageName:jc.rendererPackageName,rendererConfig:jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$k(t),t===null?null:t.stateNode},findFiberByHostInstance:jc.findFiberByHostInstance||AP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{yp=lh.inject(DP),Ei=lh}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FP;Cn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xy(e))throw Error(fe(200));return OP(t,e,null,r)};Cn.createRoot=function(t,e){if(!xy(t))throw Error(fe(299));var r=!1,n="",i=OC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vy(t,1,!1,null,null,r,!1,n,i),t[to]=e.current,Nu(t.nodeType===8?t.parentNode:t),new by(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=$k(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return Wa(t)};Cn.hydrate=function(t,e,r){if(!Op(e))throw Error(fe(200));return Ap(null,t,e,!0,r)};Cn.hydrateRoot=function(t,e,r){if(!xy(t))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=OC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=PC(e,null,t,1,r??null,i,!1,o,a),t[to]=e.current,Nu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Pp(e)};Cn.render=function(t,e,r){if(!Op(e))throw Error(fe(200));return Ap(null,t,e,!1,r)};Cn.unmountComponentAtNode=function(t){if(!Op(t))throw Error(fe(40));return t._reactRootContainer?(Wa(function(){Ap(null,null,t,!1,function(){t._reactRootContainer=null,t[to]=null})}),!0):!1};Cn.unstable_batchedUpdates=fy;Cn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Op(r))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Ap(t,e,r,!1,n)};Cn.version="18.3.1-next-f1338f8080-20240426";function AC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AC)}catch(t){console.error(t)}}AC(),Ak.exports=Cn;var IP=Ak.exports,d1=IP;Ug.createRoot=d1.createRoot,Ug.hydrateRoot=d1.hydrateRoot;var Fm=function(t,e){return Fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Fm(t,e)};function NC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Uf=function(){return Uf=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Uf.apply(this,arguments)};function Wl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function FC(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function DC(t,e){return function(r,n){e(r,n,t)}}function IC(t,e,r,n,i,o){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,f=!1,p=r.length-1;p>=0;p--){var g={};for(var m in n)g[m]=m==="access"?{}:n[m];for(var m in n.access)g.access[m]=n.access[m];g.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(v||null))};var y=(0,r[p])(s==="accessor"?{get:d.get,set:d.set}:d[l],g);if(s==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=a(y.get))&&(d.get=h),(h=a(y.set))&&(d.set=h),(h=a(y.init))&&i.unshift(h)}else(h=a(y))&&(s==="field"?i.unshift(h):d[l]=h)}c&&Object.defineProperty(c,n.name,d),f=!0}function MC(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function LC(t){return typeof t=="symbol"?t:"".concat(t)}function zC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function BC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Pe(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})}function UC(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Np=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function HC(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Np(e,t,r)}function Hf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wy(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function WC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(wy(arguments[e]));return t}function VC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function GC(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Il(t){return this instanceof Il?(this.v=t,this):new Il(t)}function qC(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(g){return Promise.resolve(g).then(p,h)}}function s(p,g){n[p]&&(i[p]=function(m){return new Promise(function(y,v){o.push([p,m,y,v])>1||l(p,m)})},g&&(i[p]=g(i[p])))}function l(p,g){try{c(n[p](g))}catch(m){f(o[0][3],m)}}function c(p){p.value instanceof Il?Promise.resolve(p.value.v).then(d,h):f(o[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function f(p,g){p(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function KC(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(a){return(r=!r)?{value:Il(t[i](a)),done:!1}:o?o(a):a}:o}}function XC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Hf=="function"?Hf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}function ZC(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var MP=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Dm=function(t){return Dm=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Dm(t)};function YC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Dm(t),n=0;n<r.length;n++)r[n]!=="default"&&Np(e,t,r[n]);return MP(e,t),e}function JC(t){return t&&t.__esModule?t:{default:t}}function QC(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $C(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function ej(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function tj(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var LP=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function rj(t){function e(o){t.error=t.hasError?new LP(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function nj(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,o,a){return n?e?".jsx":".js":i&&(!o||!a)?r:i+o+"."+a.toLowerCase()+"js"}):t}const zP={__extends:NC,__assign:Uf,__rest:Wl,__decorate:FC,__param:DC,__esDecorate:IC,__runInitializers:MC,__propKey:LC,__setFunctionName:zC,__metadata:BC,__awaiter:Pe,__generator:UC,__createBinding:Np,__exportStar:HC,__values:Hf,__read:wy,__spread:WC,__spreadArrays:VC,__spreadArray:GC,__await:Il,__asyncGenerator:qC,__asyncDelegator:KC,__asyncValues:XC,__makeTemplateObject:ZC,__importStar:YC,__importDefault:JC,__classPrivateFieldGet:QC,__classPrivateFieldSet:$C,__classPrivateFieldIn:ej,__addDisposableResource:tj,__disposeResources:rj,__rewriteRelativeImportExtension:nj},BP=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:tj,get __assign(){return Uf},__asyncDelegator:KC,__asyncGenerator:qC,__asyncValues:XC,__await:Il,__awaiter:Pe,__classPrivateFieldGet:QC,__classPrivateFieldIn:ej,__classPrivateFieldSet:$C,__createBinding:Np,__decorate:FC,__disposeResources:rj,__esDecorate:IC,__exportStar:HC,__extends:NC,__generator:UC,__importDefault:JC,__importStar:YC,__makeTemplateObject:ZC,__metadata:BC,__param:DC,__propKey:LC,__read:wy,__rest:Wl,__rewriteRelativeImportExtension:nj,__runInitializers:MC,__setFunctionName:zC,__spread:WC,__spreadArray:GC,__spreadArrays:VC,__values:Hf,default:zP},Symbol.toStringTag,{value:"Module"})),UP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Sy extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class h1 extends Sy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class f1 extends Sy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class p1 extends Sy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Im;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Im||(Im={}));class HP{constructor(e,{headers:r={},customFetch:n,region:i=Im.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=UP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Pe(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:o,method:a,body:s,signal:l}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(c["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(c["Content-Type"]="application/json",f=JSON.stringify(s)):f=s;const p=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),o),body:f,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new h1(v)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new f1(p);if(!p.ok)throw new p1(p);let m=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield p.json():m==="application/octet-stream"||m==="application/pdf"?y=yield p.blob():m==="text/event-stream"?y=p:m==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new h1(o)}:{data:null,error:o,response:o instanceof p1||o instanceof f1?o.context:void 0}}})}}var Vr={};const Vl=u3(BP);var ch={},uh={},dh={},hh={},fh={},ph={},g1;function ij(){if(g1)return ph;g1=1,Object.defineProperty(ph,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ph.default=t,ph}var m1;function oj(){if(m1)return fh;m1=1,Object.defineProperty(fh,"__esModule",{value:!0});const e=Vl.__importDefault(ij());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,h,f;let p=null,g=null,m=null,y=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=S:g=JSON.parse(S))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&w&&w.length>1&&(m=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,y=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(g=[],p=null,y=200,v="OK")}catch{l.status===404&&x===""?(y=204,v="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,y=200,v="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,d,h;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=l==null?void 0:l.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return fh.default=r,fh}var v1;function aj(){if(v1)return hh;v1=1,Object.defineProperty(hh,"__esModule",{value:!0});const e=Vl.__importDefault(oj());class r extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var d;const h=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return hh.default=r,hh}var y1;function ky(){if(y1)return dh;y1=1,Object.defineProperty(dh,"__esModule",{value:!0});const e=Vl.__importDefault(aj()),r=new RegExp("[,()]");class n extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${c}fts${d}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return dh.default=n,dh}var b1;function sj(){if(b1)return uh;b1=1,Object.defineProperty(uh,"__esModule",{value:!0});const e=Vl.__importDefault(ky());class r{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return uh.default=r,uh}var x1;function WP(){if(x1)return ch;x1=1,Object.defineProperty(ch,"__esModule",{value:!0});const t=Vl,e=t.__importDefault(sj()),r=t.__importDefault(ky());class n{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${o}`);let p;s||l?(h=s?"HEAD":"GET",Object.entries(a).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{f.searchParams.append(m,y)})):(h="POST",p=a);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:g,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return ch.default=n,ch}Object.defineProperty(Vr,"__esModule",{value:!0});var lj=Vr.PostgrestError=yj=Vr.PostgrestBuilder=mj=Vr.PostgrestTransformBuilder=pj=Vr.PostgrestFilterBuilder=hj=Vr.PostgrestQueryBuilder=uj=Vr.PostgrestClient=void 0;const Gl=Vl,cj=Gl.__importDefault(WP());var uj=Vr.PostgrestClient=cj.default;const dj=Gl.__importDefault(sj());var hj=Vr.PostgrestQueryBuilder=dj.default;const fj=Gl.__importDefault(ky());var pj=Vr.PostgrestFilterBuilder=fj.default;const gj=Gl.__importDefault(aj());var mj=Vr.PostgrestTransformBuilder=gj.default;const vj=Gl.__importDefault(oj());var yj=Vr.PostgrestBuilder=vj.default;const bj=Gl.__importDefault(ij());lj=Vr.PostgrestError=bj.default;var xj=Vr.default={PostgrestClient:cj.default,PostgrestQueryBuilder:dj.default,PostgrestFilterBuilder:fj.default,PostgrestTransformBuilder:gj.default,PostgrestBuilder:vj.default,PostgrestError:bj.default};const VP=c3({__proto__:null,get PostgrestBuilder(){return yj},get PostgrestClient(){return uj},get PostgrestError(){return lj},get PostgrestFilterBuilder(){return pj},get PostgrestQueryBuilder(){return hj},get PostgrestTransformBuilder(){return mj},default:xj},[Vr]),{PostgrestClient:GP,PostgrestQueryBuilder:hte,PostgrestFilterBuilder:fte,PostgrestTransformBuilder:pte,PostgrestBuilder:gte,PostgrestError:mte}=xj||VP;class qP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const KP="2.79.0",XP=`realtime-js/${KP}`,ZP="1.0.0",Mm=1e4,YP=1e3,JP=100;var du;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(du||(du={}));var pr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pr||(pr={}));var ii;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ii||(ii={}));var Lm;(function(t){t.websocket="websocket"})(Lm||(Lm={}));var Ca;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ca||(Ca={}));class QP{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+o));a=a+o;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class wj{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Lt||(Lt={}));const w1=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=$P(a,t,e,i),o),{}):{}},$P=(t,e,r,n)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=r[t];return o&&!n.includes(o)?Sj(o,a):zm(a)},Sj=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nO(e,r)}switch(t){case Lt.bool:return eO(e);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return tO(e);case Lt.json:case Lt.jsonb:return rO(e);case Lt.timestamp:return iO(e);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return zm(e);default:return zm(e)}},zm=t=>t,eO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nO=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const a=t.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>Sj(e,s))}return t},iO=t=>typeof t=="string"?t.replace(" ","T"):t,kj=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class K0{constructor(e,r,n={},i=Mm){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(S1||(S1={}));class hu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hu.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=hu.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hu.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const o=this.cloneDeep(e),a=this.transformState(r),s={},l={};return this.map(o,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const h=o[c];if(h){const f=d.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),m=h.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(s[c]=g),m.length>0&&(l[c]=m)}else s[c]=d}),this.syncDiff(o,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const d=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),d.length>0){const h=e[s].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[s].unshift(...f)}n(s,d,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(k1||(k1={}));var fu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fu||(fu={}));var Hi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hi||(Hi={}));class _y{constructor(e,r={config:{}},n){var i,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new K0(this,ii.join,this.params,this.timeout),this.rejoinTimer=new wj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ii.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new hu(this),this.broadcastEndpointURL=kj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==pr.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[fu.PRESENCE]&&this.bindings[fu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Hi.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Hi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(Hi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,v=[];for(let b=0;b<y;b++){const x=m[b],{filter:{event:w,schema:S,table:k,filter:C}}=x,P=p&&p[b];if(P&&P.event===w&&P.schema===S&&P.table===k&&P.filter===C)v.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=pr.errored,e==null||e(Hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Hi.SUBSCRIBED);return}}).receive("error",p=>{this.state=pr.errored,e==null||e(Hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pr.joined&&e===fu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ii.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new K0(this,ii.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new K0(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>JP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=ii;if(n&&[s,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var g,m,y,v,b,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const w=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return w&&((m=r.ids)===null||m===void 0?void 0:m.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return w==="*"||w===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:y,commit_timestamp:v,type:b,errors:x}=g;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&_y.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ii.close,{},e)}_onError(e){this._on(ii.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=w1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=w1(e.columns,e.old_record)),r}}const X0=()=>{},gh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oO=[1e3,2e3,5e3,1e4],aO=1e4,sO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lO{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mm,this.transport=null,this.heartbeatIntervalMs=gh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=X0,this.ref=0,this.reconnectTimer=null,this.logger=X0,this.conn=null,this.sendBuffer=[],this.serializer=new QP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Lm.websocket}`,this.httpEndpoint=kj(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ZP}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case du.connecting:return Ca.Connecting;case du.open:return Ca.Open;case du.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new _y(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(YP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:a}=r,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ii.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([sO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:XP};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ii.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,o,a,s,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Mm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:gh.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:X0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>oO[h-1]||aO,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Cy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function er(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class cO extends Cy{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bm extends Cy{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const jy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uO=()=>Response,Um=t=>{if(Array.isArray(t))return t.map(r=>Um(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Um(n)}),e},dO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Z0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},hO=(t,e,r)=>Pe(void 0,void 0,void 0,function*(){const n=yield uO();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new cO(Z0(i),o,a))}).catch(i=>{e(new Bm(Z0(i),i))}):e(new Bm(Z0(t),t))}),fO=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(dO(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function ud(t,e,r,n,i,o){return Pe(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(r,fO(e,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>hO(l,s,n))})})}function Hu(t,e,r,n){return Pe(this,void 0,void 0,function*(){return ud(t,"GET",e,r,n)})}function ri(t,e,r,n,i){return Pe(this,void 0,void 0,function*(){return ud(t,"POST",e,n,i,r)})}function Hm(t,e,r,n,i){return Pe(this,void 0,void 0,function*(){return ud(t,"PUT",e,n,i,r)})}function pO(t,e,r,n){return Pe(this,void 0,void 0,function*(){return ud(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ey(t,e,r,n,i){return Pe(this,void 0,void 0,function*(){return ud(t,"DELETE",e,n,i,r)})}class gO{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Pe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(er(e))return{data:null,error:e};throw e}})}}var _j;class mO{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[_j]="BlobDownloadBuilder",this.promise=null}asStream(){return new gO(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Pe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(er(e))return{data:null,error:e};throw e}})}}_j=Symbol.toStringTag;const vO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yO{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=jy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Pe(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},_1),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?Hm:ri)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(er(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Pe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:_1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Hm(this.fetch,s.toString(),l,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(er(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield ri(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new Cy("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}update(e,r,n){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield ri(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Pe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield ri(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Pe(this,void 0,void 0,function*(){try{const i=yield ri(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>Hu(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new mO(l,this.shouldThrowOnError)}info(e){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Hu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Um(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}exists(e){return Pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield pO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n)&&n instanceof Bm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${c}`)}}}remove(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}list(e,r,n){return Pe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vO),r),{prefix:e||""});return{data:yield ri(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}listV2(e,r){return Pe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ri(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Cj="2.79.0",jj={"X-Client-Info":`storage-js/${Cj}`};class bO{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jj),r),this.fetch=jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Pe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Hu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}getBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}createBucket(e){return Pe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class xO{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jj),r),this.fetch=jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}listBuckets(e){return Pe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Hu(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield Ey(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}}const Ty={"X-Client-Info":`storage-js/${Cj}`,"Content-Type":"application/json"};class Ej extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function hn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Y0 extends Ej{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wO extends Ej{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var C1;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(C1||(C1={}));const Ry=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},j1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kO=(t,e,r)=>Pe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new Y0(j1(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Y0(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new Y0(s,i,a))}}else e(new wO(j1(t),t))}),_O=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(SO(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function CO(t,e,r,n,i,o){return Pe(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(r,_O(e,n,i,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>kO(l,s,n))})})}function fn(t,e,r,n,i){return Pe(this,void 0,void 0,function*(){return CO(t,"POST",e,n,i,r)})}class jO{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),r),this.fetch=Ry(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Pe(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}listIndexes(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Pe(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}}class EO{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),r),this.fetch=Ry(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Pe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}getVectors(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}listVectors(e){return Pe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield fn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}queryVectors(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Pe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}}class TO{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),r),this.fetch=Ry(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}getBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}listBuckets(){return Pe(this,arguments,void 0,function*(e={}){try{return{data:yield fn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Pe(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}}class RO extends TO{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new PO(this.url,this.headers,e,this.fetch)}}class PO extends jO{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Pe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Pe(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Pe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Pe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new OO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class OO extends EO{constructor(e,r,n,i,o){super(e,r,o),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Pe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Pe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Pe(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Pe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Pe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class AO extends bO{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new yO(this.url,this.headers,e,this.fetch)}get vectors(){return new RO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xO(this.url+"/iceberg",this.headers,this.fetch)}}const NO="2.79.0";let Gc="";typeof Deno<"u"?Gc="deno":typeof document<"u"?Gc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gc="react-native":Gc="node";const FO={"X-Client-Info":`supabase-js-${Gc}/${NO}`},DO={headers:FO},IO={schema:"public"},MO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LO={},zO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BO=()=>Headers,UO=(t,e,r)=>{const n=zO(r),i=BO();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},a),{headers:c}))}};function HO(t){return t.endsWith("/")?t:t+"/"}function WO(t,e){var r,n;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function VO(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HO(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tj="2.79.0",Ms=30*1e3,Wm=3,J0=Wm*Ms,GO="http://localhost:9999",qO="supabase.auth.token",KO={"X-Client-Info":`gotrue-js/${Tj}`},Vm="X-Supabase-Api-Version",Rj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZO=10*60*1e3;class Wu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class YO extends Wu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function JO(t){return Me(t)&&t.name==="AuthApiError"}class ja extends Wu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class oa extends Wu{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Yn extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QO(t){return Me(t)&&t.name==="AuthSessionMissingError"}class ks extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mh extends oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vh extends oa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $O(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}class E1 extends oa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gm extends oa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Q0(t){return Me(t)&&t.name==="AuthRetryableFetchError"}class T1 extends oa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qm extends oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R1=` 	
\r=`.split(""),eA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<R1.length;e+=1)t[R1[e].charCodeAt(0)]=-2;for(let e=0;e<Wf.length;e+=1)t[Wf[e].charCodeAt(0)]=e;return t})();function P1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wf[n]),e.queuedBits-=6}}function Pj(t,e,r){const n=eA[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function O1(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{nA(a,n,r)};for(let a=0;a<t.length;a+=1)Pj(t.charCodeAt(a),i,o);return e.join("")}function tA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rA(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}tA(n,e)}}function nA(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function _l(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Pj(t.charCodeAt(i),r,n);return new Uint8Array(e)}function iA(t){const e=[];return rA(t,r=>e.push(r)),new Uint8Array(e)}function Oa(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>P1(i,r,n)),P1(null,r,n),e.join("")}function oA(t){return Math.round(Date.now()/1e3)+t}function aA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Lr=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},Oj=()=>{if(!Lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function sA(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Aj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),lA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ls=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ya=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yo=async(t,e)=>{await t.removeItem(e)};class Fp{constructor(){this.promise=new Fp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Fp.promiseConstructor=Promise;function $0(t){const e=t.split(".");if(e.length!==3)throw new qm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!XO.test(e[n]))throw new qm("JWT not in base64url format");return{header:JSON.parse(O1(e[0])),payload:JSON.parse(O1(e[1])),signature:_l(e[2]),raw:{header:e[0],payload:e[1]}}}async function cA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uA(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){n(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function dA(t){return("0"+t.toString(16)).substr(-2)}function hA(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,dA).join("")}async function fA(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function pA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fA(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(t,e,r=!1){const n=hA();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ls(t,`${e}-code-verifier`,i);const o=await pA(n);return[o,n===o?"plain":"s256"]}const gA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mA(t){const e=t.headers.get(Vm);if(!e||!e.match(gA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vA(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yA(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cs(t){if(!bA.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eg(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xA(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function A1(t){return JSON.parse(JSON.stringify(t))}const ka=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wA=[502,503,504];async function N1(t){var e;if(!lA(t))throw new Gm(ka(t),0);if(wA.includes(t.status))throw new Gm(ka(t),t.status);let r;try{r=await t.json()}catch(o){throw new ja(ka(o),o)}let n;const i=mA(t);if(i&&i.getTime()>=Rj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new T1(ka(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new T1(ka(r),t.status,r.weak_password.reasons);throw new YO(ka(r),t.status||500,n)}const SA=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function He(t,e,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Vm]||(o[Vm]=Rj["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await kA(t,e,r+s,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function kA(t,e,r,n,i,o){const a=SA(e,n,i,o);let s;try{s=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Gm(ka(l),0)}if(s.ok||await N1(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(l){await N1(l)}}function Jn(t){var e;let r=null;jA(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=oA(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function F1(t){const e=Jn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ro(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _A(t){return{data:t,error:null}}function CA(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=t,a=Wl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function D1(t){return t}function jA(t){return t.access_token&&t.refresh_token&&t.expires_in}const tg=["global","local","others"];class EA{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Aj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=tg[0]){if(tg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tg.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ro})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Wl(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:CA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ro})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:D1});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Cs(e);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ro})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Cs(e);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ro})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Cs(e);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ro})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cs(e.userId);try{const{data:r,error:n}=await He(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Cs(e.userId),Cs(e.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:D1});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Me(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await He(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function I1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const js={debug:!!(globalThis&&Oj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class TA extends Nj{}async function RA(t,e,r){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new TA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(js.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function PA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function OA(t){return parseInt(t,16)}function AA(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function NA(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Fj(t.address),g=d?`${d}://${n}`:n,m=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}v+=b}return`${y}
${v}`}class dr extends Error{constructor({message:e,code:r,cause:n,name:i}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Vf extends dr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function FA({error:t,options:e}){var r,n,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new dr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new dr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new dr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new dr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new dr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new dr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Dj(a)){if(o.rp.id!==a)return new dr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new dr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new dr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function DA({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new dr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Dj(n)){if(r.rpId!==n)return new dr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new dr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class IA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const MA=new IA;function LA(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Wl(t,["challenge","user","excludeCredentials"]),o=_l(e).buffer,a=Object.assign(Object.assign({},r),{id:_l(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:_l(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function zA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Wl(t,["challenge","allowCredentials"]),i=_l(e).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const s=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:_l(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function BA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Oa(new Uint8Array(t.response.attestationObject)),clientDataJSON:Oa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function UA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Oa(new Uint8Array(i.authenticatorData)),clientDataJSON:Oa(new Uint8Array(i.clientDataJSON)),signature:Oa(new Uint8Array(i.signature)),userHandle:i.userHandle?Oa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dj(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function M1(){var t,e;return!!(Lr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function HA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vf("Browser returned unexpected credential type",e)}:{data:null,error:new Vf("Empty credential response",e)}}catch(e){return{data:null,error:FA({error:e,options:t})}}}async function WA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vf("Browser returned unexpected credential type",e)}:{data:null,error:new Vf("Empty credential response",e)}}catch(e){return{data:null,error:DA({error:e,options:t})}}}const VA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},GA={userVerification:"preferred",hints:["security-key"]};function Gf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(e(a)){const s=n[o];e(s)?n[o]=Gf(s,a):n[o]=Gf(a)}else n[o]=a}return n}function qA(t,e){return Gf(VA,t,e||{})}function KA(t,e){return Gf(GA,t,e||{})}class XA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:s};const l=i??MA.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=qA(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await HA({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=KA(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await WA(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!r)return{data:null,error:new Wu("rpId is required for WebAuthn authentication")};try{if(!M1())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!r)return{data:null,error:new Wu("rpId is required for WebAuthn registration")};try{if(!M1())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Me(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in register",a)}}}}PA();const ZA={url:GO,storageKey:qO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function L1(t,e,r){return await r()}const Es={};class Vu{get jwks(){var e,r;return(r=(e=Es[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Es[this.storageKey]=Object.assign(Object.assign({},Es[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Es[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Es[this.storageKey]=Object.assign(Object.assign({},Es[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vu.nextInstanceID,Vu.nextInstanceID+=1,this.instanceID>0&&Lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ZA),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new EA({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Aj(i.fetch),this.lock=i.lock||L1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Lr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RA:this.lock=L1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Oj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=I1(this.memoryStorage)),Lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Lr()&&(r=sA(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Lr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),$O(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?this._returnResult({error:r}):this._returnResult({error:new ja("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,i;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await _s(this.storage,this.storageKey)),o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Jn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Jn})}else throw new mh("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:a,options:s}=e;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:F1})}else if("phone"in e){const{phone:o,password:a,options:s}=e;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:F1})}else throw new mh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new ks;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,o,a,s,l,c,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:m,wallet:y,statement:v,options:b}=e;let x;if(Lr())if(typeof y=="object")x=y;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")x=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Fj(S[0]);let C=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const E=await x.request({method:"eth_chainId"});C=OA(E)}const P={domain:w.host,address:k,statement:v,uri:w.href,version:"1",chainId:C,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=NA(P),g=await x.request({method:"personal_sign",params:[AA(p),k]})}try{const{data:m,error:y}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jn});if(y)throw y;if(!m||!m.session||!m.user){const v=new ks;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(Me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,n,i,o,a,s,l,c,d,h,f,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:y,wallet:v,statement:b,options:x}=e;let w;if(Lr())if(typeof v=="object")w=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:y,error:v}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Oa(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Jn});if(v)throw v;if(!y||!y.session||!y.user){const b=new ks;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(Me(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await ya(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:a}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Jn});if(await yo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new ks;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(Me(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:o,nonce:a}=e,s=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new ks;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await _s(this.storage,this.storageKey));const{error:h}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:d}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new mh("You must provide either an email or phone number.")}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,o;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:s}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Jn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i;try{let o=null,a=null;this.flowType==="pkce"&&([o,a]=await _s(this.storage,this.storageKey));const s=await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:_A});return this._returnResult(s)}catch(o){if(Me(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Yn;const{error:i}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:a}=await He(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:a,error:s}=await He(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new mh("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<J0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await ya(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=eg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=xA(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ro}):await this._useSession(async r=>{var n,i,o;const{data:a,error:s}=r;if(s)throw s;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ro})})}catch(r){if(Me(r))return QO(r)&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Yn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await _s(this.storage,this.storageKey));const{data:c,error:d}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Ro});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(Me(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:a}=$0(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:s}=r;if(s)throw s;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Yn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Lr())throw new vh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new E1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new E1("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new vh("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(s);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:m,error:y}=await this._getUser(o);if(y)throw y;const v={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ya(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({error:o});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(JO(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=aA(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _s(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Me(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var a,s,l,c,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Lr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Me(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:a,provider:s,token:l,access_token:c,nonce:d}=e,h=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jn}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ks}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)throw a;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uA(async i=>(i>0&&await cA(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Q0(o)&&Date.now()+a-n<Ms})}catch(n){if(this._debug(r,"error",n),Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ya(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ls(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:eg()}else if(i&&!i.user&&!i.user){const a=await ya(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await yo(this.storage,this.storageKey+"-user"),await Ls(this.storage,this.storageKey,i)):i.user=eg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<J0;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${J0}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Q0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fp;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new Yn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Me(o)){const a={data:null,error:o};return Q0(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ls(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=A1(i);await Ls(this.storage,this.storageKey,o)}else{const i=A1(r);await Ls(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await yo(this.storage,this.storageKey),await yo(this.storage,this.storageKey+"-code-verifier"),await yo(this.storage,this.storageKey+"-user"),this.userStorage&&await yo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ms}ms, refresh threshold is ${Wm} ticks`),i<=Wm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await _s(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await He(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await He(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?BA(e.webauthn.credential_response):UA(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:LA(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:zA(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$0(n.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await He(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yn});const a=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Yn});const a=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+ZO>i)return n;const{data:o,error:a}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=$0(n);r!=null&&r.allowExpired||vA(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:i,signature:a},error:null}}const d=yA(i.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,iA(`${s}.${l}`)))throw new qm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}}Vu.nextInstanceID=0;const YA=Vu;class JA extends YA{constructor(e){super(e)}}class QA{constructor(e,r,n){var i,o,a;this.supabaseUrl=e,this.supabaseKey=r;const s=VO(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:IO,realtime:LO,auth:Object.assign(Object.assign({},MO),{storageKey:l}),global:DO},d=WO(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=UO(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new GP(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new AO(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new HP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JA({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:s,lock:l,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $A=(t,e,r)=>new QA(t,e,r);function eN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}eN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z1={DRAFTIFY:"/api/studio-draftify",GEOMETRIC_GENERATE:"/api/studio-generate-geometric"},B1={URL:"https://okakomwfikxmwllvliva.supabase.co",ANON_KEY:""},U1={AUTH_SESSION:"studio_auth_session"},br=$A(B1.URL,B1.ANON_KEY),Xi={async signIn(t,e){const{data:r,error:n}=await br.auth.signInWithPassword({email:t,password:e});if(n)throw n;return localStorage.setItem(U1.AUTH_SESSION,JSON.stringify(r.session)),r},async signOut(){await br.auth.signOut(),localStorage.removeItem(U1.AUTH_SESSION)},async getSession(){const{data:t}=await br.auth.getSession();return t.session},async updatePassword(t){const{data:e,error:r}=await br.auth.updateUser({password:t});if(r)throw r;return await br.auth.updateUser({data:{password_setup_complete:!0}}),e},onAuthStateChange(t){return br.auth.onAuthStateChange(t)}};class H1 extends z.Component{constructor(r){super(r);rx(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("[ErrorBoundary] Caught error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?u.jsxs("div",{className:"error-boundary",children:[u.jsxs("div",{className:"error-content",children:[u.jsx("h1",{children:"Something went wrong"}),u.jsx("p",{children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),u.jsxs("div",{className:"error-actions",children:[u.jsx("button",{onClick:this.handleReset,className:"btn-primary",children:"Try Again"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary",children:"Refresh Page"})]}),!1]}),u.jsx("style",{jsx:!0,children:`
            .error-boundary {
              min-height: 100vh;
              display: flex;
              align-items: center;
              justify-content: center;
              padding: 2rem;
              background: #f9fafb;
            }

            .error-content {
              max-width: 500px;
              text-align: center;
              background: white;
              padding: 3rem;
              border-radius: 12px;
              box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            }

            h1 {
              color: #1e4a7a;
              margin: 0 0 1rem 0;
              font-size: 1.75rem;
            }

            p {
              color: #6b7280;
              margin: 0 0 2rem 0;
              line-height: 1.6;
            }

            .error-actions {
              display: flex;
              gap: 1rem;
              justify-content: center;
            }

            .btn-primary,
            .btn-secondary {
              padding: 0.75rem 1.5rem;
              border-radius: 6px;
              font-weight: 500;
              cursor: pointer;
              transition: all 0.2s;
              border: none;
            }

            .btn-primary {
              background: #ff6b35;
              color: white;
            }

            .btn-primary:hover {
              background: #e55a2b;
              transform: translateY(-1px);
            }

            .btn-secondary {
              background: white;
              color: #374151;
              border: 1px solid #d1d5db;
            }

            .btn-secondary:hover {
              background: #f9fafb;
            }

            .error-details {
              margin-top: 2rem;
              text-align: left;
              font-size: 0.875rem;
            }

            .error-details summary {
              cursor: pointer;
              color: #6b7280;
              margin-bottom: 0.5rem;
            }

            .error-details pre {
              background: #f3f4f6;
              padding: 1rem;
              border-radius: 4px;
              overflow-x: auto;
              font-size: 0.75rem;
              color: #dc2626;
            }
          `})]}):this.props.children}}class tN{async _getAuthHeaders(){const e=await Xi.getSession(),r={"Content-Type":"application/json"};return e!=null&&e.access_token&&(r.Authorization=`Bearer ${e.access_token}`),r}async generateRecraft(e){const r={prompt:e.prompt,width_mm:e.widthMM||5e3,length_mm:e.lengthMM||5e3,max_colours:e.maxColours||6,seed:e.seed||null},n=await this._getAuthHeaders(),i=await fetch("/api/recraft-generate",{method:"POST",headers:n,body:JSON.stringify(r)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Recraft generation failed")}return i.json()}async vectorizeImage(e){const r={image_url:e.image_url,width_mm:e.width_mm||5e3,length_mm:e.length_mm||5e3,seed:e.seed||null},n=await this._getAuthHeaders(),i=await fetch("/api/recraft-vectorize",{method:"POST",headers:n,body:JSON.stringify(r)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Vectorization failed")}return i.json()}async processUploadedSVG(e){const r={svg_url:e.svg_url,width_mm:e.width_mm||5e3,length_mm:e.length_mm||5e3},n=await this._getAuthHeaders(),i=await fetch("/api/process-uploaded-svg",{method:"POST",headers:n,body:JSON.stringify(r)});if(!i.ok){const o=await i.json();throw new Error(o.error||"SVG processing failed")}return i.json()}async getRecraftStatus(e){const r=await fetch(`/api/studio-job-status?jobId=${e}`);if(!r.ok){const n=await r.json();throw new Error(n.error||"Status fetch failed")}return r.json()}async waitForRecraftCompletion(e,r=null,n=2e3){return new Promise((i,o)=>{const a=async()=>{var s,l,c,d;try{const h=await this.getRecraftStatus(e);r&&r(h),h.status==="completed"?((s=h.result)==null?void 0:s.svg_url)?(console.log("[API] Recraft job complete with SVG output"),i(h)):(console.error("[API] Recraft job completed but no SVG output"),o(new Error("Job completed but no output received"))):h.status==="failed"?(l=h.result)!=null&&l.svg_url?(console.warn("[API] Job failed compliance but has output (non-compliant)"),i(h)):o(new Error(h.error||"Job failed")):(h.status==="retrying"&&console.log(`[API] Retrying: ${(c=h.recraft)==null?void 0:c.attempt_current}/${(d=h.recraft)==null?void 0:d.attempt_max}`),setTimeout(a,n))}catch(h){o(h)}};a()})}async matchColor(e,r=2){const n=await fetch("/api/match-color",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hex:e,max_components:r})});if(!n.ok){const i=await n.json();throw new Error(i.error||"Color matching failed")}return n.json()}async generateDesignName(e){const r={prompt:e.prompt,colors:e.colors||[],dimensions:e.dimensions||{}},n=await this._getAuthHeaders(),i=await fetch("/api/generate-design-name",{method:"POST",headers:n,body:JSON.stringify(r)});if(!i.ok){const o=await i.json();throw new Error(o.error||"Name generation failed")}return i.json()}async inspireSimpleCreateJob(e){const r={prompt:e.prompt,surface:{width_mm:e.lengthMM||5e3,height_mm:e.widthMM||5e3},max_colours:e.maxColours||6,try_simpler:e.trySimpler||!1};e.seed&&(r.seed=e.seed);const n=await fetch("/api/studio-inspire-simple",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const i=await n.json();throw new Error(i.message||"Job creation failed")}return n.json()}async inspireSimpleGetStatus(e){const r=await fetch(`/api/studio-job-status?jobId=${e}`);if(!r.ok){const n=await r.json();throw new Error(n.message||"Status fetch failed")}return r.json()}async inspireSimpleWaitForCompletion(e,r=null,n=2e3){return new Promise((i,o)=>{const a=async()=>{var s;try{const l=await this.inspireSimpleGetStatus(e);r&&r(l),l.status==="completed"?((s=l.result)==null?void 0:s.final_url)?(console.log("[API] Job complete with JPG output, resolving"),i(l)):(console.log("[API] Job completed but no output received"),o(new Error("Job completed but no output received"))):l.status==="failed"?o(new Error(l.error||"Job failed")):setTimeout(a,n)}catch(l){o(l)}};a()})}async draftify(e){const r=await fetch(z1.DRAFTIFY,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){const n=await r.json();throw new Error(n.message||"Vectorization failed")}return r.json()}async generateGeometric(e){const r={brief:e.prompt||e.brief,canvas:{width_mm:e.lengthMM||5e3,height_mm:e.widthMM||5e3},options:{mood:e.mood||"playful",composition:e.composition||"mixed",colorCount:e.maxColours||e.colorCount||5,seed:e.seed},validate:!0},n=await fetch(z1.GEOMETRIC_GENERATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const i=await n.json();throw new Error(i.message||"Geometric generation failed")}return n.json()}}const ba=new tN;async function Dp(){var r,n;const t=await br.auth.getSession(),e=(n=(r=t==null?void 0:t.data)==null?void 0:r.session)==null?void 0:n.access_token;if(!e)throw new Error("Not authenticated");return{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}async function Ij(t){const e=await Dp(),r=await fetch("/api/designs/save",{method:"POST",headers:e,body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to save design")}return r.json()}async function Km({project_id:t,limit:e=50,offset:r=0,search:n}={}){const i=await Dp(),o=new URLSearchParams;t&&o.append("project_id",t),o.append("limit",e),o.append("offset",r),n&&o.append("search",n);const a=await fetch(`/api/designs/list?${o}`,{method:"GET",headers:i});if(!a.ok){const s=await a.json();throw new Error(s.error||"Failed to list designs")}return a.json()}async function rN(t){const e=await Dp(),r=await fetch(`/api/designs/by-id?id=${t}`,{method:"GET",headers:e});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to load design")}return r.json()}async function nN(t){const e=await Dp(),r=await fetch(`/api/designs/by-id?id=${t}`,{method:"DELETE",headers:e});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to delete design")}return r.json()}const W1=t=>{let e;const r=new Set,n=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},i=()=>e,s={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=e=t(n,i,s);return s},iN=t=>t?W1(t):W1,oN=t=>t;function aN(t,e=oN){const r=z.useSyncExternalStore(t.subscribe,z.useCallback(()=>e(t.getState()),[t,e]),z.useCallback(()=>e(t.getInitialState()),[t,e]));return z.useDebugValue(r),r}const V1=t=>{const e=iN(t),r=n=>aN(e,n);return Object.assign(r,e),r},Mj=t=>t?V1(t):V1,G1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Gu=new Map,yh=t=>{const e=Gu.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},sN=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=Gu.get(r.name);if(n)return{type:"tracked",store:t,...n};const i={connection:e.connect(r),stores:{}};return Gu.set(r.name,i),{type:"tracked",store:t,...i}},lN=(t,e)=>{if(e===void 0)return;const r=Gu.get(t);r&&(delete r.stores[e],Object.keys(r.stores).length===0&&Gu.delete(t))},cN=t=>{var e,r;if(!t)return;const n=t.split(`
`),i=n.findIndex(a=>a.includes("api.setState"));if(i<0)return;const o=((e=n[i+1])==null?void 0:e.trim())||"";return(r=/.+ (.+) .+/.exec(o))==null?void 0:r[1]},uN=(t,e={})=>(r,n,i)=>{const{enabled:o,anonymousActionType:a,store:s,...l}=e;let c;try{c=(o??(G1?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return t(r,n,i);const{connection:d,...h}=sN(s,c,l);let f=!0;i.setState=(m,y,v)=>{const b=r(m,y);if(!f)return b;const x=v===void 0?{type:a||cN(new Error().stack)||"anonymous"}:typeof v=="string"?{type:v}:v;return s===void 0?(d==null||d.send(x,n()),b):(d==null||d.send({...x,type:`${s}/${x.type}`},{...yh(l.name),[s]:i.getState()}),b)},i.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),lN(l.name,s)}};const p=(...m)=>{const y=f;f=!1,r(...m),f=y},g=t(i.setState,n,i);if(h.type==="untracked"?d==null||d.init(g):(h.stores[h.store]=i,d==null||d.init(Object.fromEntries(Object.entries(h.stores).map(([m,y])=>[m,m===h.store?g:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let m=!1;const y=i.dispatch;i.dispatch=(...v)=>{(G1?"production":void 0)!=="production"&&v[0].type==="__setState"&&!m&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),m=!0),y(...v)}}return d.subscribe(m=>{var y;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return rg(m.payload,v=>{if(v.type==="__setState"){if(s===void 0){p(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const b=v.state[s];if(b==null)return;JSON.stringify(i.getState())!==JSON.stringify(b)&&p(b);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(v)});case"DISPATCH":switch(m.payload.type){case"RESET":return p(g),s===void 0?d==null?void 0:d.init(i.getState()):d==null?void 0:d.init(yh(l.name));case"COMMIT":if(s===void 0){d==null||d.init(i.getState());return}return d==null?void 0:d.init(yh(l.name));case"ROLLBACK":return rg(m.state,v=>{if(s===void 0){p(v),d==null||d.init(i.getState());return}p(v[s]),d==null||d.init(yh(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return rg(m.state,v=>{if(s===void 0){p(v);return}JSON.stringify(i.getState())!==JSON.stringify(v[s])&&p(v[s])});case"IMPORT_STATE":{const{nextLiftedState:v}=m.payload,b=(y=v.computedStates.slice(-1)[0])==null?void 0:y.state;if(!b)return;p(s===void 0?b:b[s]),d==null||d.send(null,v);return}case"PAUSE_RECORDING":return f=!f}return}}),g},Lj=uN,rg=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)},q1={inputMode:"prompt",prompt:"",lengthMM:5e3,widthMM:5e3,selectedFileName:null,uploadedFileUrl:null,arMapping:null,result:null,jobId:null,blendRecipes:null,blendSvgUrl:null,colorMapping:null,blendEditedColors:new Map,solidRecipes:null,solidSvgUrl:null,solidColorMapping:null,solidEditedColors:new Map,viewMode:"solid",showFinalRecipes:!1,showSolidSummary:!1,regionOverrides:new Map,originalTaggedSvg:null,regionOverridesHistory:[new Map],historyIndex:0,designName:"",currentDesignId:null,hasGeneratedContent:!1,lastModified:null},dN=Mj(Lj((t,e)=>({...q1,setInputMode:r=>t({inputMode:r}),setPrompt:r=>t({prompt:r,lastModified:Date.now()}),setDimensions:(r,n)=>t({widthMM:r,lengthMM:n,lastModified:Date.now()}),setArMapping:r=>t({arMapping:r}),setSelectedFile:(r,n)=>t({selectedFileName:r,uploadedFileUrl:n,lastModified:Date.now()}),clearSelectedFile:()=>t({selectedFileName:null,uploadedFileUrl:null}),setGenerationResult:(r,n)=>t({result:r,jobId:n,hasGeneratedContent:!0,lastModified:Date.now()}),setResult:r=>t({result:r,hasGeneratedContent:!!r,lastModified:Date.now()}),setJobId:r=>t({jobId:r}),setBlendState:(r,n,i)=>t({blendRecipes:r,colorMapping:n,blendSvgUrl:i,lastModified:Date.now()}),setBlendRecipes:r=>t({blendRecipes:r,lastModified:Date.now()}),setColorMapping:r=>t({colorMapping:r,lastModified:Date.now()}),setBlendSvgUrl:r=>t({blendSvgUrl:r}),setBlendEditedColors:r=>t({blendEditedColors:r,lastModified:Date.now()}),updateBlendSvgUrl:r=>t({blendSvgUrl:r}),setSolidState:(r,n,i)=>t({solidRecipes:r,solidColorMapping:n,solidSvgUrl:i,lastModified:Date.now()}),setSolidRecipes:r=>t({solidRecipes:r,lastModified:Date.now()}),setSolidColorMapping:r=>t({solidColorMapping:r,lastModified:Date.now()}),setSolidSvgUrl:r=>t({solidSvgUrl:r}),setSolidEditedColors:r=>t({solidEditedColors:r,lastModified:Date.now()}),updateSolidSvgUrl:r=>t({solidSvgUrl:r}),setViewMode:r=>t({viewMode:r}),setShowFinalRecipes:r=>t({showFinalRecipes:r}),setShowSolidSummary:r=>t({showSolidSummary:r}),setOriginalTaggedSvg:r=>t({originalTaggedSvg:r}),setRegionOverrides:r=>t({regionOverrides:r,lastModified:Date.now()}),addRegionOverride:(r,n)=>{const i=new Map(e().regionOverrides);i.set(r,n);const o=e().regionOverridesHistory,a=e().historyIndex,s=o.slice(0,a+1);s.push(new Map(i)),s.length>50&&s.shift(),t({regionOverrides:i,regionOverridesHistory:s,historyIndex:s.length-1,lastModified:Date.now()})},setRegionOverridesHistory:r=>t({regionOverridesHistory:r}),setHistoryIndex:r=>{t(typeof r=="function"?{historyIndex:r(e().historyIndex)}:{historyIndex:r})},canUndo:()=>e().historyIndex>0,canRedo:()=>e().historyIndex<e().regionOverridesHistory.length-1,undo:()=>{const{historyIndex:r,regionOverridesHistory:n}=e();if(r>0){const i=r-1;t({historyIndex:i,regionOverrides:new Map(n[i])})}},redo:()=>{const{historyIndex:r,regionOverridesHistory:n}=e();if(r<n.length-1){const i=r+1;t({historyIndex:i,regionOverrides:new Map(n[i])})}},setRegionOverridesHistory:(r,n)=>t({regionOverridesHistory:r,historyIndex:n}),setDesignName:r=>t({designName:r}),setCurrentDesignId:r=>t({currentDesignId:r}),loadDesign:r=>{t({inputMode:r.inputMode||"prompt",prompt:r.prompt||"",lengthMM:r.lengthMM||5e3,widthMM:r.widthMM||5e3,uploadedFileUrl:r.selectedFile||null,result:r.result||null,blendRecipes:r.blendRecipes||null,solidRecipes:r.solidRecipes||null,colorMapping:r.colorMapping||null,solidColorMapping:r.solidColorMapping||null,solidEditedColors:r.solidEditedColors||new Map,blendEditedColors:r.blendEditedColors||new Map,blendSvgUrl:r.blendSvgUrl||null,solidSvgUrl:r.solidSvgUrl||null,viewMode:r.viewMode||"solid",arMapping:r.arMapping||null,jobId:r.jobId||null,showFinalRecipes:r.showFinalRecipes||!1,showSolidSummary:r.showSolidSummary||!1,hasGeneratedContent:!!r.result,lastModified:Date.now()})},exportDesignData:()=>{const r=e();return{inputMode:r.inputMode,prompt:r.prompt,lengthMM:r.lengthMM,widthMM:r.widthMM,uploadedFileUrl:r.uploadedFileUrl,result:r.result,blendRecipes:r.blendRecipes,solidRecipes:r.solidRecipes,colorMapping:r.colorMapping,solidColorMapping:r.solidColorMapping,solidEditedColors:r.solidEditedColors,blendEditedColors:r.blendEditedColors,viewMode:r.viewMode,arMapping:r.arMapping,jobId:r.jobId,showFinalRecipes:r.showFinalRecipes,showSolidSummary:r.showSolidSummary,regionOverrides:r.regionOverrides,designName:r.designName,currentDesignId:r.currentDesignId}},resetDesign:()=>{const{blendSvgUrl:r,solidSvgUrl:n}=e();r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),n&&n.startsWith("blob:")&&URL.revokeObjectURL(n),t({...q1,blendEditedColors:new Map,solidEditedColors:new Map,regionOverrides:new Map,regionOverridesHistory:[new Map]})},hasUnsavedChanges:()=>{const r=e();return r.hasGeneratedContent||r.prompt.trim()!==""||r.selectedFileName!==null}}),{name:"PlaygroundDesignStore"}));function hN({recipes:t,onClose:e}){return!t||t.length===0?u.jsxs("div",{className:"blend-recipes-empty",children:[u.jsx("p",{children:"No colours extracted from design."}),u.jsx("button",{onClick:e,className:"close-button",children:"Close"})]}):u.jsxs("div",{className:"blend-recipes-display",children:[u.jsxs("div",{className:"recipes-header",children:[u.jsx("h3",{children:"TPV Blend Recipes"}),u.jsx("button",{onClick:e,className:"close-button-icon",children:""})]}),u.jsx("div",{className:"recipes-grid",children:t.map((r,n)=>{const i=r.chosenRecipe;return u.jsxs("div",{className:"recipe-card",children:[u.jsxs("div",{className:"card-top",children:[u.jsx("div",{className:"swatch-section",children:u.jsx("div",{className:"color-swatch",style:{backgroundColor:r.blendColor.hex},title:`TPV blend: ${r.blendColor.hex}`})}),u.jsxs("div",{className:"card-meta",children:[u.jsxs("div",{className:"meta-row",children:[u.jsx("span",{className:"meta-label",children:"Hex:"}),u.jsx("span",{className:"hex-value",children:r.blendColor.hex})]}),u.jsxs("div",{className:"meta-row",children:[u.jsx("span",{className:"meta-label",children:"Coverage:"}),u.jsxs("span",{className:"coverage-value",children:[r.targetColor.areaPct.toFixed(1),"%"]})]})]})]}),u.jsxs("div",{className:"card-formula",children:[u.jsx("div",{className:"formula-label",children:i.components.length===1?"Pure TPV Colour":"TPV Blend Formula"}),u.jsx("div",{className:"formula-content",children:i.components.length===1?u.jsxs("span",{className:"formula-component solid",children:[u.jsx("strong",{className:"parts",children:"100%"}),u.jsx("span",{className:"comp-code",children:i.components[0].code}),u.jsxs("span",{className:"comp-name",children:["(",i.components[0].name,")"]})]}):i.components.map((o,a)=>u.jsxs("span",{className:"formula-component",children:[u.jsx("strong",{className:"parts",children:o.parts||(o.weight*100).toFixed(0)+"%"}),u.jsx("span",{className:"comp-code",children:o.code}),u.jsxs("span",{className:"comp-name",children:["(",o.name,")"]}),a<i.components.length-1&&u.jsx("span",{className:"separator",children:"+"})]},a))})]})]},n)})}),u.jsx("style",{jsx:!0,children:`
        .blend-recipes-display {
          background: #fff;
          border-radius: 8px;
          border: 1px solid #ddd;
          padding: 2rem;
          margin-top: 1.5rem;
        }

        .blend-recipes-empty {
          text-align: center;
          padding: 2rem;
          background: #f9f9f9;
          border-radius: 8px;
        }

        .recipes-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #1a365d;
        }

        .recipes-header h3 {
          font-family: 'Space Grotesk', sans-serif;
          margin: 0;
          color: #1e4a7a;
          font-size: 1.5rem;
          font-weight: 600;
        }

        .close-button-icon {
          background: none;
          border: none;
          font-size: 2rem;
          color: #666;
          cursor: pointer;
          padding: 0;
          width: 32px;
          height: 32px;
          line-height: 1;
        }

        .close-button-icon:hover {
          color: #333;
        }

        /* Card Grid Layout */
        .recipes-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
          gap: 1.5rem;
        }

        .recipe-card {
          background: white;
          border: 2px solid #e0e0e0;
          border-radius: 12px;
          overflow: hidden;
          transition: all 0.3s;
        }

        .recipe-card:hover {
          border-color: #ff6b35;
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(255, 107, 53, 0.15);
        }

        /* Card Top Section */
        .card-top {
          display: flex;
          gap: 1.5rem;
          padding: 1.5rem;
          background: #f9f9f9;
          border-bottom: 2px solid #e8e8e8;
          align-items: center;
        }

        .swatch-section {
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .color-swatch {
          width: 80px;
          height: 80px;
          border-radius: 12px;
          border: 3px solid #ff6b35;
          flex-shrink: 0;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .card-meta {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
          justify-content: center;
        }

        .meta-row {
          display: flex;
          align-items: center;
          gap: 0.75rem;
        }

        .meta-label {
          font-size: 0.85rem;
          font-weight: 600;
          color: #666;
          min-width: 80px;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          font-size: 1.1rem;
          color: #333;
          font-weight: 700;
          letter-spacing: 0.5px;
        }

        .coverage-value {
          font-size: 1.1rem;
          color: #1a365d;
          font-weight: 700;
        }

        /* Card Formula Section */
        .card-formula {
          padding: 1.5rem;
          background: white;
        }

        .formula-label {
          font-size: 0.85rem;
          font-weight: 700;
          color: #1a365d;
          text-transform: uppercase;
          letter-spacing: 1px;
          margin-bottom: 1rem;
        }

        .formula-content {
          display: flex;
          flex-wrap: wrap;
          gap: 0.75rem;
          align-items: center;
          line-height: 1.8;
        }

        .formula-component {
          display: inline-flex;
          align-items: center;
          gap: 0.4rem;
        }

        .parts {
          color: #333;
          font-size: 1rem;
        }

        .comp-code {
          color: #1a365d;
          font-weight: 700;
          font-size: 1.05rem;
        }

        .comp-name {
          color: #666;
          font-size: 0.9rem;
        }

        .separator {
          color: #ff6b35;
          font-weight: bold;
          font-size: 1rem;
          margin: 0 0.35rem;
        }

        .formula-component.solid {
          background: #fff5f0;
          padding: 0.5rem 0.75rem;
          border-radius: 4px;
          border: 1px solid #ff6b35;
        }

        .close-button {
          padding: 0.75rem 1.5rem;
          background: #e0e0e0;
          color: #333;
          border: none;
          border-radius: 4px;
          font-weight: 600;
          cursor: pointer;
          margin-top: 1rem;
        }

        .close-button:hover {
          background: #d0d0d0;
        }

        @media (max-width: 768px) {
          .blend-recipes-display {
            padding: 1rem;
          }

          .recipes-grid {
            grid-template-columns: 1fr;
          }

          .card-top {
            flex-direction: column;
            gap: 1rem;
            padding: 1rem;
          }

          .color-swatch {
            width: 60px;
            height: 60px;
          }

          .card-meta {
            width: 100%;
          }

          .meta-label {
            min-width: 70px;
          }

          .card-formula {
            padding: 1rem;
          }

          .formula-label {
            font-size: 0.75rem;
          }
        }
      `})]})}function fN({recipes:t,onClose:e}){if(!t||t.length===0)return u.jsxs("div",{className:"solid-summary-empty",children:[u.jsx("p",{children:"No colours in design."}),u.jsx("button",{onClick:e,className:"close-button",children:"Close"})]});const r=t.reduce((n,i)=>n+i.targetColor.areaPct,0);return u.jsxs("div",{className:"solid-color-summary",children:[u.jsxs("div",{className:"summary-header",children:[u.jsx("h3",{children:"TPV Colours Used"}),u.jsx("button",{onClick:e,className:"close-button-icon",children:""})]}),u.jsx("div",{className:"summary-info",children:u.jsxs("p",{className:"summary-description",children:["This design uses ",u.jsx("strong",{children:t.length})," pure TPV colour",t.length!==1?"s":""," (no blending required)"]})}),u.jsx("div",{className:"colors-list",children:t.map((n,i)=>{const o=n.chosenRecipe.components[0],a=n.targetColor.areaPct;return u.jsxs("div",{className:"color-item",children:[u.jsx("div",{className:"color-swatch",style:{backgroundColor:n.blendColor.hex},title:`${o.code} - ${o.name}`}),u.jsxs("div",{className:"color-details",children:[u.jsxs("div",{className:"color-primary",children:[u.jsx("span",{className:"color-code",children:o.code}),u.jsx("span",{className:"color-name",children:o.name})]}),u.jsxs("div",{className:"color-secondary",children:[u.jsx("span",{className:"hex-value",children:n.blendColor.hex}),u.jsxs("span",{className:"coverage-badge",children:[a.toFixed(1),"%"]})]})]})]},i)})}),u.jsxs("div",{className:"summary-footer",children:[u.jsxs("div",{className:"footer-stat",children:[u.jsx("span",{className:"stat-label",children:"Total Coverage:"}),u.jsxs("span",{className:"stat-value",children:[r.toFixed(1),"%"]})]}),u.jsxs("div",{className:"footer-stat",children:[u.jsx("span",{className:"stat-label",children:"TPV Colours:"}),u.jsx("span",{className:"stat-value",children:t.length})]})]}),u.jsx("style",{jsx:!0,children:`
        .solid-color-summary {
          background: #fff;
          border-radius: 8px;
          border: 1px solid #ddd;
          padding: 2rem;
          max-width: 800px;
          margin: 2rem auto;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .solid-summary-empty {
          background: #fff;
          border-radius: 8px;
          padding: 2rem;
          text-align: center;
        }

        .summary-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #1a365d;
        }

        .summary-header h3 {
          margin: 0;
          color: #1a365d;
          font-size: 1.8rem;
        }

        .close-button-icon {
          background: none;
          border: none;
          font-size: 2rem;
          color: #666;
          cursor: pointer;
          padding: 0;
          width: 32px;
          height: 32px;
          line-height: 1;
          transition: color 0.2s;
        }

        .close-button-icon:hover {
          color: #333;
        }

        .summary-info {
          background: #f9f9f9;
          padding: 1rem;
          border-radius: 6px;
          margin-bottom: 1.5rem;
        }

        .summary-description {
          margin: 0;
          color: #333;
          font-size: 1rem;
          line-height: 1.5;
        }

        /* Colors List */
        .colors-list {
          display: flex;
          flex-direction: column;
          gap: 1rem;
          margin-bottom: 1.5rem;
        }

        .color-item {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1rem;
          background: #f9f9f9;
          border-radius: 6px;
          border: 1px solid #e0e0e0;
          transition: all 0.2s;
        }

        .color-item:hover {
          border-color: #ff6b35;
          box-shadow: 0 2px 8px rgba(255, 107, 53, 0.15);
        }

        .color-swatch {
          width: 60px;
          height: 60px;
          border-radius: 8px;
          border: 2px solid #ddd;
          flex-shrink: 0;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .color-details {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .color-primary {
          display: flex;
          align-items: baseline;
          gap: 0.5rem;
        }

        .color-code {
          font-family: 'Courier New', monospace;
          font-weight: 700;
          font-size: 1.2rem;
          color: #1a365d;
        }

        .color-name {
          font-size: 1.1rem;
          color: #333;
          font-weight: 500;
        }

        .color-secondary {
          display: flex;
          align-items: center;
          gap: 1rem;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          font-size: 0.9rem;
          color: #666;
        }

        .coverage-badge {
          background: #ff6b35;
          color: white;
          padding: 0.25rem 0.75rem;
          border-radius: 12px;
          font-weight: 600;
          font-size: 0.9rem;
        }

        /* Summary Footer */
        .summary-footer {
          display: flex;
          justify-content: space-around;
          padding: 1.5rem;
          background: #f9f9f9;
          border-radius: 6px;
          border: 2px solid #ff6b35;
        }

        .footer-stat {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
        }

        .stat-label {
          font-size: 0.9rem;
          color: #666;
          font-weight: 500;
        }

        .stat-value {
          font-size: 1.5rem;
          font-weight: 700;
          color: #1a365d;
        }

        .close-button {
          padding: 0.75rem 1.5rem;
          background: #ff6b35;
          color: white;
          border: none;
          border-radius: 4px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s;
        }

        .close-button:hover {
          background: #e55a25;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
          .solid-color-summary {
            padding: 1rem;
          }

          .summary-header h3 {
            font-size: 1.4rem;
          }

          .color-item {
            flex-direction: column;
            align-items: flex-start;
          }

          .color-swatch {
            width: 100%;
            height: 50px;
          }

          .summary-footer {
            flex-direction: column;
            gap: 1rem;
          }
        }
      `})]})}const Ri=[{code:"RH01",name:"Standard Red",hex:"#A5362F",R:165,G:54,B:47,L:39.4,a:58.5,b:29},{code:"RH02",name:"Bright Red",hex:"#E21F2F",R:226,G:31,B:47,L:47.4,a:70.1,b:44},{code:"RH10",name:"Standard Green",hex:"#609B63",R:96,G:155,B:99,L:40.5,a:-42.2,b:17.9},{code:"RH11",name:"Bright Green",hex:"#3BB44A",R:59,G:180,B:74,L:62.1,a:-47.7,b:47.2},{code:"RH12",name:"Dark Green",hex:"#006C55",R:0,G:108,B:85,L:39.6,a:-38.3,b:13.1},{code:"RH20",name:"Standard Blue",hex:"#0075BC",R:0,G:117,B:188,L:36.4,a:14.2,b:-46.7},{code:"RH21",name:"Purple",hex:"#493D8C",R:73,G:61,B:140,L:31.5,a:41.9,b:-40.9},{code:"RH22",name:"Light Blue",hex:"#47AFE3",R:71,G:175,B:227,L:55.3,a:-19.1,b:-37.3},{code:"RH23",name:"Azure",hex:"#039DC4",R:3,G:157,B:196,L:47.7,a:-4.8,b:-34.8},{code:"RH26",name:"Turquoise",hex:"#00A6A3",R:0,G:166,B:163,L:58.8,a:-38.4,b:-3},{code:"RH30",name:"Standard Beige",hex:"#E4C4AA",R:228,G:196,B:170,L:75.2,a:3.8,b:24.8},{code:"RH31",name:"Cream",hex:"#E8E3D8",R:232,G:227,B:216,L:91.8,a:-.5,b:12.5},{code:"RH32",name:"Brown",hex:"#8B5F3C",R:139,G:95,B:60,L:40,a:15.9,b:27.1},{code:"RH90",name:"Funky Pink",hex:"#E8457E",R:232,G:69,B:126,L:55,a:66.1,b:4.9},{code:"RH40",name:"Mustard Yellow",hex:"#E5A144",R:229,G:161,B:68,L:66,a:8.4,b:56.3},{code:"RH41",name:"Bright Yellow",hex:"#FFD833",R:255,G:216,B:51,L:86.9,a:-1,b:90.6},{code:"RH50",name:"Orange",hex:"#F15B32",R:241,G:91,B:50,L:63.2,a:49.8,b:60.2},{code:"RH60",name:"Dark Grey",hex:"#59595B",R:89,G:89,B:91,L:34.1,a:-.4,b:-2.4},{code:"RH61",name:"Light Grey",hex:"#939598",R:147,G:149,B:152,L:69,a:-.5,b:-1},{code:"RH65",name:"Pale Grey",hex:"#D9D9D6",R:217,G:217,B:214,L:87.6,a:-.2,b:-.7},{code:"RH70",name:"Black",hex:"#231F20",R:35,G:31,B:32,L:9.1,a:-.3,b:-6.3}];function Py({content:t,position:e="top"}){const[r,n]=H.useState(!1);return u.jsxs("div",{className:"help-icon-container",children:[u.jsx("button",{className:"help-icon",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:i=>{i.preventDefault(),i.stopPropagation(),n(!r)},type:"button","aria-label":"Help",children:"?"}),r&&u.jsx("div",{className:`help-tooltip help-tooltip-${e}`,children:t}),u.jsx("style",{children:`
        .help-icon-container {
          position: relative;
          display: inline-block;
        }

        .help-icon {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 18px;
          height: 18px;
          border-radius: 50%;
          background: #6b7280;
          color: white;
          border: none;
          font-size: 12px;
          font-weight: 600;
          cursor: help;
          transition: all 0.2s;
          padding: 0;
          line-height: 1;
        }

        .help-icon:hover {
          background: #374151;
          transform: scale(1.1);
        }

        .help-tooltip {
          position: absolute;
          z-index: 1000;
          background: #1f2937;
          color: white;
          padding: 0.75rem 1rem;
          border-radius: 6px;
          font-size: 0.875rem;
          line-height: 1.5;
          max-width: 300px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
          pointer-events: none;
          white-space: normal;
        }

        .help-tooltip-top {
          bottom: calc(100% + 8px);
          left: 50%;
          transform: translateX(-50%);
        }

        .help-tooltip-top::after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          border: 6px solid transparent;
          border-top-color: #1f2937;
        }

        .help-tooltip-bottom {
          top: calc(100% + 8px);
          left: 50%;
          transform: translateX(-50%);
        }

        .help-tooltip-bottom::after {
          content: '';
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          border: 6px solid transparent;
          border-bottom-color: #1f2937;
        }

        .help-tooltip-right {
          left: calc(100% + 8px);
          top: 50%;
          transform: translateY(-50%);
        }

        .help-tooltip-right::after {
          content: '';
          position: absolute;
          right: 100%;
          top: 50%;
          transform: translateY(-50%);
          border: 6px solid transparent;
          border-right-color: #1f2937;
        }

        .help-tooltip-left {
          right: calc(100% + 8px);
          top: 50%;
          transform: translateY(-50%);
        }

        .help-tooltip-left::after {
          content: '';
          position: absolute;
          left: 100%;
          top: 50%;
          transform: translateY(-50%);
          border: 6px solid transparent;
          border-left-color: #1f2937;
        }

        @media (max-width: 768px) {
          .help-tooltip {
            max-width: 250px;
            font-size: 0.8125rem;
            padding: 0.625rem 0.875rem;
          }
        }
      `})]})}function pN({recipes:t,mode:e="blend",onColorClick:r,selectedColor:n,editedColors:i,onResetAll:o}){if(!t||t.length===0)return null;const a=h=>!i||i.size===0?!1:i.has(h.originalColor.hex.toLowerCase()),s=i&&i.size>0,l=h=>{const f=h.toLowerCase();return Ri.find(p=>p.hex.toLowerCase()===f)},c=h=>{if(e==="solid"){const f=l(h.blendColor.hex);if(f)return`${f.code} - ${f.name}`}return h.blendColor.hex},d=h=>{if(!n)return!1;const f=n.blendHex||n.hex;return h.blendColor.hex===f||h.targetColor.hex===f};return u.jsxs("div",{className:"color-legend",children:[u.jsxs("div",{className:"legend-header",children:[u.jsxs("div",{className:"legend-header-left",children:[u.jsx("span",{className:"legend-title",children:"Colours"}),u.jsx(Py,{content:"Click any colour to edit all instances of that colour across the design. Changes apply to every region using that colour.",position:"right"}),r&&u.jsx("span",{className:"edit-hint",children:"(click to edit)"})]}),s&&o&&u.jsx("button",{onClick:o,className:"reset-all-btn",title:"Reset all colours to original",children:"Reset All"})]}),u.jsx("div",{className:"legend-colors",children:t.map((h,f)=>u.jsxs("div",{className:`color-item ${r?"clickable":""} ${d(h)?"selected":""}`,onClick:()=>{r&&r({hex:h.targetColor.hex,originalHex:h.originalColor.hex,blendHex:h.blendColor.hex,areaPct:h.targetColor.areaPct,recipe:h.chosenRecipe,targetColor:h.targetColor},"palette")},title:r?"Click to edit this colour":"",children:[u.jsxs("div",{className:"color-swatch-wrapper",children:[u.jsx("div",{className:"color-swatch",style:{backgroundColor:h.blendColor.hex}}),a(h)&&u.jsx("span",{className:"edit-indicator",title:"Colour has been modified",children:u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"12",height:"12",children:u.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})})]}),u.jsxs("div",{className:"color-info",children:[u.jsx("span",{className:e==="solid"?"tpv-label":"hex-value",children:c(h)}),u.jsxs("span",{className:"coverage",children:[h.targetColor.areaPct.toFixed(1),"%"]})]})]},f))}),u.jsx("style",{jsx:!0,children:`
        .color-legend {
          background: rgba(255, 255, 255, 0.95);
          border: 1px solid #ddd;
          border-radius: 8px;
          padding: 1rem;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          width: 100%;
        }

        .legend-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 0.5rem;
          margin-bottom: 0.75rem;
          padding-bottom: 0.5rem;
          border-bottom: 1px solid #e0e0e0;
        }

        .legend-header-left {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .legend-title {
          font-weight: 600;
          color: #1a365d;
          font-size: 0.95rem;
        }

        .edit-hint {
          font-size: 0.75rem;
          color: #ff6b35;
          font-weight: normal;
        }

        .reset-all-btn {
          padding: 0.25rem 0.5rem;
          font-size: 0.7rem;
          font-weight: 600;
          color: #ff6b35;
          background: #fff5f0;
          border: 1px solid #ff6b35;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .reset-all-btn:hover {
          background: #ff6b35;
          color: white;
        }

        .legend-colors {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
          gap: 0.75rem;
        }

        .color-item {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 0.5rem;
          border-radius: 4px;
          background: white;
          border: 1px solid #e8e8e8;
          transition: all 0.2s;
        }

        .color-item.clickable {
          cursor: pointer;
        }

        .color-item.clickable:hover {
          border-color: #ff6b35;
          background: #fff9f7;
          box-shadow: 0 2px 4px rgba(255, 107, 53, 0.15);
          transform: translateY(-2px);
        }

        .color-item.selected {
          border-color: #ff6b35;
          border-width: 2px;
          background: #fff9f7;
          box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.2);
          transform: translateY(-2px);
        }

        .color-swatch-wrapper {
          position: relative;
          flex-shrink: 0;
        }

        .color-swatch {
          width: 40px;
          height: 40px;
          border-radius: 4px;
          border: 2px solid #ddd;
        }

        .edit-indicator {
          position: absolute;
          top: -4px;
          right: -4px;
          width: 16px;
          height: 16px;
          background: #ff6b35;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .edit-indicator svg {
          width: 10px;
          height: 10px;
        }

        .color-info {
          display: flex;
          flex-direction: column;
          gap: 0.25rem;
          font-size: 0.85rem;
        }

        .hex-value {
          font-family: 'Courier New', monospace;
          font-weight: 600;
          color: #333;
        }

        .tpv-label {
          font-weight: 600;
          color: #1a365d;
          font-size: 0.9rem;
        }

        .coverage {
          color: #666;
          font-size: 0.8rem;
        }

        /* Mobile - compact horizontal grid of swatches */
        @media (max-width: 768px) {
          .color-legend {
            padding: 0.75rem;
          }

          .legend-header {
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
          }

          .legend-title {
            font-size: 0.85rem;
          }

          .edit-hint {
            font-size: 0.7rem;
          }

          .reset-all-btn {
            font-size: 0.65rem;
            padding: 0.2rem 0.4rem;
            min-height: 28px;
          }

          /* Horizontal scrolling grid of swatches */
          .legend-colors {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            justify-content: flex-start;
          }

          .color-item {
            flex-direction: column;
            padding: 0.25rem;
            border-radius: 6px;
            width: auto;
            min-width: 44px;
          }

          /* Hide text info on mobile - just show swatches */
          .color-info {
            display: none;
          }

          .color-swatch {
            width: 44px;
            height: 44px;
            border-radius: 6px;
          }

          .color-item.selected {
            transform: none;
            box-shadow: 0 0 0 2px rgba(255, 107, 53, 0.4);
          }

          .color-item.clickable:hover {
            transform: none;
          }

          .edit-indicator {
            top: -2px;
            right: -2px;
            width: 14px;
            height: 14px;
          }

          .edit-indicator svg {
            width: 8px;
            height: 8px;
          }
        }

        @media (max-width: 480px) {
          .color-legend {
            padding: 0.5rem;
          }

          .legend-colors {
            gap: 0.35rem;
          }

          .color-swatch {
            width: 40px;
            height: 40px;
          }

          .color-item {
            min-width: 40px;
          }
        }
      `})]})}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */var ng,K1;function X1(){if(K1)return ng;K1=1;const{entries:t,setPrototypeOf:e,isFrozen:r,getPrototypeOf:n,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}=typeof Reflect<"u"&&Reflect;o||(o=function($){return $}),a||(a=function($){return $}),l||(l=function($,le){for(var re=arguments.length,X=new Array(re>2?re-2:0),ne=2;ne<re;ne++)X[ne-2]=arguments[ne];return $.apply(le,X)}),c||(c=function($){for(var le=arguments.length,re=new Array(le>1?le-1:0),X=1;X<le;X++)re[X-1]=arguments[X];return new $(...re)});const d=P(Array.prototype.forEach),h=P(Array.prototype.lastIndexOf),f=P(Array.prototype.pop),p=P(Array.prototype.push),g=P(Array.prototype.splice),m=P(String.prototype.toLowerCase),y=P(String.prototype.toString),v=P(String.prototype.match),b=P(String.prototype.replace),x=P(String.prototype.indexOf),w=P(String.prototype.trim),S=P(Object.prototype.hasOwnProperty),k=P(RegExp.prototype.test),C=E(TypeError);function P(Z){return function($){$ instanceof RegExp&&($.lastIndex=0);for(var le=arguments.length,re=new Array(le>1?le-1:0),X=1;X<le;X++)re[X-1]=arguments[X];return l(Z,$,re)}}function E(Z){return function(){for(var $=arguments.length,le=new Array($),re=0;re<$;re++)le[re]=arguments[re];return c(Z,le)}}function R(Z,$){let le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;e&&e(Z,null);let re=$.length;for(;re--;){let X=$[re];if(typeof X=="string"){const ne=le(X);ne!==X&&(r($)||($[re]=ne),X=ne)}Z[X]=!0}return Z}function N(Z){for(let $=0;$<Z.length;$++)S(Z,$)||(Z[$]=null);return Z}function T(Z){const $=s(null);for(const[le,re]of t(Z))S(Z,le)&&(Array.isArray(re)?$[le]=N(re):re&&typeof re=="object"&&re.constructor===Object?$[le]=T(re):$[le]=re);return $}function D(Z,$){for(;Z!==null;){const re=i(Z,$);if(re){if(re.get)return P(re.get);if(typeof re.value=="function")return P(re.value)}Z=n(Z)}function le(){return null}return le}const _=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),G=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),W=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),A=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=o(["#text"]),B=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),V=o(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),he=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ae=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ce=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ae=a(/<%[\w\W]*|[\w\W]*%>/gm),Re=a(/\$\{[\w\W]*/gm),ke=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ee=a(/^aria-[\-\w]+$/),Ze=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ot=a(/^(?:\w+script|data):/i),Ot=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Dt=a(/^html$/i),j=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var oe=Object.freeze({__proto__:null,ARIA_ATTR:Ee,ATTR_WHITESPACE:Ot,CUSTOM_ELEMENT:j,DATA_ATTR:ke,DOCTYPE_NAME:Dt,ERB_EXPR:Ae,IS_ALLOWED_URI:Ze,IS_SCRIPT_OR_DATA:ot,MUSTACHE_EXPR:ce,TMPLIT_EXPR:Re});const J={element:1,text:3,progressingInstruction:7,comment:8,document:9},I=function(){return typeof window>"u"?null:window},F=function($,le){if(typeof $!="object"||typeof $.createPolicy!="function")return null;let re=null;const X="data-tt-policy-suffix";le&&le.hasAttribute(X)&&(re=le.getAttribute(X));const ne="dompurify"+(re?"#"+re:"");try{return $.createPolicy(ne,{createHTML(se){return se},createScriptURL(se){return se}})}catch{return console.warn("TrustedTypes policy "+ne+" could not be created."),null}},K=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ee(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I();const $=Le=>ee(Le);if($.version="3.3.0",$.removed=[],!Z||!Z.document||Z.document.nodeType!==J.document||!Z.Element)return $.isSupported=!1,$;let{document:le}=Z;const re=le,X=re.currentScript,{DocumentFragment:ne,HTMLTemplateElement:se,Node:me,Element:_e,NodeFilter:be,NamedNodeMap:Je=Z.NamedNodeMap||Z.MozNamedAttrMap,HTMLFormElement:pe,DOMParser:it,trustedTypes:rt}=Z,st=_e.prototype,Ut=D(st,"cloneNode"),bt=D(st,"remove"),Ue=D(st,"nextSibling"),lt=D(st,"childNodes"),It=D(st,"parentNode");if(typeof se=="function"){const Le=le.createElement("template");Le.content&&Le.content.ownerDocument&&(le=Le.content.ownerDocument)}let ct,Xt="";const{implementation:En,createNodeIterator:Ad,createDocumentFragment:cc,getElementsByTagName:Nd}=le,{importNode:uc}=re;let sr=K();$.isSupported=typeof t=="function"&&typeof It=="function"&&En&&En.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:cn,ERB_EXPR:Fi,TMPLIT_EXPR:dc,DATA_ATTR:ds,ARIA_ATTR:Fd,IS_SCRIPT_OR_DATA:Dd,ATTR_WHITESPACE:Id,CUSTOM_ELEMENT:hs}=oe;let{IS_ALLOWED_URI:Md}=oe,lr=null;const Ld=R({},[..._,...G,...U,...W,...q]);let At=null;const zd=R({},[...B,...V,...he,...ae]);let Et=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),gi=null,Jr=null;const ho=Object.seal(s(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let fs=!0,fo=!0,hc=!1,fc=!0,Di=!1,ca=!0,mi=!1,pc=!1,gc=!1,Xn=!1,ps=!1,ua=!1,Bd=!0,Ud=!1;const y0="user-content-";let gs=!0,po=!1,go={},Ii=null;const Hd=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mc=null;const ms=R({},["audio","video","img","source","image","track"]);let vs=null;const Wd=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),da="http://www.w3.org/1998/Math/MathML",ys="http://www.w3.org/2000/svg",Tn="http://www.w3.org/1999/xhtml";let Mi=Tn,bs=!1,vc=null;const Vd=R({},[da,ys,Tn],y);let ha=R({},["mi","mo","mn","ms","mtext"]),fa=R({},["annotation-xml"]);const b0=R({},["title","style","font","a","script"]);let pa=null;const ga=["application/xhtml+xml","text/html"],xs="text/html";let cr=null,mo=null;const Gd=le.createElement("form"),te=function(Y){return Y instanceof RegExp||Y instanceof Function},ue=function(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mo&&mo===Y)){if((!Y||typeof Y!="object")&&(Y={}),Y=T(Y),pa=ga.indexOf(Y.PARSER_MEDIA_TYPE)===-1?xs:Y.PARSER_MEDIA_TYPE,cr=pa==="application/xhtml+xml"?y:m,lr=S(Y,"ALLOWED_TAGS")?R({},Y.ALLOWED_TAGS,cr):Ld,At=S(Y,"ALLOWED_ATTR")?R({},Y.ALLOWED_ATTR,cr):zd,vc=S(Y,"ALLOWED_NAMESPACES")?R({},Y.ALLOWED_NAMESPACES,y):Vd,vs=S(Y,"ADD_URI_SAFE_ATTR")?R(T(Wd),Y.ADD_URI_SAFE_ATTR,cr):Wd,mc=S(Y,"ADD_DATA_URI_TAGS")?R(T(ms),Y.ADD_DATA_URI_TAGS,cr):ms,Ii=S(Y,"FORBID_CONTENTS")?R({},Y.FORBID_CONTENTS,cr):Hd,gi=S(Y,"FORBID_TAGS")?R({},Y.FORBID_TAGS,cr):T({}),Jr=S(Y,"FORBID_ATTR")?R({},Y.FORBID_ATTR,cr):T({}),go=S(Y,"USE_PROFILES")?Y.USE_PROFILES:!1,fs=Y.ALLOW_ARIA_ATTR!==!1,fo=Y.ALLOW_DATA_ATTR!==!1,hc=Y.ALLOW_UNKNOWN_PROTOCOLS||!1,fc=Y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Di=Y.SAFE_FOR_TEMPLATES||!1,ca=Y.SAFE_FOR_XML!==!1,mi=Y.WHOLE_DOCUMENT||!1,Xn=Y.RETURN_DOM||!1,ps=Y.RETURN_DOM_FRAGMENT||!1,ua=Y.RETURN_TRUSTED_TYPE||!1,gc=Y.FORCE_BODY||!1,Bd=Y.SANITIZE_DOM!==!1,Ud=Y.SANITIZE_NAMED_PROPS||!1,gs=Y.KEEP_CONTENT!==!1,po=Y.IN_PLACE||!1,Md=Y.ALLOWED_URI_REGEXP||Ze,Mi=Y.NAMESPACE||Tn,ha=Y.MATHML_TEXT_INTEGRATION_POINTS||ha,fa=Y.HTML_INTEGRATION_POINTS||fa,Et=Y.CUSTOM_ELEMENT_HANDLING||{},Y.CUSTOM_ELEMENT_HANDLING&&te(Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Et.tagNameCheck=Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&te(Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Et.attributeNameCheck=Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&typeof Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Et.allowCustomizedBuiltInElements=Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Di&&(fo=!1),ps&&(Xn=!0),go&&(lr=R({},q),At=[],go.html===!0&&(R(lr,_),R(At,B)),go.svg===!0&&(R(lr,G),R(At,V),R(At,ae)),go.svgFilters===!0&&(R(lr,U),R(At,V),R(At,ae)),go.mathMl===!0&&(R(lr,W),R(At,he),R(At,ae))),Y.ADD_TAGS&&(typeof Y.ADD_TAGS=="function"?ho.tagCheck=Y.ADD_TAGS:(lr===Ld&&(lr=T(lr)),R(lr,Y.ADD_TAGS,cr))),Y.ADD_ATTR&&(typeof Y.ADD_ATTR=="function"?ho.attributeCheck=Y.ADD_ATTR:(At===zd&&(At=T(At)),R(At,Y.ADD_ATTR,cr))),Y.ADD_URI_SAFE_ATTR&&R(vs,Y.ADD_URI_SAFE_ATTR,cr),Y.FORBID_CONTENTS&&(Ii===Hd&&(Ii=T(Ii)),R(Ii,Y.FORBID_CONTENTS,cr)),gs&&(lr["#text"]=!0),mi&&R(lr,["html","head","body"]),lr.table&&(R(lr,["tbody"]),delete gi.tbody),Y.TRUSTED_TYPES_POLICY){if(typeof Y.TRUSTED_TYPES_POLICY.createHTML!="function")throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw C('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ct=Y.TRUSTED_TYPES_POLICY,Xt=ct.createHTML("")}else ct===void 0&&(ct=F(rt,X)),ct!==null&&typeof Xt=="string"&&(Xt=ct.createHTML(""));o&&o(Y),mo=Y}},xe=R({},[...G,...U,...O]),Se=R({},[...W,...A]),nt=function(Y){let ve=It(Y);(!ve||!ve.tagName)&&(ve={namespaceURI:Mi,tagName:"template"});const Te=m(Y.tagName),Zt=m(ve.tagName);return vc[Y.namespaceURI]?Y.namespaceURI===ys?ve.namespaceURI===Tn?Te==="svg":ve.namespaceURI===da?Te==="svg"&&(Zt==="annotation-xml"||ha[Zt]):!!xe[Te]:Y.namespaceURI===da?ve.namespaceURI===Tn?Te==="math":ve.namespaceURI===ys?Te==="math"&&fa[Zt]:!!Se[Te]:Y.namespaceURI===Tn?ve.namespaceURI===ys&&!fa[Zt]||ve.namespaceURI===da&&!ha[Zt]?!1:!Se[Te]&&(b0[Te]||!xe[Te]):!!(pa==="application/xhtml+xml"&&vc[Y.namespaceURI]):!1},Ne=function(Y){p($.removed,{element:Y});try{It(Y).removeChild(Y)}catch{bt(Y)}},je=function(Y,ve){try{p($.removed,{attribute:ve.getAttributeNode(Y),from:ve})}catch{p($.removed,{attribute:null,from:ve})}if(ve.removeAttribute(Y),Y==="is")if(Xn||ps)try{Ne(ve)}catch{}else try{ve.setAttribute(Y,"")}catch{}},Fe=function(Y){let ve=null,Te=null;if(gc)Y="<remove></remove>"+Y;else{const ur=v(Y,/^[\r\n\t ]+/);Te=ur&&ur[0]}pa==="application/xhtml+xml"&&Mi===Tn&&(Y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y+"</body></html>");const Zt=ct?ct.createHTML(Y):Y;if(Mi===Tn)try{ve=new it().parseFromString(Zt,pa)}catch{}if(!ve||!ve.documentElement){ve=En.createDocument(Mi,"template",null);try{ve.documentElement.innerHTML=bs?Xt:Zt}catch{}}const Fr=ve.body||ve.documentElement;return Y&&Te&&Fr.insertBefore(le.createTextNode(Te),Fr.childNodes[0]||null),Mi===Tn?Nd.call(ve,mi?"html":"body")[0]:mi?ve.documentElement:Fr},at=function(Y){return Ad.call(Y.ownerDocument||Y,Y,be.SHOW_ELEMENT|be.SHOW_COMMENT|be.SHOW_TEXT|be.SHOW_PROCESSING_INSTRUCTION|be.SHOW_CDATA_SECTION,null)},tt=function(Y){return Y instanceof pe&&(typeof Y.nodeName!="string"||typeof Y.textContent!="string"||typeof Y.removeChild!="function"||!(Y.attributes instanceof Je)||typeof Y.removeAttribute!="function"||typeof Y.setAttribute!="function"||typeof Y.namespaceURI!="string"||typeof Y.insertBefore!="function"||typeof Y.hasChildNodes!="function")},Nt=function(Y){return typeof me=="function"&&Y instanceof me};function Mt(Le,Y,ve){d(Le,Te=>{Te.call($,Y,ve,mo)})}const Ht=function(Y){let ve=null;if(Mt(sr.beforeSanitizeElements,Y,null),tt(Y))return Ne(Y),!0;const Te=cr(Y.nodeName);if(Mt(sr.uponSanitizeElement,Y,{tagName:Te,allowedTags:lr}),ca&&Y.hasChildNodes()&&!Nt(Y.firstElementChild)&&k(/<[/\w!]/g,Y.innerHTML)&&k(/<[/\w!]/g,Y.textContent)||Y.nodeType===J.progressingInstruction||ca&&Y.nodeType===J.comment&&k(/<[/\w]/g,Y.data))return Ne(Y),!0;if(!(ho.tagCheck instanceof Function&&ho.tagCheck(Te))&&(!lr[Te]||gi[Te])){if(!gi[Te]&&Tt(Te)&&(Et.tagNameCheck instanceof RegExp&&k(Et.tagNameCheck,Te)||Et.tagNameCheck instanceof Function&&Et.tagNameCheck(Te)))return!1;if(gs&&!Ii[Te]){const Zt=It(Y)||Y.parentNode,Fr=lt(Y)||Y.childNodes;if(Fr&&Zt){const ur=Fr.length;for(let Qr=ur-1;Qr>=0;--Qr){const Li=Ut(Fr[Qr],!0);Li.__removalCount=(Y.__removalCount||0)+1,Zt.insertBefore(Li,Ue(Y))}}}return Ne(Y),!0}return Y instanceof _e&&!nt(Y)||(Te==="noscript"||Te==="noembed"||Te==="noframes")&&k(/<\/no(script|embed|frames)/i,Y.innerHTML)?(Ne(Y),!0):(Di&&Y.nodeType===J.text&&(ve=Y.textContent,d([cn,Fi,dc],Zt=>{ve=b(ve,Zt," ")}),Y.textContent!==ve&&(p($.removed,{element:Y.cloneNode()}),Y.textContent=ve)),Mt(sr.afterSanitizeElements,Y,null),!1)},Ft=function(Y,ve,Te){if(Bd&&(ve==="id"||ve==="name")&&(Te in le||Te in Gd))return!1;if(!(fo&&!Jr[ve]&&k(ds,ve))){if(!(fs&&k(Fd,ve))){if(!(ho.attributeCheck instanceof Function&&ho.attributeCheck(ve,Y))){if(!At[ve]||Jr[ve]){if(!(Tt(Y)&&(Et.tagNameCheck instanceof RegExp&&k(Et.tagNameCheck,Y)||Et.tagNameCheck instanceof Function&&Et.tagNameCheck(Y))&&(Et.attributeNameCheck instanceof RegExp&&k(Et.attributeNameCheck,ve)||Et.attributeNameCheck instanceof Function&&Et.attributeNameCheck(ve,Y))||ve==="is"&&Et.allowCustomizedBuiltInElements&&(Et.tagNameCheck instanceof RegExp&&k(Et.tagNameCheck,Te)||Et.tagNameCheck instanceof Function&&Et.tagNameCheck(Te))))return!1}else if(!vs[ve]){if(!k(Md,b(Te,Id,""))){if(!((ve==="src"||ve==="xlink:href"||ve==="href")&&Y!=="script"&&x(Te,"data:")===0&&mc[Y])){if(!(hc&&!k(Dd,b(Te,Id,"")))){if(Te)return!1}}}}}}}return!0},Tt=function(Y){return Y!=="annotation-xml"&&v(Y,hs)},ma=function(Y){Mt(sr.beforeSanitizeAttributes,Y,null);const{attributes:ve}=Y;if(!ve||tt(Y))return;const Te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:At,forceKeepAttr:void 0};let Zt=ve.length;for(;Zt--;){const Fr=ve[Zt],{name:ur,namespaceURI:Qr,value:Li}=Fr,ws=cr(ur),x0=Li;let Er=ur==="value"?x0:w(x0);if(Te.attrName=ws,Te.attrValue=Er,Te.keepAttr=!0,Te.forceKeepAttr=void 0,Mt(sr.uponSanitizeAttribute,Y,Te),Er=Te.attrValue,Ud&&(ws==="id"||ws==="name")&&(je(ur,Y),Er=y0+Er),ca&&k(/((--!?|])>)|<\/(style|title|textarea)/i,Er)){je(ur,Y);continue}if(ws==="attributename"&&v(Er,"href")){je(ur,Y);continue}if(Te.forceKeepAttr)continue;if(!Te.keepAttr){je(ur,Y);continue}if(!fc&&k(/\/>/i,Er)){je(ur,Y);continue}Di&&d([cn,Fi,dc],tx=>{Er=b(Er,tx," ")});const ex=cr(Y.nodeName);if(!Ft(ex,ws,Er)){je(ur,Y);continue}if(ct&&typeof rt=="object"&&typeof rt.getAttributeType=="function"&&!Qr)switch(rt.getAttributeType(ex,ws)){case"TrustedHTML":{Er=ct.createHTML(Er);break}case"TrustedScriptURL":{Er=ct.createScriptURL(Er);break}}if(Er!==x0)try{Qr?Y.setAttributeNS(Qr,ur,Er):Y.setAttribute(ur,Er),tt(Y)?Ne(Y):f($.removed)}catch{je(ur,Y)}}Mt(sr.afterSanitizeAttributes,Y,null)},yc=function Le(Y){let ve=null;const Te=at(Y);for(Mt(sr.beforeSanitizeShadowDOM,Y,null);ve=Te.nextNode();)Mt(sr.uponSanitizeShadowNode,ve,null),Ht(ve),ma(ve),ve.content instanceof ne&&Le(ve.content);Mt(sr.afterSanitizeShadowDOM,Y,null)};return $.sanitize=function(Le){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=null,Te=null,Zt=null,Fr=null;if(bs=!Le,bs&&(Le="<!-->"),typeof Le!="string"&&!Nt(Le))if(typeof Le.toString=="function"){if(Le=Le.toString(),typeof Le!="string")throw C("dirty is not a string, aborting")}else throw C("toString is not a function");if(!$.isSupported)return Le;if(pc||ue(Y),$.removed=[],typeof Le=="string"&&(po=!1),po){if(Le.nodeName){const Li=cr(Le.nodeName);if(!lr[Li]||gi[Li])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(Le instanceof me)ve=Fe("<!---->"),Te=ve.ownerDocument.importNode(Le,!0),Te.nodeType===J.element&&Te.nodeName==="BODY"||Te.nodeName==="HTML"?ve=Te:ve.appendChild(Te);else{if(!Xn&&!Di&&!mi&&Le.indexOf("<")===-1)return ct&&ua?ct.createHTML(Le):Le;if(ve=Fe(Le),!ve)return Xn?null:ua?Xt:""}ve&&gc&&Ne(ve.firstChild);const ur=at(po?Le:ve);for(;Zt=ur.nextNode();)Ht(Zt),ma(Zt),Zt.content instanceof ne&&yc(Zt.content);if(po)return Le;if(Xn){if(ps)for(Fr=cc.call(ve.ownerDocument);ve.firstChild;)Fr.appendChild(ve.firstChild);else Fr=ve;return(At.shadowroot||At.shadowrootmode)&&(Fr=uc.call(re,Fr,!0)),Fr}let Qr=mi?ve.outerHTML:ve.innerHTML;return mi&&lr["!doctype"]&&ve.ownerDocument&&ve.ownerDocument.doctype&&ve.ownerDocument.doctype.name&&k(Dt,ve.ownerDocument.doctype.name)&&(Qr="<!DOCTYPE "+ve.ownerDocument.doctype.name+`>
`+Qr),Di&&d([cn,Fi,dc],Li=>{Qr=b(Qr,Li," ")}),ct&&ua?ct.createHTML(Qr):Qr},$.setConfig=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ue(Le),pc=!0},$.clearConfig=function(){mo=null,pc=!1},$.isValidAttribute=function(Le,Y,ve){mo||ue({});const Te=cr(Le),Zt=cr(Y);return Ft(Te,Zt,ve)},$.addHook=function(Le,Y){typeof Y=="function"&&p(sr[Le],Y)},$.removeHook=function(Le,Y){if(Y!==void 0){const ve=h(sr[Le],Y);return ve===-1?void 0:g(sr[Le],ve,1)[0]}return f(sr[Le])},$.removeHooks=function(Le){sr[Le]=[]},$.removeAllHooks=function(){sr=K()},$}var ie=ee();return ng=ie,ng}var gN=self.DOMPurify||(self.DOMPurify=X1().default||X1());const mN=id(gN);function zj(t,e={}){if(!t||typeof t!="string")return console.warn("[SVG-SANITIZE] Invalid input:",typeof t),"";const r={USE_PROFILES:{svg:!0,svgFilters:!0},FORBID_TAGS:["script","foreignObject","iframe","embed"],FORBID_ATTR:["onload","onerror","onclick","onmouseover","onmouseout","onmouseenter","onmouseleave","onmousemove","onmousedown","onmouseup","onfocus","onblur","onkeydown","onkeyup","onkeypress","onsubmit","onreset","onselect","onchange","oninput","onanimationstart","onanimationend","onanimationiteration","ontransitionend","ontransitionrun","ontransitionstart","ontransitioncancel","xlink:href",...e.additionalForbiddenAttrs||[]],ALLOW_DATA_ATTR:!0,ALLOW_COMMENTS:!1,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,HOOKS:{afterSanitizeAttributes:n=>{if(n.hasAttribute("href")){const i=n.getAttribute("href");i&&i.toLowerCase().trim().startsWith("javascript:")&&(n.removeAttribute("href"),console.warn("[SVG-SANITIZE] Removed javascript: href"))}if(n.hasAttribute("xlink:href")){const i=n.getAttribute("xlink:href");i&&(i.toLowerCase().trim().startsWith("javascript:")||i.toLowerCase().trim().startsWith("data:text/html"))&&(n.removeAttribute("xlink:href"),console.warn("[SVG-SANITIZE] Removed dangerous xlink:href"))}}},...e};try{const n=mN.sanitize(t,r);if(!n||!n.includes("<svg"))return console.error("[SVG-SANITIZE] Sanitization removed SVG content - input may be malicious"),"";const i=t.length,o=n.length,a=(i-o)/i*100;return a>10&&console.warn(`[SVG-SANITIZE] Removed ${a.toFixed(1)}% of content (${i-o} chars) - possible malicious SVG detected`),n}catch(n){return console.error("[SVG-SANITIZE] Sanitization failed:",n),""}}function Z1({blendSvgUrl:t,recipes:e,mode:r="blend",onColorClick:n,onRegionClick:i,onEyedropperCancel:o,selectedColor:a,editedColors:s,onResetAll:l,designName:c="",onNameChange:d,isNameLoading:h=!1,onInSituClick:f,eyedropperActive:p=!1,eyedropperRegion:g=null,onRegionUndo:m,onRegionRedo:y,canUndo:v=!1,canRedo:b=!1,regionOverridesCount:x=0}){const[w,S]=H.useState(null),[k,C]=H.useState(null),P=H.useRef(null),E=H.useRef(null);H.useRef(null);const[R,N]=H.useState(1),[T,D]=H.useState({x:0,y:0}),[_,G]=H.useState(!1),[U,O]=H.useState({x:0,y:0}),W=H.useRef(null),A=H.useRef(!1),[q,B]=H.useState(()=>localStorage.getItem("tpv_color_editing_tip_dismissed")!=="true"),V=()=>{B(!1),localStorage.setItem("tpv_color_editing_tip_dismissed","true")};H.useEffect(()=>{if(!t){C(null);return}(async()=>{try{const F=await(await fetch(t)).text();C(F);const K=F.includes("data-region-id"),ee=(F.match(/data-region-id/g)||[]).length;console.log("[SVGPreview] Fetched inline SVG content - length:",F.length,"hasRegionTags:",K,"regionCount:",ee)}catch(I){console.error("[SVGPreview] Failed to fetch SVG content:",I),C(null)}})()},[t]);const he=H.useMemo(()=>{if(!k)return null;console.log("[SVGPreview] Sanitizing SVG content...");const J=zj(k);return J?(console.log("[SVGPreview] SVG sanitization complete - length:",J.length),console.log("[SVGPreview] Sanitized content preview:",J.substring(0,200)),J.includes("<svg")?J.replace(/<svg([^>]*)>/i,(F,K)=>(K.includes("width=")||(K+=' width="100%"'),K.includes("height=")||(K+=' height="100%"'),`<svg${K}>`)):(console.error("[SVGPreview] Sanitized SVG does not contain <svg> tag!"),null)):(console.error("[SVGPreview] SVG sanitization failed - content rejected"),null)},[k]);H.useEffect(()=>{if(!a||!t){S(null);return}(async()=>{try{console.log("[SVGPreview] Creating highlight for color:",a);const I=new Image;I.crossOrigin="anonymous";const F=new Promise((me,_e)=>{I.onload=()=>{console.log("[SVGPreview] Image loaded:",I.width,"x",I.height),me()},I.onerror=be=>{console.error("[SVGPreview] Image load error:",be),_e(be)}});I.src=t,await F;const K=document.createElement("canvas");K.width=I.naturalWidth||I.width||1e3,K.height=I.naturalHeight||I.height||1e3;const ee=K.getContext("2d");ee.drawImage(I,0,0);const Z=ee.getImageData(0,0,K.width,K.height).data,$=a.hex,le=ae($);console.log("[SVGPreview] Target color:",$,le);const re=new Set;let X=0;for(let me=0;me<K.height;me++)for(let _e=0;_e<K.width;_e++){const be=(me*K.width+_e)*4,Je=Z[be],pe=Z[be+1],it=Z[be+2];Z[be+3]>0&&ce(Je,pe,it,le)&&(re.add(`${_e},${me}`),X++)}if(console.log("[SVGPreview] Matched pixels:",X),X===0){console.warn("[SVGPreview] No pixels matched the target color"),S(null);return}const ne=ee.createImageData(K.width,K.height);for(let me=0;me<K.height;me++)for(let _e=0;_e<K.width;_e++){const be=(me*K.width+_e)*4;re.has(`${_e},${me}`)&&(!re.has(`${_e-1},${me}`)||!re.has(`${_e+1},${me}`)||!re.has(`${_e},${me-1}`)||!re.has(`${_e},${me+1}`))&&(ne.data[be]=255,ne.data[be+1]=0,ne.data[be+2]=255,ne.data[be+3]=255)}ee.clearRect(0,0,K.width,K.height),ee.putImageData(ne,0,0);const se=K.toDataURL();console.log("[SVGPreview] Highlight mask created"),S(se)}catch(I){console.error("[SVGPreview] Failed to create highlight mask:",I),S(null)}})()},[a,t]);const ae=J=>{const I=J.replace("#","");return{r:parseInt(I.substring(0,2),16),g:parseInt(I.substring(2,4),16),b:parseInt(I.substring(4,6),16)}},ce=(J,I,F,K)=>Math.abs(J-K.r)<=50&&Math.abs(I-K.g)<=50&&Math.abs(F-K.b)<=50,Ae=async(J,I)=>{try{if(!P.current||!t)return null;const F=new Image;F.crossOrigin="anonymous";const K=new Promise((me,_e)=>{F.onload=me,F.onerror=_e});F.src=t,await K;const ee=document.createElement("canvas");ee.width=F.naturalWidth||F.width||1e3,ee.height=F.naturalHeight||F.height||1e3;const ie=ee.getContext("2d");ie.drawImage(F,0,0);const Z=P.current.getBoundingClientRect(),$=ee.width/Z.width,le=ee.height/Z.height,re=Math.floor(J*$),X=Math.floor(I*le),se=ie.getImageData(re,X,1,1).data;return{r:se[0],g:se[1],b:se[2],a:se[3]}}catch(F){return console.error("[SVGPreview] Failed to get color at position:",F),null}},Re=()=>{N(J=>Math.min(J*1.5,5))},ke=()=>{N(J=>Math.max(J/1.5,.5))},Ee=()=>{N(1),D({x:0,y:0})},Ze=J=>{J.preventDefault();const I=J.deltaY*-.001;N(F=>Math.min(Math.max(F+I,.5),5))},ot=J=>{J.button===0&&(G(!0),O({x:J.clientX-T.x,y:J.clientY-T.y}),A.current=!1)},Ot=J=>{if(!_)return;const I=Math.abs(J.clientX-(U.x+T.x)),F=Math.abs(J.clientY-(U.y+T.y));(I>5||F>5)&&(A.current=!0),D({x:J.clientX-U.x,y:J.clientY-U.y})},Dt=()=>{G(!1)};H.useEffect(()=>{if(_)return document.addEventListener("mousemove",Ot),document.addEventListener("mouseup",Dt),()=>{document.removeEventListener("mousemove",Ot),document.removeEventListener("mouseup",Dt)}},[_,U,T]);const j=J=>{let I=J;for(;I&&I!==E.current;){if(I.hasAttribute&&I.hasAttribute("data-region-id"))return I;I=I.parentElement}return null},oe=async J=>{var $,le;if(A.current){console.log("[SVGPreview] Click ignored - was dragging");return}if(console.log("[SVGPreview] Click detected - onRegionClick:",!!i,"inlineSvgContent:",!!k,"target:",J.target.tagName),i&&k){console.log("[SVGPreview] Attempting region detection on target:",J.target);const re=j(J.target);if(console.log("[SVGPreview] Found region element:",re),re){const X=re.getAttribute("data-region-id"),ne=re.getAttribute("fill")||((le=($=re.getAttribute("style"))==null?void 0:$.match(/fill:\s*([^;]+)/))==null?void 0:le[1]);console.log("[SVGPreview] Region clicked:",X,"fill:",ne),i({regionId:X,sourceColor:ne,element:re});return}else console.log("[SVGPreview] No region element found from target")}else console.log("[SVGPreview] Region detection skipped - onRegionClick:",!!i,"inlineSvgContent:",!!k);if(!n||!e||e.length===0)return;const I=J.currentTarget.getBoundingClientRect(),F=J.clientX-I.left,K=J.clientY-I.top;console.log("[SVGPreview] Clicked at:",F,K);const ee=await Ae(F,K);if(!ee||ee.a===0){console.log("[SVGPreview] Clicked on transparent area");return}console.log("[SVGPreview] Clicked color:",ee);let ie=null,Z=1/0;for(const re of e){const X=re.targetColor.hex,ne=ae(X);if(ce(ee.r,ee.g,ee.b,ne)){const se=Math.sqrt(Math.pow(ee.r-ne.r,2)+Math.pow(ee.g-ne.g,2)+Math.pow(ee.b-ne.b,2));se<Z&&(Z=se,ie=re)}}ie?(console.log("[SVGPreview] Matched recipe:",ie.targetColor.hex),n({hex:ie.targetColor.hex,originalHex:ie.originalColor.hex,blendHex:ie.blendColor.hex,areaPct:ie.targetColor.areaPct,recipe:ie.chosenRecipe,targetColor:ie.targetColor})):console.log("[SVGPreview] No matching recipe found for clicked color")};return t?u.jsxs("div",{className:"svg-preview",children:[u.jsxs("div",{className:"preview-header",children:[u.jsxs("div",{className:"design-name-container",children:[d?u.jsx("input",{type:"text",className:"design-name-input",value:c,onChange:J=>d(J.target.value),placeholder:h?"Generating name...":"Enter project name"}):u.jsx("h3",{children:c||"TPV Blend Design"}),h&&u.jsx("span",{className:"name-loading",children:"Generating..."})]}),a&&u.jsxs("span",{className:"editing-hint",children:["Editing: ",a.hex||a.blendHex]})]}),q&&n&&u.jsxs("div",{className:"color-editing-tip",children:[u.jsx("div",{className:"tip-icon",children:""}),u.jsxs("div",{className:"tip-content",children:[u.jsx("strong",{children:"Tip:"})," Click colours in the legend below to edit all instances, or click directly on the design to edit individual regions."]}),u.jsx("button",{onClick:V,className:"tip-close",title:"Dismiss tip",children:""})]}),u.jsxs("div",{className:"svg-display-container",children:[u.jsxs("div",{className:"svg-panel",children:[u.jsxs("div",{className:"zoom-controls",children:[u.jsx("button",{onClick:Re,className:"zoom-btn",title:"Zoom In",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),u.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"}),u.jsx("path",{d:"m21 21-4.35-4.35"})]})}),u.jsx("button",{onClick:ke,className:"zoom-btn",title:"Zoom Out",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"}),u.jsx("path",{d:"m21 21-4.35-4.35"})]})}),u.jsx("button",{onClick:Ee,className:"zoom-btn",title:"Reset View",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M1 4v6h6"}),u.jsx("path",{d:"M23 20v-6h-6"}),u.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}),u.jsxs("span",{className:"zoom-level",children:[Math.round(R*100),"%"]})]}),x>0&&u.jsxs("div",{className:"undo-redo-controls",children:[u.jsx("button",{onClick:m,className:"undo-redo-btn",title:"Undo (Ctrl+Z)",disabled:!v,children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 7v6h6"}),u.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})}),u.jsx("button",{onClick:y,className:"undo-redo-btn",title:"Redo (Ctrl+Y)",disabled:!b,children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 7v6h-6"}),u.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]})})]}),f&&u.jsxs("button",{onClick:f,className:"in-situ-btn",title:"Upload a photo of your installation site and see how this design will look in place with realistic perspective",children:[u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),u.jsx("path",{d:"m21 15-5-5L5 21"})]}),u.jsx("span",{children:"Preview In-Situ"})]}),u.jsx("div",{ref:W,className:"svg-wrapper",onWheel:Ze,children:u.jsxs("div",{className:"svg-image-container",onClick:oe,onMouseDown:ot,style:{transform:`translate(${T.x}px, ${T.y}px) scale(${R})`,cursor:_?"grabbing":R>1?"grab":p?"crosshair":n?"pointer":"default"},children:[he?u.jsx("div",{ref:E,className:"svg-inline-container",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:he}}):u.jsx("img",{ref:P,src:t,alt:"TPV blend design",className:"svg-image"}),w&&u.jsx("img",{src:w,alt:"Colour highlight",className:"svg-highlight-mask"})]})}),p&&g&&u.jsx("div",{className:"eyedropper-overlay",children:u.jsxs("div",{className:"eyedropper-content",children:[u.jsxs("div",{className:"eyedropper-color-indicator",children:[u.jsx("div",{className:"eyedropper-color-swatch",style:{backgroundColor:g.sourceColor}}),u.jsx("span",{children:"Click another area to copy its colour"})]}),u.jsx("button",{className:"eyedropper-cancel",onClick:J=>{J.stopPropagation(),o&&o()},children:"Cancel (Esc)"})]})})]}),e&&e.length>0&&u.jsx("div",{className:"legend-sidebar",children:u.jsx(pN,{recipes:e,mode:r,onColorClick:n,selectedColor:a,editedColors:s,onResetAll:l})})]}),u.jsx("style",{jsx:!0,children:`
        .svg-preview {
          background: #fff;
          border-radius: 8px;
          border: 1px solid #ddd;
          padding: 1.5rem;
          margin-top: 1.5rem;
        }

        .preview-header {
          margin-bottom: 1.5rem;
          display: flex;
          align-items: center;
          justify-content: space-between;
          flex-wrap: wrap;
          gap: 0.5rem;
        }

        .design-name-container {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          flex: 1;
        }

        .preview-header h3 {
          margin: 0;
          color: #1a365d;
          font-size: 1.5rem;
        }

        .design-name-input {
          font-family: var(--font-heading), 'Space Grotesk', sans-serif;
          font-size: 1.5rem;
          font-weight: 600;
          color: #1a365d;
          border: none;
          border-bottom: 2px solid transparent;
          background: transparent;
          padding: 0.25rem 0;
          width: 100%;
          max-width: 400px;
          transition: border-color 0.2s;
        }

        .design-name-input:hover {
          border-bottom-color: #e5e7eb;
        }

        .design-name-input:focus {
          outline: none;
          border-bottom-color: #ff6b35;
        }

        .design-name-input::placeholder {
          color: #9ca3af;
          font-weight: normal;
        }

        .name-loading {
          font-size: 0.75rem;
          color: #9ca3af;
          font-style: italic;
        }

        /* Color Editing Tip Banner */
        .color-editing-tip {
          display: flex;
          align-items: center;
          gap: 0.75rem;
          padding: 0.875rem 1rem;
          background: linear-gradient(to right, #fff7ed, #fffbeb);
          border: 1px solid #fed7aa;
          border-radius: 6px;
          margin-bottom: 1rem;
          font-size: 0.875rem;
          line-height: 1.5;
        }

        .tip-icon {
          font-size: 1.25rem;
          flex-shrink: 0;
        }

        .tip-content {
          flex: 1;
          color: #78350f;
        }

        .tip-content strong {
          color: #92400e;
        }

        .tip-close {
          background: none;
          border: none;
          font-size: 1.5rem;
          color: #92400e;
          cursor: pointer;
          padding: 0;
          line-height: 1;
          opacity: 0.6;
          transition: opacity 0.2s;
          flex-shrink: 0;
        }

        .tip-close:hover {
          opacity: 1;
        }

        /* SVG Display */
        .svg-display-container {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
          align-items: stretch;
        }

        .svg-panel {
          position: relative;
          flex: 1;
          border: 1px solid #e0e0e0;
          border-radius: 6px;
          overflow: hidden;
          background: #fafafa;
        }

        /* Zoom Controls */
        .zoom-controls {
          position: absolute;
          top: 1rem;
          right: 1rem;
          display: flex;
          gap: 0.5rem;
          background: white;
          border-radius: 8px;
          padding: 0.5rem;
          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
          z-index: 10;
          align-items: center;
        }

        .zoom-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 36px;
          height: 36px;
          padding: 0;
          background: white;
          border: 1px solid #e0e0e0;
          border-radius: 6px;
          cursor: pointer;
          color: #1a365d;
          transition: all 0.2s ease;
        }

        .zoom-btn:hover {
          background: #f8fafc;
          border-color: #1e4a7a;
          transform: translateY(-1px);
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .zoom-btn:active {
          transform: translateY(0);
        }

        .zoom-btn svg {
          width: 20px;
          height: 20px;
        }

        .zoom-level {
          font-size: 0.875rem;
          font-weight: 600;
          color: #1a365d;
          min-width: 50px;
          text-align: center;
          padding: 0 0.5rem;
        }

        /* Undo/Redo Controls */
        .undo-redo-controls {
          position: absolute;
          top: 5rem;
          right: 1rem;
          display: flex;
          gap: 0.5rem;
          background: white;
          border-radius: 8px;
          padding: 0.5rem;
          box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
          z-index: 10;
        }

        .undo-redo-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 36px;
          height: 36px;
          padding: 0;
          background: white;
          border: 1px solid #e0e0e0;
          border-radius: 6px;
          cursor: pointer;
          color: #1a365d;
          transition: all 0.2s ease;
        }

        .undo-redo-btn:hover:not(:disabled) {
          background: #f8fafc;
          border-color: #1e4a7a;
          transform: translateY(-1px);
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .undo-redo-btn:active:not(:disabled) {
          transform: translateY(0);
        }

        .undo-redo-btn:disabled {
          opacity: 0.4;
          cursor: not-allowed;
        }

        .undo-redo-btn svg {
          width: 20px;
          height: 20px;
        }

        .in-situ-btn {
          position: absolute;
          top: 1rem;
          left: 1rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.5rem 1rem;
          background: #ff6b35;
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 0.875rem;
          font-weight: 500;
          cursor: pointer;
          box-shadow: 0 2px 12px rgba(255, 107, 53, 0.3);
          z-index: 10;
          transition: all 0.2s ease;
        }

        .in-situ-btn:hover {
          background: #e55a2b;
          transform: translateY(-1px);
          box-shadow: 0 4px 16px rgba(255, 107, 53, 0.4);
        }

        .in-situ-btn:active {
          transform: translateY(0);
        }

        .in-situ-btn svg {
          width: 18px;
          height: 18px;
        }

        .svg-wrapper {
          padding: 2rem;
          background: white;
          min-height: 400px;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .svg-image-container {
          position: relative;
          display: inline-block;
          user-select: none;
          transition: transform 0.1s ease-out;
          transform-origin: center center;
        }

        .svg-image {
          max-width: 100%;
          height: auto;
          display: block;
          border-radius: 4px;
          pointer-events: ${n?"auto":"none"};
        }

        .svg-inline-container {
          max-width: 100%;
          display: block;
          border-radius: 4px;
        }

        .svg-inline-container svg {
          max-width: 100%;
          height: auto;
          display: block;
        }

        .svg-highlight-mask {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          pointer-events: none;
          border-radius: 4px;
          filter: drop-shadow(0 0 3px rgba(255, 0, 255, 0.8)) drop-shadow(0 0 1px rgba(0, 0, 0, 0.6));
          animation: pulse 2s ease-in-out infinite;
        }

        .eyedropper-overlay {
          position: absolute;
          top: 20px;
          left: 50%;
          transform: translateX(-50%);
          z-index: 100;
        }

        .eyedropper-content {
          background: white;
          border-radius: 12px;
          padding: 16px 20px;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
          display: flex;
          align-items: center;
          gap: 16px;
          border: 2px solid #3b82f6;
        }

        .eyedropper-color-indicator {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 0.95rem;
          font-weight: 500;
          color: #111827;
        }

        .eyedropper-color-swatch {
          width: 32px;
          height: 32px;
          border-radius: 6px;
          border: 2px solid #d1d5db;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .eyedropper-cancel {
          padding: 8px 16px;
          background: #ef4444;
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 0.9rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
          white-space: nowrap;
        }

        .eyedropper-cancel:hover {
          background: #dc2626;
          box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3);
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 0.8;
          }
          50% {
            opacity: 1;
          }
        }

        .editing-hint {
          font-size: 0.9rem;
          color: #ff6b35;
          font-weight: 500;
          margin-left: 1rem;
        }

        .legend-sidebar {
          width: 100%;
        }

        @media (max-width: 768px) {
          .svg-preview {
            padding: 0.5rem;
            margin-top: 0.75rem;
            border-radius: 6px;
          }

          .preview-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 0.25rem;
            margin-bottom: 0.5rem;
          }

          .preview-header h3 {
            font-size: 1.1rem;
          }

          .design-name-input {
            font-size: 1.1rem;
            max-width: 100%;
          }

          .editing-hint {
            margin-left: 0;
            font-size: 0.75rem;
          }

          .svg-panel {
            border: none;
            border-radius: 0;
          }

          .svg-wrapper {
            padding: 0;
            min-height: auto;
          }

          /* Position zoom controls at bottom-right on mobile */
          .zoom-controls {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            top: auto;
            flex-direction: column;
            gap: 0.25rem;
            padding: 0.25rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            z-index: 50;
          }

          /* Position undo/redo controls above zoom on mobile */
          .undo-redo-controls {
            position: fixed;
            bottom: 12rem;
            right: 1rem;
            top: auto;
            gap: 0.25rem;
            padding: 0.25rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            z-index: 50;
          }

          /* Make buttons circular and compact on mobile */
          .zoom-btn,
          .undo-redo-btn {
            width: 44px;
            height: 44px;
            padding: 0;
            border-radius: 50%;
            min-width: unset;
            font-size: 1.1rem;
          }

          /* Hide text labels on mobile */
          .zoom-btn span {
            display: none;
          }

          /* In-situ button - compact on mobile */
          .in-situ-btn {
            padding: 0.4rem;
            font-size: 0;
            top: 0.5rem;
            left: 0.5rem;
            border-radius: 50%;
            width: 36px;
            height: 36px;
          }

          .in-situ-btn span {
            display: none;
          }

          .in-situ-btn svg {
            width: 18px;
            height: 18px;
          }

          .svg-image-container {
            /* Allow zoom on mobile via buttons */
            cursor: default !important;
          }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
          .svg-preview {
            padding: 0.25rem;
            margin-top: 0.5rem;
          }

          .preview-header {
            padding: 0 0.25rem;
          }

          .preview-header h3 {
            font-size: 1rem;
          }

          .design-name-input {
            font-size: 1rem;
          }
        }
      `})]}):null}var Fn={},dd={},vN=typeof Oo=="object"&&Oo&&Oo.Object===Object&&Oo,Bj=vN,yN=Bj,bN=typeof self=="object"&&self&&self.Object===Object&&self,xN=yN||bN||Function("return this")(),Ai=xN,wN=Ai,SN=wN.Symbol,hd=SN,Y1=hd,Uj=Object.prototype,kN=Uj.hasOwnProperty,_N=Uj.toString,Ec=Y1?Y1.toStringTag:void 0;function CN(t){var e=kN.call(t,Ec),r=t[Ec];try{t[Ec]=void 0;var n=!0}catch{}var i=_N.call(t);return n&&(e?t[Ec]=r:delete t[Ec]),i}var jN=CN,EN=Object.prototype,TN=EN.toString;function RN(t){return TN.call(t)}var PN=RN,J1=hd,ON=jN,AN=PN,NN="[object Null]",FN="[object Undefined]",Q1=J1?J1.toStringTag:void 0;function DN(t){return t==null?t===void 0?FN:NN:Q1&&Q1 in Object(t)?ON(t):AN(t)}var Qa=DN,IN=Array.isArray,hi=IN;function MN(t){return t!=null&&typeof t=="object"}var oo=MN,LN=Qa,zN=hi,BN=oo,UN="[object String]";function HN(t){return typeof t=="string"||!zN(t)&&BN(t)&&LN(t)==UN}var WN=HN;function VN(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++i];if(r(o[l],l,o)===!1)break}return e}}var GN=VN,qN=GN,KN=qN(),XN=KN;function ZN(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var YN=ZN,JN=Qa,QN=oo,$N="[object Arguments]";function e8(t){return QN(t)&&JN(t)==$N}var t8=e8,$1=t8,r8=oo,Hj=Object.prototype,n8=Hj.hasOwnProperty,i8=Hj.propertyIsEnumerable,o8=$1(function(){return arguments}())?$1:function(t){return r8(t)&&n8.call(t,"callee")&&!i8.call(t,"callee")},Wj=o8,qf={exports:{}};function a8(){return!1}var s8=a8;qf.exports;(function(t,e){var r=Ai,n=s8,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(qf,qf.exports);var Oy=qf.exports,l8=9007199254740991,c8=/^(?:0|[1-9]\d*)$/;function u8(t,e){var r=typeof t;return e=e??l8,!!e&&(r=="number"||r!="symbol"&&c8.test(t))&&t>-1&&t%1==0&&t<e}var Vj=u8,d8=9007199254740991;function h8(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=d8}var Ay=h8,f8=Qa,p8=Ay,g8=oo,m8="[object Arguments]",v8="[object Array]",y8="[object Boolean]",b8="[object Date]",x8="[object Error]",w8="[object Function]",S8="[object Map]",k8="[object Number]",_8="[object Object]",C8="[object RegExp]",j8="[object Set]",E8="[object String]",T8="[object WeakMap]",R8="[object ArrayBuffer]",P8="[object DataView]",O8="[object Float32Array]",A8="[object Float64Array]",N8="[object Int8Array]",F8="[object Int16Array]",D8="[object Int32Array]",I8="[object Uint8Array]",M8="[object Uint8ClampedArray]",L8="[object Uint16Array]",z8="[object Uint32Array]",Vt={};Vt[O8]=Vt[A8]=Vt[N8]=Vt[F8]=Vt[D8]=Vt[I8]=Vt[M8]=Vt[L8]=Vt[z8]=!0;Vt[m8]=Vt[v8]=Vt[R8]=Vt[y8]=Vt[P8]=Vt[b8]=Vt[x8]=Vt[w8]=Vt[S8]=Vt[k8]=Vt[_8]=Vt[C8]=Vt[j8]=Vt[E8]=Vt[T8]=!1;function B8(t){return g8(t)&&p8(t.length)&&!!Vt[f8(t)]}var U8=B8;function H8(t){return function(e){return t(e)}}var Ny=H8,Kf={exports:{}};Kf.exports;(function(t,e){var r=Bj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Kf,Kf.exports);var Fy=Kf.exports,W8=U8,V8=Ny,ew=Fy,tw=ew&&ew.isTypedArray,G8=tw?V8(tw):W8,Gj=G8,q8=YN,K8=Wj,X8=hi,Z8=Oy,Y8=Vj,J8=Gj,Q8=Object.prototype,$8=Q8.hasOwnProperty;function e4(t,e){var r=X8(t),n=!r&&K8(t),i=!r&&!n&&Z8(t),o=!r&&!n&&!i&&J8(t),a=r||n||i||o,s=a?q8(t.length,String):[],l=s.length;for(var c in t)(e||$8.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Y8(c,l)))&&s.push(c);return s}var qj=e4,t4=Object.prototype;function r4(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||t4;return t===r}var Dy=r4;function n4(t,e){return function(r){return t(e(r))}}var Kj=n4,i4=Kj,o4=i4(Object.keys,Object),a4=o4,s4=Dy,l4=a4,c4=Object.prototype,u4=c4.hasOwnProperty;function d4(t){if(!s4(t))return l4(t);var e=[];for(var r in Object(t))u4.call(t,r)&&r!="constructor"&&e.push(r);return e}var h4=d4;function f4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ql=f4,p4=Qa,g4=ql,m4="[object AsyncFunction]",v4="[object Function]",y4="[object GeneratorFunction]",b4="[object Proxy]";function x4(t){if(!g4(t))return!1;var e=p4(t);return e==v4||e==y4||e==m4||e==b4}var Xj=x4,w4=Xj,S4=Ay;function k4(t){return t!=null&&S4(t.length)&&!w4(t)}var Ip=k4,_4=qj,C4=h4,j4=Ip;function E4(t){return j4(t)?_4(t):C4(t)}var fd=E4,T4=XN,R4=fd;function P4(t,e){return t&&T4(t,e,R4)}var Zj=P4;function O4(t){return t}var Yj=O4,A4=Yj;function N4(t){return typeof t=="function"?t:A4}var F4=N4,D4=Zj,I4=F4;function M4(t,e){return t&&D4(t,I4(e))}var Iy=M4,L4=Kj,z4=L4(Object.getPrototypeOf,Object),My=z4,B4=Qa,U4=My,H4=oo,W4="[object Object]",V4=Function.prototype,G4=Object.prototype,Jj=V4.toString,q4=G4.hasOwnProperty,K4=Jj.call(Object);function X4(t){if(!H4(t)||B4(t)!=W4)return!1;var e=U4(t);if(e===null)return!0;var r=q4.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Jj.call(r)==K4}var Z4=X4;function Y4(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Qj=Y4;function J4(){this.__data__=[],this.size=0}var Q4=J4;function $4(t,e){return t===e||t!==t&&e!==e}var Ly=$4,eF=Ly;function tF(t,e){for(var r=t.length;r--;)if(eF(t[r][0],e))return r;return-1}var Mp=tF,rF=Mp,nF=Array.prototype,iF=nF.splice;function oF(t){var e=this.__data__,r=rF(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():iF.call(e,r,1),--this.size,!0}var aF=oF,sF=Mp;function lF(t){var e=this.__data__,r=sF(e,t);return r<0?void 0:e[r][1]}var cF=lF,uF=Mp;function dF(t){return uF(this.__data__,t)>-1}var hF=dF,fF=Mp;function pF(t,e){var r=this.__data__,n=fF(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var gF=pF,mF=Q4,vF=aF,yF=cF,bF=hF,xF=gF;function Kl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kl.prototype.clear=mF;Kl.prototype.delete=vF;Kl.prototype.get=yF;Kl.prototype.has=bF;Kl.prototype.set=xF;var Lp=Kl,wF=Lp;function SF(){this.__data__=new wF,this.size=0}var kF=SF;function _F(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var CF=_F;function jF(t){return this.__data__.get(t)}var EF=jF;function TF(t){return this.__data__.has(t)}var RF=TF,PF=Ai,OF=PF["__core-js_shared__"],AF=OF,ig=AF,rw=function(){var t=/[^.]+$/.exec(ig&&ig.keys&&ig.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function NF(t){return!!rw&&rw in t}var FF=NF,DF=Function.prototype,IF=DF.toString;function MF(t){if(t!=null){try{return IF.call(t)}catch{}try{return t+""}catch{}}return""}var $j=MF,LF=Xj,zF=FF,BF=ql,UF=$j,HF=/[\\^$.*+?()[\]{}|]/g,WF=/^\[object .+?Constructor\]$/,VF=Function.prototype,GF=Object.prototype,qF=VF.toString,KF=GF.hasOwnProperty,XF=RegExp("^"+qF.call(KF).replace(HF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZF(t){if(!BF(t)||zF(t))return!1;var e=LF(t)?XF:WF;return e.test(UF(t))}var YF=ZF;function JF(t,e){return t==null?void 0:t[e]}var QF=JF,$F=YF,eD=QF;function tD(t,e){var r=eD(t,e);return $F(r)?r:void 0}var $a=tD,rD=$a,nD=Ai,iD=rD(nD,"Map"),zy=iD,oD=$a,aD=oD(Object,"create"),zp=aD,nw=zp;function sD(){this.__data__=nw?nw(null):{},this.size=0}var lD=sD;function cD(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var uD=cD,dD=zp,hD="__lodash_hash_undefined__",fD=Object.prototype,pD=fD.hasOwnProperty;function gD(t){var e=this.__data__;if(dD){var r=e[t];return r===hD?void 0:r}return pD.call(e,t)?e[t]:void 0}var mD=gD,vD=zp,yD=Object.prototype,bD=yD.hasOwnProperty;function xD(t){var e=this.__data__;return vD?e[t]!==void 0:bD.call(e,t)}var wD=xD,SD=zp,kD="__lodash_hash_undefined__";function _D(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=SD&&e===void 0?kD:e,this}var CD=_D,jD=lD,ED=uD,TD=mD,RD=wD,PD=CD;function Xl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xl.prototype.clear=jD;Xl.prototype.delete=ED;Xl.prototype.get=TD;Xl.prototype.has=RD;Xl.prototype.set=PD;var OD=Xl,iw=OD,AD=Lp,ND=zy;function FD(){this.size=0,this.__data__={hash:new iw,map:new(ND||AD),string:new iw}}var DD=FD;function ID(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var MD=ID,LD=MD;function zD(t,e){var r=t.__data__;return LD(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Bp=zD,BD=Bp;function UD(t){var e=BD(this,t).delete(t);return this.size-=e?1:0,e}var HD=UD,WD=Bp;function VD(t){return WD(this,t).get(t)}var GD=VD,qD=Bp;function KD(t){return qD(this,t).has(t)}var XD=KD,ZD=Bp;function YD(t,e){var r=ZD(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var JD=YD,QD=DD,$D=HD,e6=GD,t6=XD,r6=JD;function Zl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zl.prototype.clear=QD;Zl.prototype.delete=$D;Zl.prototype.get=e6;Zl.prototype.has=t6;Zl.prototype.set=r6;var By=Zl,n6=Lp,i6=zy,o6=By,a6=200;function s6(t,e){var r=this.__data__;if(r instanceof n6){var n=r.__data__;if(!i6||n.length<a6-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new o6(n)}return r.set(t,e),this.size=r.size,this}var l6=s6,c6=Lp,u6=kF,d6=CF,h6=EF,f6=RF,p6=l6;function Yl(t){var e=this.__data__=new c6(t);this.size=e.size}Yl.prototype.clear=u6;Yl.prototype.delete=d6;Yl.prototype.get=h6;Yl.prototype.has=f6;Yl.prototype.set=p6;var Uy=Yl,g6="__lodash_hash_undefined__";function m6(t){return this.__data__.set(t,g6),this}var v6=m6;function y6(t){return this.__data__.has(t)}var b6=y6,x6=By,w6=v6,S6=b6;function Xf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new x6;++e<r;)this.add(t[e])}Xf.prototype.add=Xf.prototype.push=w6;Xf.prototype.has=S6;var k6=Xf;function _6(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var C6=_6;function j6(t,e){return t.has(e)}var E6=j6,T6=k6,R6=C6,P6=E6,O6=1,A6=2;function N6(t,e,r,n,i,o){var a=r&O6,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,p=r&A6?new T6:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var g=t[h],m=e[h];if(n)var y=a?n(m,g,h,e,t,o):n(g,m,h,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!R6(e,function(v,b){if(!P6(p,b)&&(g===v||i(g,v,r,n,o)))return p.push(b)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var eE=N6,F6=Ai,D6=F6.Uint8Array,tE=D6;function I6(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var M6=I6;function L6(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var z6=L6,ow=hd,aw=tE,B6=Ly,U6=eE,H6=M6,W6=z6,V6=1,G6=2,q6="[object Boolean]",K6="[object Date]",X6="[object Error]",Z6="[object Map]",Y6="[object Number]",J6="[object RegExp]",Q6="[object Set]",$6="[object String]",eI="[object Symbol]",tI="[object ArrayBuffer]",rI="[object DataView]",sw=ow?ow.prototype:void 0,og=sw?sw.valueOf:void 0;function nI(t,e,r,n,i,o,a){switch(r){case rI:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tI:return!(t.byteLength!=e.byteLength||!o(new aw(t),new aw(e)));case q6:case K6:case Y6:return B6(+t,+e);case X6:return t.name==e.name&&t.message==e.message;case J6:case $6:return t==e+"";case Z6:var s=H6;case Q6:var l=n&V6;if(s||(s=W6),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=G6,a.set(t,e);var d=U6(s(t),s(e),n,i,o,a);return a.delete(t),d;case eI:if(og)return og.call(t)==og.call(e)}return!1}var iI=nI;function oI(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var rE=oI,aI=rE,sI=hi;function lI(t,e,r){var n=e(t);return sI(t)?n:aI(n,r(t))}var nE=lI;function cI(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}var uI=cI;function dI(){return[]}var iE=dI,hI=uI,fI=iE,pI=Object.prototype,gI=pI.propertyIsEnumerable,lw=Object.getOwnPropertySymbols,mI=lw?function(t){return t==null?[]:(t=Object(t),hI(lw(t),function(e){return gI.call(t,e)}))}:fI,Hy=mI,vI=nE,yI=Hy,bI=fd;function xI(t){return vI(t,bI,yI)}var oE=xI,cw=oE,wI=1,SI=Object.prototype,kI=SI.hasOwnProperty;function _I(t,e,r,n,i,o){var a=r&wI,s=cw(t),l=s.length,c=cw(e),d=c.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=s[h];if(!(a?f in e:kI.call(e,f)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var y=a;++h<l;){f=s[h];var v=t[f],b=e[f];if(n)var x=a?n(b,v,f,e,t,o):n(v,b,f,t,e,o);if(!(x===void 0?v===b||i(v,b,r,n,o):x)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(m=!1)}return o.delete(t),o.delete(e),m}var CI=_I,jI=$a,EI=Ai,TI=jI(EI,"DataView"),RI=TI,PI=$a,OI=Ai,AI=PI(OI,"Promise"),NI=AI,FI=$a,DI=Ai,II=FI(DI,"Set"),MI=II,LI=$a,zI=Ai,BI=LI(zI,"WeakMap"),UI=BI,Xm=RI,Zm=zy,Ym=NI,Jm=MI,Qm=UI,aE=Qa,Jl=$j,uw="[object Map]",HI="[object Object]",dw="[object Promise]",hw="[object Set]",fw="[object WeakMap]",pw="[object DataView]",WI=Jl(Xm),VI=Jl(Zm),GI=Jl(Ym),qI=Jl(Jm),KI=Jl(Qm),_a=aE;(Xm&&_a(new Xm(new ArrayBuffer(1)))!=pw||Zm&&_a(new Zm)!=uw||Ym&&_a(Ym.resolve())!=dw||Jm&&_a(new Jm)!=hw||Qm&&_a(new Qm)!=fw)&&(_a=function(t){var e=aE(t),r=e==HI?t.constructor:void 0,n=r?Jl(r):"";if(n)switch(n){case WI:return pw;case VI:return uw;case GI:return dw;case qI:return hw;case KI:return fw}return e});var Up=_a,ag=Uy,XI=eE,ZI=iI,YI=CI,gw=Up,mw=hi,vw=Oy,JI=Gj,QI=1,yw="[object Arguments]",bw="[object Array]",bh="[object Object]",$I=Object.prototype,xw=$I.hasOwnProperty;function eM(t,e,r,n,i,o){var a=mw(t),s=mw(e),l=a?bw:gw(t),c=s?bw:gw(e);l=l==yw?bh:l,c=c==yw?bh:c;var d=l==bh,h=c==bh,f=l==c;if(f&&vw(t)){if(!vw(e))return!1;a=!0,d=!1}if(f&&!d)return o||(o=new ag),a||JI(t)?XI(t,e,r,n,i,o):ZI(t,e,l,r,n,i,o);if(!(r&QI)){var p=d&&xw.call(t,"__wrapped__"),g=h&&xw.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return o||(o=new ag),i(m,y,r,n,o)}}return f?(o||(o=new ag),YI(t,e,r,n,i,o)):!1}var tM=eM,rM=tM,ww=oo;function sE(t,e,r,n,i){return t===e?!0:t==null||e==null||!ww(t)&&!ww(e)?t!==t&&e!==e:rM(t,e,r,n,sE,i)}var lE=sE,nM=Uy,iM=lE,oM=1,aM=2;function sM(t,e,r,n){var i=r.length,o=i,a=!n;if(t==null)return!o;for(t=Object(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=r[i];var l=s[0],c=t[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var h=new nM;if(n)var f=n(c,d,l,t,e,h);if(!(f===void 0?iM(d,c,oM|aM,n,h):f))return!1}}return!0}var lM=sM,cM=ql;function uM(t){return t===t&&!cM(t)}var cE=uM,dM=cE,hM=fd;function fM(t){for(var e=hM(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,dM(i)]}return e}var pM=fM;function gM(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var uE=gM,mM=lM,vM=pM,yM=uE;function bM(t){var e=vM(t);return e.length==1&&e[0][2]?yM(e[0][0],e[0][1]):function(r){return r===t||mM(r,t,e)}}var xM=bM,wM=Qa,SM=oo,kM="[object Symbol]";function _M(t){return typeof t=="symbol"||SM(t)&&wM(t)==kM}var Wy=_M,CM=hi,jM=Wy,EM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TM=/^\w*$/;function RM(t,e){if(CM(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||jM(t)?!0:TM.test(t)||!EM.test(t)||e!=null&&t in Object(e)}var Vy=RM,dE=By,PM="Expected a function";function Gy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(PM);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Gy.Cache||dE),r}Gy.Cache=dE;var OM=Gy,AM=OM,NM=500;function FM(t){var e=AM(t,function(n){return r.size===NM&&r.clear(),n}),r=e.cache;return e}var DM=FM,IM=DM,MM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LM=/\\(\\)?/g,zM=IM(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(MM,function(r,n,i,o){e.push(i?o.replace(LM,"$1"):n||r)}),e}),BM=zM,Sw=hd,UM=Qj,HM=hi,WM=Wy,kw=Sw?Sw.prototype:void 0,_w=kw?kw.toString:void 0;function hE(t){if(typeof t=="string")return t;if(HM(t))return UM(t,hE)+"";if(WM(t))return _w?_w.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var VM=hE,GM=VM;function qM(t){return t==null?"":GM(t)}var KM=qM,XM=hi,ZM=Vy,YM=BM,JM=KM;function QM(t,e){return XM(t)?t:ZM(t,e)?[t]:YM(JM(t))}var fE=QM,$M=Wy;function eL(t){if(typeof t=="string"||$M(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Hp=eL,tL=fE,rL=Hp;function nL(t,e){e=tL(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[rL(e[r++])];return r&&r==n?t:void 0}var pE=nL,iL=pE;function oL(t,e,r){var n=t==null?void 0:iL(t,e);return n===void 0?r:n}var aL=oL;function sL(t,e){return t!=null&&e in Object(t)}var lL=sL,cL=fE,uL=Wj,dL=hi,hL=Vj,fL=Ay,pL=Hp;function gL(t,e,r){e=cL(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=pL(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&fL(i)&&hL(a,i)&&(dL(t)||uL(t)))}var mL=gL,vL=lL,yL=mL;function bL(t,e){return t!=null&&yL(t,e,vL)}var xL=bL,wL=lE,SL=aL,kL=xL,_L=Vy,CL=cE,jL=uE,EL=Hp,TL=1,RL=2;function PL(t,e){return _L(t)&&CL(e)?jL(EL(t),e):function(r){var n=SL(r,t);return n===void 0&&n===e?kL(r,t):wL(e,n,TL|RL)}}var OL=PL;function AL(t){return function(e){return e==null?void 0:e[t]}}var NL=AL,FL=pE;function DL(t){return function(e){return FL(e,t)}}var IL=DL,ML=NL,LL=IL,zL=Vy,BL=Hp;function UL(t){return zL(t)?ML(BL(t)):LL(t)}var HL=UL,WL=xM,VL=OL,GL=Yj,qL=hi,KL=HL;function XL(t){return typeof t=="function"?t:t==null?GL:typeof t=="object"?qL(t)?VL(t[0],t[1]):WL(t):KL(t)}var ZL=XL,YL=Ip;function JL(t,e){return function(r,n){if(r==null)return r;if(!YL(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var QL=JL,$L=Zj,ez=QL,tz=ez($L),rz=tz,nz=rz,iz=Ip;function oz(t,e){var r=-1,n=iz(t)?Array(t.length):[];return nz(t,function(i,o,a){n[++r]=e(i,o,a)}),n}var az=oz,sz=Qj,lz=ZL,cz=az,uz=hi;function dz(t,e){var r=uz(t)?sz:cz;return r(t,lz(e))}var hz=dz;Object.defineProperty(dd,"__esModule",{value:!0});dd.flattenNames=void 0;var fz=WN,pz=Wp(fz),gz=Iy,mz=Wp(gz),vz=Z4,yz=Wp(vz),bz=hz,xz=Wp(bz);function Wp(t){return t&&t.__esModule?t:{default:t}}var wz=dd.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,xz.default)(e,function(n){Array.isArray(n)?t(n).map(function(i){return r.push(i)}):(0,yz.default)(n)?(0,mz.default)(n,function(i,o){i===!0&&r.push(o),r.push(o+"-"+i)}):(0,pz.default)(n)&&r.push(n)}),r};dd.default=wz;var pd={};function Sz(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var kz=Sz,_z=$a,Cz=function(){try{var t=_z(Object,"defineProperty");return t({},"",{}),t}catch{}}(),jz=Cz,Cw=jz;function Ez(t,e,r){e=="__proto__"&&Cw?Cw(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var gE=Ez,Tz=gE,Rz=Ly,Pz=Object.prototype,Oz=Pz.hasOwnProperty;function Az(t,e,r){var n=t[e];(!(Oz.call(t,e)&&Rz(n,r))||r===void 0&&!(e in t))&&Tz(t,e,r)}var mE=Az,Nz=mE,Fz=gE;function Dz(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?Fz(r,s,l):Nz(r,s,l)}return r}var Vp=Dz,Iz=Vp,Mz=fd;function Lz(t,e){return t&&Iz(e,Mz(e),t)}var zz=Lz;function Bz(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Uz=Bz,Hz=ql,Wz=Dy,Vz=Uz,Gz=Object.prototype,qz=Gz.hasOwnProperty;function Kz(t){if(!Hz(t))return Vz(t);var e=Wz(t),r=[];for(var n in t)n=="constructor"&&(e||!qz.call(t,n))||r.push(n);return r}var Xz=Kz,Zz=qj,Yz=Xz,Jz=Ip;function Qz(t){return Jz(t)?Zz(t,!0):Yz(t)}var qy=Qz,$z=Vp,eB=qy;function tB(t,e){return t&&$z(e,eB(e),t)}var rB=tB,Zf={exports:{}};Zf.exports;(function(t,e){var r=Ai,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,f=s?s(h):new c.constructor(h);return c.copy(f),f}t.exports=l})(Zf,Zf.exports);var nB=Zf.exports;function iB(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var oB=iB,aB=Vp,sB=Hy;function lB(t,e){return aB(t,sB(t),e)}var cB=lB,uB=rE,dB=My,hB=Hy,fB=iE,pB=Object.getOwnPropertySymbols,gB=pB?function(t){for(var e=[];t;)uB(e,hB(t)),t=dB(t);return e}:fB,vE=gB,mB=Vp,vB=vE;function yB(t,e){return mB(t,vB(t),e)}var bB=yB,xB=nE,wB=vE,SB=qy;function kB(t){return xB(t,SB,wB)}var _B=kB,CB=Object.prototype,jB=CB.hasOwnProperty;function EB(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&jB.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var TB=EB,jw=tE;function RB(t){var e=new t.constructor(t.byteLength);return new jw(e).set(new jw(t)),e}var Ky=RB,PB=Ky;function OB(t,e){var r=e?PB(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var AB=OB,NB=/\w*$/;function FB(t){var e=new t.constructor(t.source,NB.exec(t));return e.lastIndex=t.lastIndex,e}var DB=FB,Ew=hd,Tw=Ew?Ew.prototype:void 0,Rw=Tw?Tw.valueOf:void 0;function IB(t){return Rw?Object(Rw.call(t)):{}}var MB=IB,LB=Ky;function zB(t,e){var r=e?LB(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var BB=zB,UB=Ky,HB=AB,WB=DB,VB=MB,GB=BB,qB="[object Boolean]",KB="[object Date]",XB="[object Map]",ZB="[object Number]",YB="[object RegExp]",JB="[object Set]",QB="[object String]",$B="[object Symbol]",eU="[object ArrayBuffer]",tU="[object DataView]",rU="[object Float32Array]",nU="[object Float64Array]",iU="[object Int8Array]",oU="[object Int16Array]",aU="[object Int32Array]",sU="[object Uint8Array]",lU="[object Uint8ClampedArray]",cU="[object Uint16Array]",uU="[object Uint32Array]";function dU(t,e,r){var n=t.constructor;switch(e){case eU:return UB(t);case qB:case KB:return new n(+t);case tU:return HB(t,r);case rU:case nU:case iU:case oU:case aU:case sU:case lU:case cU:case uU:return GB(t,r);case XB:return new n;case ZB:case QB:return new n(t);case YB:return WB(t);case JB:return new n;case $B:return VB(t)}}var hU=dU,fU=ql,Pw=Object.create,pU=function(){function t(){}return function(e){if(!fU(e))return{};if(Pw)return Pw(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),gU=pU,mU=gU,vU=My,yU=Dy;function bU(t){return typeof t.constructor=="function"&&!yU(t)?mU(vU(t)):{}}var xU=bU,wU=Up,SU=oo,kU="[object Map]";function _U(t){return SU(t)&&wU(t)==kU}var CU=_U,jU=CU,EU=Ny,Ow=Fy,Aw=Ow&&Ow.isMap,TU=Aw?EU(Aw):jU,RU=TU,PU=Up,OU=oo,AU="[object Set]";function NU(t){return OU(t)&&PU(t)==AU}var FU=NU,DU=FU,IU=Ny,Nw=Fy,Fw=Nw&&Nw.isSet,MU=Fw?IU(Fw):DU,LU=MU,zU=Uy,BU=kz,UU=mE,HU=zz,WU=rB,VU=nB,GU=oB,qU=cB,KU=bB,XU=oE,ZU=_B,YU=Up,JU=TB,QU=hU,$U=xU,e7=hi,t7=Oy,r7=RU,n7=ql,i7=LU,o7=fd,a7=qy,s7=1,l7=2,c7=4,yE="[object Arguments]",u7="[object Array]",d7="[object Boolean]",h7="[object Date]",f7="[object Error]",bE="[object Function]",p7="[object GeneratorFunction]",g7="[object Map]",m7="[object Number]",xE="[object Object]",v7="[object RegExp]",y7="[object Set]",b7="[object String]",x7="[object Symbol]",w7="[object WeakMap]",S7="[object ArrayBuffer]",k7="[object DataView]",_7="[object Float32Array]",C7="[object Float64Array]",j7="[object Int8Array]",E7="[object Int16Array]",T7="[object Int32Array]",R7="[object Uint8Array]",P7="[object Uint8ClampedArray]",O7="[object Uint16Array]",A7="[object Uint32Array]",zt={};zt[yE]=zt[u7]=zt[S7]=zt[k7]=zt[d7]=zt[h7]=zt[_7]=zt[C7]=zt[j7]=zt[E7]=zt[T7]=zt[g7]=zt[m7]=zt[xE]=zt[v7]=zt[y7]=zt[b7]=zt[x7]=zt[R7]=zt[P7]=zt[O7]=zt[A7]=!0;zt[f7]=zt[bE]=zt[w7]=!1;function of(t,e,r,n,i,o){var a,s=e&s7,l=e&l7,c=e&c7;if(r&&(a=i?r(t,n,i,o):r(t)),a!==void 0)return a;if(!n7(t))return t;var d=e7(t);if(d){if(a=JU(t),!s)return GU(t,a)}else{var h=YU(t),f=h==bE||h==p7;if(t7(t))return VU(t,s);if(h==xE||h==yE||f&&!i){if(a=l||f?{}:$U(t),!s)return l?KU(t,WU(a,t)):qU(t,HU(a,t))}else{if(!zt[h])return i?t:{};a=QU(t,h,s)}}o||(o=new zU);var p=o.get(t);if(p)return p;o.set(t,a),i7(t)?t.forEach(function(y){a.add(of(y,e,r,y,t,o))}):r7(t)&&t.forEach(function(y,v){a.set(v,of(y,e,r,v,t,o))});var g=c?l?ZU:XU:l?a7:o7,m=d?void 0:g(t);return BU(m||t,function(y,v){m&&(v=y,y=t[v]),UU(a,v,of(y,e,r,v,t,o))}),a}var N7=of,F7=N7,D7=1,I7=4;function M7(t){return F7(t,D7|I7)}var L7=M7;Object.defineProperty(pd,"__esModule",{value:!0});pd.mergeClasses=void 0;var z7=Iy,B7=wE(z7),U7=L7,H7=wE(U7),W7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function wE(t){return t&&t.__esModule?t:{default:t}}var V7=pd.mergeClasses=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.default&&(0,H7.default)(e.default)||{};return r.map(function(i){var o=e[i];return o&&(0,B7.default)(o,function(a,s){n[s]||(n[s]={}),n[s]=W7({},n[s],o[s])}),i}),n};pd.default=V7;var gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.autoprefix=void 0;var G7=Iy,Dw=K7(G7),q7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function K7(t){return t&&t.__esModule?t:{default:t}}var X7={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var r=e&&e.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(e,r){var n=r[e];return n||{extend:e}}},Z7=gd.autoprefix=function(e){var r={};return(0,Dw.default)(e,function(n,i){var o={};(0,Dw.default)(n,function(a,s){var l=X7[s];l?o=q7({},o,l(a)):o[s]=a}),r[i]=o}),r};gd.default=Z7;var md={};Object.defineProperty(md,"__esModule",{value:!0});md.hover=void 0;var Y7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J7=H,sg=Q7(J7);function Q7(t){return t&&t.__esModule?t:{default:t}}function $7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function e9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var t9=md.hover=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){e9(i,n);function i(){var o,a,s,l;$7(this,i);for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];return l=(a=(s=Iw(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(d))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return sg.default.createElement(r,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},sg.default.createElement(e,Y7({},s.props,s.state)))},a),Iw(s,l)}return i}(sg.default.Component)};md.default=t9;var vd={};Object.defineProperty(vd,"__esModule",{value:!0});vd.active=void 0;var r9=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n9=H,lg=i9(n9);function i9(t){return t&&t.__esModule?t:{default:t}}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function a9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s9=vd.active=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){a9(i,n);function i(){var o,a,s,l;o9(this,i);for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];return l=(a=(s=Mw(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(d))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return lg.default.createElement(r,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},lg.default.createElement(e,r9({},s.props,s.state)))},a),Mw(s,l)}return i}(lg.default.Component)};vd.default=s9;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});var l9=function(e,r){var n={},i=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[a]=s};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};Xy.default=l9;Object.defineProperty(Fn,"__esModule",{value:!0});Fn.ReactCSS=Fn.loop=Fn.handleActive=Zy=Fn.handleHover=Fn.hover=void 0;var c9=dd,u9=Ql(c9),d9=pd,h9=Ql(d9),f9=gd,p9=Ql(f9),g9=md,SE=Ql(g9),m9=vd,v9=Ql(m9),y9=Xy,b9=Ql(y9);function Ql(t){return t&&t.__esModule?t:{default:t}}Fn.hover=SE.default;var Zy=Fn.handleHover=SE.default;Fn.handleActive=v9.default;Fn.loop=b9.default;var x9=Fn.ReactCSS=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=(0,u9.default)(n),a=(0,h9.default)(e,o);return(0,p9.default)(a)},Ke=Fn.default=x9,w9=function(e,r,n,i,o){var a=o.clientWidth,s=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,d=l-(o.getBoundingClientRect().left+window.pageXOffset),h=c-(o.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0?f=0:h>s?f=1:f=Math.round(h*100/s)/100,r.a!==f)return{h:r.h,s:r.s,l:r.l,a:f,source:"rgb"}}else{var p=void 0;if(d<0?p=0:d>a?p=1:p=Math.round(d*100/a)/100,i!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}return null},cg={},S9=function(e,r,n,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=n*2,o.height=n*2;var a=o.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,o.width,o.height),a.fillStyle=r,a.fillRect(0,0,n,n),a.translate(n,n),a.fillRect(0,0,n,n),o.toDataURL()):null},k9=function(e,r,n,i){var o=e+"-"+r+"-"+n+(i?"-server":"");if(cg[o])return cg[o];var a=S9(e,r,n,i);return cg[o]=a,a},Lw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$l=function(e){var r=e.white,n=e.grey,i=e.size,o=e.renderers,a=e.borderRadius,s=e.boxShadow,l=e.children,c=Ke({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+k9(r,n,i,o.canvas)+") center left"}}});return H.isValidElement(l)?z.cloneElement(l,Lw({},l.props,{style:Lw({},l.props.style,c.grid)})):z.createElement("div",{style:c.grid})};$l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _9=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C9=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function j9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function E9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yy=function(t){E9(e,t);function e(){var r,n,i,o;j9(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=(n=(i=zw(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(c){var d=w9(c,i.props.hsl,i.props.direction,i.props.a,i.container);d&&typeof i.props.onChange=="function"&&i.props.onChange(d,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),zw(i,o)}return C9(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,o=Ke({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:_9({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return z.createElement("div",{style:o.alpha},z.createElement("div",{style:o.checkboard},z.createElement($l,{renderers:this.props.renderers})),z.createElement("div",{style:o.gradient}),z.createElement("div",{style:o.container,ref:function(s){return n.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},z.createElement("div",{style:o.pointer},this.props.pointer?z.createElement(this.props.pointer,this.props):z.createElement("div",{style:o.slider}))))}}]),e}(H.PureComponent||H.Component),T9=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function R9(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function A9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var N9=1,kE=38,F9=40,D9=[kE,F9],I9=function(e){return D9.indexOf(e)>-1},M9=function(e){return Number(String(e).replace(/%/g,""))},L9=1,mt=function(t){A9(e,t);function e(r){P9(this,e);var n=O9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var o=M9(i.target.value);if(!isNaN(o)&&I9(i.keyCode)){var a=n.getArrowOffset(),s=i.keyCode===kE?o+a:o-a;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var o=Math.round(n.props.value+i.movementX);o>=0&&o<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(o),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+L9++,n}return T9(e,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return R9({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||N9}},{key:"setUpdatedValue",value:function(n,i){var o=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(o,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=Ke({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return z.createElement("div",{style:i.wrap},z.createElement("input",{id:this.inputId,style:i.input,ref:function(a){return n.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?z.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(H.PureComponent||H.Component),z9=function(e,r,n,i){var o=i.clientWidth,a=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),d=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(d<0)h=359;else if(d>a)h=0;else{var f=-(d*100/a)+100;h=360*f/100}if(n.h!==h)return{h,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var p=void 0;if(c<0)p=0;else if(c>o)p=359;else{var g=c*100/o;p=360*g/100}if(n.h!==p)return{h:p,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},B9=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function U9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function H9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ec=function(t){H9(e,t);function e(){var r,n,i,o;U9(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=(n=(i=Bw(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(c){var d=z9(c,i.props.direction,i.props.hsl,i.container);d&&typeof i.props.onChange=="function"&&i.props.onChange(d,c)},i.handleMouseDown=function(c){i.handleChange(c),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),Bw(i,o)}return B9(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,o=i===void 0?"horizontal":i,a=Ke({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return z.createElement("div",{style:a.hue},z.createElement("div",{className:"hue-"+o,style:a.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},z.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),z.createElement("div",{style:a.pointer},this.props.pointer?z.createElement(this.props.pointer,this.props):z.createElement("div",{style:a.slider}))))}}]),e}(H.PureComponent||H.Component),_E={exports:{}},W9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",V9=W9,G9=V9;function CE(){}function jE(){}jE.resetWarningCache=CE;var q9=function(){function t(n,i,o,a,s,l){if(l!==G9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jE,resetWarningCache:CE};return r.PropTypes=r,r};_E.exports=q9();var K9=_E.exports;const we=id(K9);function X9(){this.__data__=[],this.size=0}function yd(t,e){return t===e||t!==t&&e!==e}function Gp(t,e){for(var r=t.length;r--;)if(yd(t[r][0],e))return r;return-1}var Z9=Array.prototype,Y9=Z9.splice;function J9(t){var e=this.__data__,r=Gp(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Y9.call(e,r,1),--this.size,!0}function Q9(t){var e=this.__data__,r=Gp(e,t);return r<0?void 0:e[r][1]}function $9(t){return Gp(this.__data__,t)>-1}function eH(t,e){var r=this.__data__,n=Gp(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function ao(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ao.prototype.clear=X9;ao.prototype.delete=J9;ao.prototype.get=Q9;ao.prototype.has=$9;ao.prototype.set=eH;function tH(){this.__data__=new ao,this.size=0}function rH(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function nH(t){return this.__data__.get(t)}function iH(t){return this.__data__.has(t)}var EE=typeof global=="object"&&global&&global.Object===Object&&global,oH=typeof self=="object"&&self&&self.Object===Object&&self,fi=EE||oH||Function("return this")(),Yo=fi.Symbol,TE=Object.prototype,aH=TE.hasOwnProperty,sH=TE.toString,Tc=Yo?Yo.toStringTag:void 0;function lH(t){var e=aH.call(t,Tc),r=t[Tc];try{t[Tc]=void 0;var n=!0}catch{}var i=sH.call(t);return n&&(e?t[Tc]=r:delete t[Tc]),i}var cH=Object.prototype,uH=cH.toString;function dH(t){return uH.call(t)}var hH="[object Null]",fH="[object Undefined]",Uw=Yo?Yo.toStringTag:void 0;function es(t){return t==null?t===void 0?fH:hH:Uw&&Uw in Object(t)?lH(t):dH(t)}function Wn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pH="[object AsyncFunction]",gH="[object Function]",mH="[object GeneratorFunction]",vH="[object Proxy]";function Jy(t){if(!Wn(t))return!1;var e=es(t);return e==gH||e==mH||e==pH||e==vH}var ug=fi["__core-js_shared__"],Hw=function(){var t=/[^.]+$/.exec(ug&&ug.keys&&ug.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yH(t){return!!Hw&&Hw in t}var bH=Function.prototype,xH=bH.toString;function ts(t){if(t!=null){try{return xH.call(t)}catch{}try{return t+""}catch{}}return""}var wH=/[\\^$.*+?()[\]{}|]/g,SH=/^\[object .+?Constructor\]$/,kH=Function.prototype,_H=Object.prototype,CH=kH.toString,jH=_H.hasOwnProperty,EH=RegExp("^"+CH.call(jH).replace(wH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TH(t){if(!Wn(t)||yH(t))return!1;var e=Jy(t)?EH:SH;return e.test(ts(t))}function RH(t,e){return t==null?void 0:t[e]}function rs(t,e){var r=RH(t,e);return TH(r)?r:void 0}var qu=rs(fi,"Map"),Ku=rs(Object,"create");function PH(){this.__data__=Ku?Ku(null):{},this.size=0}function OH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var AH="__lodash_hash_undefined__",NH=Object.prototype,FH=NH.hasOwnProperty;function DH(t){var e=this.__data__;if(Ku){var r=e[t];return r===AH?void 0:r}return FH.call(e,t)?e[t]:void 0}var IH=Object.prototype,MH=IH.hasOwnProperty;function LH(t){var e=this.__data__;return Ku?e[t]!==void 0:MH.call(e,t)}var zH="__lodash_hash_undefined__";function BH(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ku&&e===void 0?zH:e,this}function Va(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Va.prototype.clear=PH;Va.prototype.delete=OH;Va.prototype.get=DH;Va.prototype.has=LH;Va.prototype.set=BH;function UH(){this.size=0,this.__data__={hash:new Va,map:new(qu||ao),string:new Va}}function HH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function qp(t,e){var r=t.__data__;return HH(e)?r[typeof e=="string"?"string":"hash"]:r.map}function WH(t){var e=qp(this,t).delete(t);return this.size-=e?1:0,e}function VH(t){return qp(this,t).get(t)}function GH(t){return qp(this,t).has(t)}function qH(t,e){var r=qp(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function so(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}so.prototype.clear=UH;so.prototype.delete=WH;so.prototype.get=VH;so.prototype.has=GH;so.prototype.set=qH;var KH=200;function XH(t,e){var r=this.__data__;if(r instanceof ao){var n=r.__data__;if(!qu||n.length<KH-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new so(n)}return r.set(t,e),this.size=r.size,this}function Pi(t){var e=this.__data__=new ao(t);this.size=e.size}Pi.prototype.clear=tH;Pi.prototype.delete=rH;Pi.prototype.get=nH;Pi.prototype.has=iH;Pi.prototype.set=XH;var Yf=function(){try{var t=rs(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Qy(t,e,r){e=="__proto__"&&Yf?Yf(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function $m(t,e,r){(r!==void 0&&!yd(t[e],r)||r===void 0&&!(e in t))&&Qy(t,e,r)}function ZH(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[++i];if(r(o[l],l,o)===!1)break}return e}}var RE=ZH(),PE=typeof yn=="object"&&yn&&!yn.nodeType&&yn,Ww=PE&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,YH=Ww&&Ww.exports===PE,Vw=YH?fi.Buffer:void 0;Vw&&Vw.allocUnsafe;function JH(t,e){return t.slice()}var Jf=fi.Uint8Array;function QH(t){var e=new t.constructor(t.byteLength);return new Jf(e).set(new Jf(t)),e}function $H(t,e){var r=QH(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function eW(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Gw=Object.create,tW=function(){function t(){}return function(e){if(!Wn(e))return{};if(Gw)return Gw(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function OE(t,e){return function(r){return t(e(r))}}var AE=OE(Object.getPrototypeOf,Object),rW=Object.prototype;function $y(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rW;return t===r}function nW(t){return typeof t.constructor=="function"&&!$y(t)?tW(AE(t)):{}}function Jo(t){return t!=null&&typeof t=="object"}var iW="[object Arguments]";function qw(t){return Jo(t)&&es(t)==iW}var NE=Object.prototype,oW=NE.hasOwnProperty,aW=NE.propertyIsEnumerable,Qf=qw(function(){return arguments}())?qw:function(t){return Jo(t)&&oW.call(t,"callee")&&!aW.call(t,"callee")},kn=Array.isArray,sW=9007199254740991;function eb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sW}function tc(t){return t!=null&&eb(t.length)&&!Jy(t)}function lW(t){return Jo(t)&&tc(t)}function cW(){return!1}var FE=typeof yn=="object"&&yn&&!yn.nodeType&&yn,Kw=FE&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,uW=Kw&&Kw.exports===FE,Xw=uW?fi.Buffer:void 0,dW=Xw?Xw.isBuffer:void 0,$f=dW||cW,hW="[object Object]",fW=Function.prototype,pW=Object.prototype,DE=fW.toString,gW=pW.hasOwnProperty,mW=DE.call(Object);function vW(t){if(!Jo(t)||es(t)!=hW)return!1;var e=AE(t);if(e===null)return!0;var r=gW.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&DE.call(r)==mW}var yW="[object Arguments]",bW="[object Array]",xW="[object Boolean]",wW="[object Date]",SW="[object Error]",kW="[object Function]",_W="[object Map]",CW="[object Number]",jW="[object Object]",EW="[object RegExp]",TW="[object Set]",RW="[object String]",PW="[object WeakMap]",OW="[object ArrayBuffer]",AW="[object DataView]",NW="[object Float32Array]",FW="[object Float64Array]",DW="[object Int8Array]",IW="[object Int16Array]",MW="[object Int32Array]",LW="[object Uint8Array]",zW="[object Uint8ClampedArray]",BW="[object Uint16Array]",UW="[object Uint32Array]",Gt={};Gt[NW]=Gt[FW]=Gt[DW]=Gt[IW]=Gt[MW]=Gt[LW]=Gt[zW]=Gt[BW]=Gt[UW]=!0;Gt[yW]=Gt[bW]=Gt[OW]=Gt[xW]=Gt[AW]=Gt[wW]=Gt[SW]=Gt[kW]=Gt[_W]=Gt[CW]=Gt[jW]=Gt[EW]=Gt[TW]=Gt[RW]=Gt[PW]=!1;function HW(t){return Jo(t)&&eb(t.length)&&!!Gt[es(t)]}function WW(t){return function(e){return t(e)}}var IE=typeof yn=="object"&&yn&&!yn.nodeType&&yn,pu=IE&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,VW=pu&&pu.exports===IE,dg=VW&&EE.process,Zw=function(){try{var t=pu&&pu.require&&pu.require("util").types;return t||dg&&dg.binding&&dg.binding("util")}catch{}}(),Yw=Zw&&Zw.isTypedArray,tb=Yw?WW(Yw):HW;function ev(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var GW=Object.prototype,qW=GW.hasOwnProperty;function KW(t,e,r){var n=t[e];(!(qW.call(t,e)&&yd(n,r))||r===void 0&&!(e in t))&&Qy(t,e,r)}function XW(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),i?Qy(r,s,l):KW(r,s,l)}return r}function ZW(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var YW=9007199254740991,JW=/^(?:0|[1-9]\d*)$/;function rb(t,e){var r=typeof t;return e=e??YW,!!e&&(r=="number"||r!="symbol"&&JW.test(t))&&t>-1&&t%1==0&&t<e}var QW=Object.prototype,$W=QW.hasOwnProperty;function ME(t,e){var r=kn(t),n=!r&&Qf(t),i=!r&&!n&&$f(t),o=!r&&!n&&!i&&tb(t),a=r||n||i||o,s=a?ZW(t.length,String):[],l=s.length;for(var c in t)(e||$W.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||rb(c,l)))&&s.push(c);return s}function eV(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var tV=Object.prototype,rV=tV.hasOwnProperty;function nV(t){if(!Wn(t))return eV(t);var e=$y(t),r=[];for(var n in t)n=="constructor"&&(e||!rV.call(t,n))||r.push(n);return r}function LE(t){return tc(t)?ME(t,!0):nV(t)}function iV(t){return XW(t,LE(t))}function oV(t,e,r,n,i,o,a){var s=ev(t,r),l=ev(e,r),c=a.get(l);if(c){$m(t,r,c);return}var d=o?o(s,l,r+"",t,e,a):void 0,h=d===void 0;if(h){var f=kn(l),p=!f&&$f(l),g=!f&&!p&&tb(l);d=l,f||p||g?kn(s)?d=s:lW(s)?d=eW(s):p?(h=!1,d=JH(l)):g?(h=!1,d=$H(l)):d=[]:vW(l)||Qf(l)?(d=s,Qf(s)?d=iV(s):(!Wn(s)||Jy(s))&&(d=nW(l))):h=!1}h&&(a.set(l,d),i(d,l,n,o,a),a.delete(l)),$m(t,r,d)}function zE(t,e,r,n,i){t!==e&&RE(e,function(o,a){if(i||(i=new Pi),Wn(o))oV(t,e,a,r,zE,n,i);else{var s=n?n(ev(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),$m(t,a,s)}},LE)}function Kp(t){return t}function aV(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Jw=Math.max;function sV(t,e,r){return e=Jw(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=Jw(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),aV(t,this,s)}}function lV(t){return function(){return t}}var cV=Yf?function(t,e){return Yf(t,"toString",{configurable:!0,enumerable:!1,value:lV(e),writable:!0})}:Kp,uV=800,dV=16,hV=Date.now;function fV(t){var e=0,r=0;return function(){var n=hV(),i=dV-(n-r);if(r=n,i>0){if(++e>=uV)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var pV=fV(cV);function gV(t,e){return pV(sV(t,e,Kp),t+"")}function mV(t,e,r){if(!Wn(r))return!1;var n=typeof e;return(n=="number"?tc(r)&&rb(e,r.length):n=="string"&&e in r)?yd(r[e],t):!1}function vV(t){return gV(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&mV(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,o)}return e})}var sn=vV(function(t,e,r){zE(t,e,r)}),bd=function(e){var r=e.zDepth,n=e.radius,i=e.background,o=e.children,a=e.styles,s=a===void 0?{}:a,l=Ke(sn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":r===1});return z.createElement("div",{style:l.wrap},z.createElement("div",{style:l.bg}),z.createElement("div",{style:l.content},o))};bd.propTypes={background:we.string,zDepth:we.oneOf([0,1,2,3,4,5]),radius:we.number,styles:we.object};bd.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var hg=function(){return fi.Date.now()},yV=/\s/;function bV(t){for(var e=t.length;e--&&yV.test(t.charAt(e)););return e}var xV=/^\s+/;function wV(t){return t&&t.slice(0,bV(t)+1).replace(xV,"")}var SV="[object Symbol]";function Xp(t){return typeof t=="symbol"||Jo(t)&&es(t)==SV}var Qw=NaN,kV=/^[-+]0x[0-9a-f]+$/i,_V=/^0b[01]+$/i,CV=/^0o[0-7]+$/i,jV=parseInt;function $w(t){if(typeof t=="number")return t;if(Xp(t))return Qw;if(Wn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=wV(t);var r=_V.test(t);return r||CV.test(t)?jV(t.slice(2),r?2:8):kV.test(t)?Qw:+t}var EV="Expected a function",TV=Math.max,RV=Math.min;function BE(t,e,r){var n,i,o,a,s,l,c=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(EV);e=$w(e)||0,Wn(r)&&(d=!!r.leading,h="maxWait"in r,o=h?TV($w(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f);function p(k){var C=n,P=i;return n=i=void 0,c=k,a=t.apply(P,C),a}function g(k){return c=k,s=setTimeout(v,e),d?p(k):a}function m(k){var C=k-l,P=k-c,E=e-C;return h?RV(E,o-P):E}function y(k){var C=k-l,P=k-c;return l===void 0||C>=e||C<0||h&&P>=o}function v(){var k=hg();if(y(k))return b(k);s=setTimeout(v,m(k))}function b(k){return s=void 0,f&&n?p(k):(n=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function w(){return s===void 0?a:b(hg())}function S(){var k=hg(),C=y(k);if(n=arguments,i=this,l=k,C){if(s===void 0)return g(l);if(h)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),a}return S.cancel=x,S.flush=w,S}var PV="Expected a function";function OV(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(PV);return Wn(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),BE(t,e,{leading:n,maxWait:e,trailing:i})}var AV=function(e,r,n){var i=n.getBoundingClientRect(),o=i.width,a=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(n.getBoundingClientRect().left+window.pageXOffset),d=l-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),d<0?d=0:d>a&&(d=a);var h=c/o,f=1-d/a;return{h:r.h,s:h,v:f,a:r.a,source:"hsv"}},NV=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function FV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DV(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function IV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zp=function(t){IV(e,t);function e(r){FV(this,e);var n=DV(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,AV(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var o=n.getContainerRenderWindow();o.addEventListener("mousemove",n.handleChange),o.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=OV(function(i,o,a){i(o,a)},50),n}return NV(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},o=i.color,a=i.white,s=i.black,l=i.pointer,c=i.circle,d=Ke({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:a,black:s,pointer:l,circle:c}},{custom:!!this.props.style});return z.createElement("div",{style:d.color,ref:function(f){return n.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},z.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),z.createElement("div",{style:d.white,className:"saturation-white"},z.createElement("div",{style:d.black,className:"saturation-black"}),z.createElement("div",{style:d.pointer},this.props.pointer?z.createElement(this.props.pointer,this.props):z.createElement("div",{style:d.circle}))))}}]),e}(H.PureComponent||H.Component);function MV(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var LV=OE(Object.keys,Object),zV=Object.prototype,BV=zV.hasOwnProperty;function UV(t){if(!$y(t))return LV(t);var e=[];for(var r in Object(t))BV.call(t,r)&&r!="constructor"&&e.push(r);return e}function nb(t){return tc(t)?ME(t):UV(t)}function HV(t,e){return t&&RE(t,e,nb)}function WV(t,e){return function(r,n){if(r==null)return r;if(!tc(r))return t(r,n);for(var i=r.length,o=-1,a=Object(r);++o<i&&n(a[o],o,a)!==!1;);return r}}var UE=WV(HV);function VV(t){return typeof t=="function"?t:Kp}function GV(t,e){var r=kn(t)?MV:UE;return r(t,VV(e))}function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}var qV=/^\s+/,KV=/\s+$/;function Oe(t,e){if(t=t||"",e=e||{},t instanceof Oe)return t;if(!(this instanceof Oe))return new Oe(t,e);var r=XV(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Oe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,o,a,s;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(e){return this._a=HE(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=t2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=t2(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=e2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=e2(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return r2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return QV(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Jt(this._r,255)*100)+"%",g:Math.round(Jt(this._g,255)*100)+"%",b:Math.round(Jt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Jt(this._r,255)*100)+"%, "+Math.round(Jt(this._g,255)*100)+"%, "+Math.round(Jt(this._b,255)*100)+"%)":"rgba("+Math.round(Jt(this._r,255)*100)+"%, "+Math.round(Jt(this._g,255)*100)+"%, "+Math.round(Jt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:uG[r2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+n2(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Oe(e);n="#"+n2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,o=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Oe(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(rG,arguments)},brighten:function(){return this._applyModification(nG,arguments)},darken:function(){return this._applyModification(iG,arguments)},desaturate:function(){return this._applyModification($V,arguments)},saturate:function(){return this._applyModification(eG,arguments)},greyscale:function(){return this._applyModification(tG,arguments)},spin:function(){return this._applyModification(oG,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(lG,arguments)},complement:function(){return this._applyCombination(aG,arguments)},monochromatic:function(){return this._applyCombination(cG,arguments)},splitcomplement:function(){return this._applyCombination(sG,arguments)},triad:function(){return this._applyCombination(i2,[3])},tetrad:function(){return this._applyCombination(i2,[4])}};Oe.fromRatio=function(t,e){if(ep(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=qc(t[n]));t=r}return Oe(t,e)};function XV(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=pG(t)),ep(t)=="object"&&(zi(t.r)&&zi(t.g)&&zi(t.b)?(e=ZV(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):zi(t.h)&&zi(t.s)&&zi(t.v)?(n=qc(t.s),i=qc(t.v),e=JV(t.h,n,i),a=!0,s="hsv"):zi(t.h)&&zi(t.s)&&zi(t.l)&&(n=qc(t.s),o=qc(t.l),e=YV(t.h,n,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=HE(r),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function ZV(t,e,r){return{r:Jt(t,255)*255,g:Jt(e,255)*255,b:Jt(r,255)*255}}function e2(t,e,r){t=Jt(t,255),e=Jt(e,255),r=Jt(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o,a,s=(n+i)/2;if(n==i)o=a=0;else{var l=n-i;switch(a=s>.5?l/(2-n-i):l/(n+i),n){case t:o=(e-r)/l+(e<r?6:0);break;case e:o=(r-t)/l+2;break;case r:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function YV(t,e,r){var n,i,o;t=Jt(t,360),e=Jt(e,100),r=Jt(r,100);function a(c,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(d-c)*6*h:h<1/2?d:h<2/3?c+(d-c)*(2/3-h)*6:c}if(e===0)n=i=o=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:n*255,g:i*255,b:o*255}}function t2(t,e,r){t=Jt(t,255),e=Jt(e,255),r=Jt(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),o,a,s=n,l=n-i;if(a=n===0?0:l/n,n==i)o=0;else{switch(n){case t:o=(e-r)/l+(e<r?6:0);break;case e:o=(r-t)/l+2;break;case r:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,v:s}}function JV(t,e,r){t=Jt(t,360)*6,e=Jt(e,100),r=Jt(r,100);var n=Math.floor(t),i=t-n,o=r*(1-e),a=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,c=[r,a,o,o,s,r][l],d=[s,r,r,a,o,o][l],h=[o,o,s,r,r,a][l];return{r:c*255,g:d*255,b:h*255}}function r2(t,e,r,n){var i=[si(Math.round(t).toString(16)),si(Math.round(e).toString(16)),si(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function QV(t,e,r,n,i){var o=[si(Math.round(t).toString(16)),si(Math.round(e).toString(16)),si(Math.round(r).toString(16)),si(WE(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function n2(t,e,r,n){var i=[si(WE(n)),si(Math.round(t).toString(16)),si(Math.round(e).toString(16)),si(Math.round(r).toString(16))];return i.join("")}Oe.equals=function(t,e){return!t||!e?!1:Oe(t).toRgbString()==Oe(e).toRgbString()};Oe.random=function(){return Oe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function $V(t,e){e=e===0?0:e||10;var r=Oe(t).toHsl();return r.s-=e/100,r.s=Yp(r.s),Oe(r)}function eG(t,e){e=e===0?0:e||10;var r=Oe(t).toHsl();return r.s+=e/100,r.s=Yp(r.s),Oe(r)}function tG(t){return Oe(t).desaturate(100)}function rG(t,e){e=e===0?0:e||10;var r=Oe(t).toHsl();return r.l+=e/100,r.l=Yp(r.l),Oe(r)}function nG(t,e){e=e===0?0:e||10;var r=Oe(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Oe(r)}function iG(t,e){e=e===0?0:e||10;var r=Oe(t).toHsl();return r.l-=e/100,r.l=Yp(r.l),Oe(r)}function oG(t,e){var r=Oe(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,Oe(r)}function aG(t){var e=Oe(t).toHsl();return e.h=(e.h+180)%360,Oe(e)}function i2(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Oe(t).toHsl(),n=[Oe(t)],i=360/e,o=1;o<e;o++)n.push(Oe({h:(r.h+o*i)%360,s:r.s,l:r.l}));return n}function sG(t){var e=Oe(t).toHsl(),r=e.h;return[Oe(t),Oe({h:(r+72)%360,s:e.s,l:e.l}),Oe({h:(r+216)%360,s:e.s,l:e.l})]}function lG(t,e,r){e=e||6,r=r||30;var n=Oe(t).toHsl(),i=360/r,o=[Oe(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(Oe(n));return o}function cG(t,e){e=e||6;for(var r=Oe(t).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/e;e--;)a.push(Oe({h:n,s:i,v:o})),o=(o+s)%1;return a}Oe.mix=function(t,e,r){r=r===0?0:r||50;var n=Oe(t).toRgb(),i=Oe(e).toRgb(),o=r/100,a={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return Oe(a)};Oe.readability=function(t,e){var r=Oe(t),n=Oe(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Oe.isReadable=function(t,e,r){var n=Oe.readability(t,e),i,o;switch(o=!1,i=gG(r),i.level+i.size){case"AAsmall":case"AAAlarge":o=n>=4.5;break;case"AAlarge":o=n>=3;break;case"AAAsmall":o=n>=7;break}return o};Oe.mostReadable=function(t,e,r){var n=null,i=0,o,a,s,l;r=r||{},a=r.includeFallbackColors,s=r.level,l=r.size;for(var c=0;c<e.length;c++)o=Oe.readability(t,e[c]),o>i&&(i=o,n=Oe(e[c]));return Oe.isReadable(t,n,{level:s,size:l})||!a?n:(r.includeFallbackColors=!1,Oe.mostReadable(t,["#fff","#000"],r))};var tv=Oe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},uG=Oe.hexNames=dG(tv);function dG(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function HE(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Jt(t,e){hG(t)&&(t="100%");var r=fG(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Yp(t){return Math.min(1,Math.max(0,t))}function un(t){return parseInt(t,16)}function hG(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function fG(t){return typeof t=="string"&&t.indexOf("%")!=-1}function si(t){return t.length==1?"0"+t:""+t}function qc(t){return t<=1&&(t=t*100+"%"),t}function WE(t){return Math.round(parseFloat(t)*255).toString(16)}function o2(t){return un(t)/255}var Qn=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function zi(t){return!!Qn.CSS_UNIT.exec(t)}function pG(t){t=t.replace(qV,"").replace(KV,"").toLowerCase();var e=!1;if(tv[t])t=tv[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Qn.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Qn.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Qn.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Qn.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Qn.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Qn.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Qn.hex8.exec(t))?{r:un(r[1]),g:un(r[2]),b:un(r[3]),a:o2(r[4]),format:e?"name":"hex8"}:(r=Qn.hex6.exec(t))?{r:un(r[1]),g:un(r[2]),b:un(r[3]),format:e?"name":"hex"}:(r=Qn.hex4.exec(t))?{r:un(r[1]+""+r[1]),g:un(r[2]+""+r[2]),b:un(r[3]+""+r[3]),a:o2(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Qn.hex3.exec(t))?{r:un(r[1]+""+r[1]),g:un(r[2]+""+r[2]),b:un(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function gG(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var a2=function(e){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return GV(r,function(o){if(e[o]&&(n+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var a=/^\d+%$/;a.test(e[o])&&(i+=1)}}),n===i?e:!1},Kc=function(e,r){var n=e.hex?Oe(e.hex):Oe(e),i=n.toHsl(),o=n.toHsv(),a=n.toRgb(),s=n.toHex();i.s===0&&(i.h=r||0,o.h=r||0);var l=s==="000000"&&a.a===0;return{hsl:i,hex:l?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||r||i.h,source:e.source}},aa=function(e){if(e==="transparent")return!0;var r=String(e).charAt(0)==="#"?1:0;return e.length!==4+r&&e.length<7+r&&Oe(e).isValid()},ib=function(e){if(!e)return"#fff";var r=Kc(e);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},fg=function(e,r){var n=e.replace("","");return Oe(r+" ("+n+")")._ok},Rc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mG=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function vG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ln=function(e){var r=function(n){bG(i,n);function i(o){vG(this,i);var a=yG(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.handleChange=function(s,l){var c=a2(s);if(c){var d=Kc(s,s.h||a.state.oldHue);a.setState(d),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,d,l),a.props.onChange&&a.props.onChange(d,l)}},a.handleSwatchHover=function(s,l){var c=a2(s);if(c){var d=Kc(s,s.h||a.state.oldHue);a.props.onSwatchHover&&a.props.onSwatchHover(d,l)}},a.state=Rc({},Kc(o.color,0)),a.debounce=BE(function(s,l,c){s(l,c)},100),a}return mG(i,[{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),z.createElement(e,Rc({},this.props,this.state,{onChange:this.handleChange},a))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return Rc({},Kc(a.color,s.oldHue))}}]),i}(H.PureComponent||H.Component);return r.propTypes=Rc({},e.propTypes),r.defaultProps=Rc({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},xG=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wG=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function SG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s2(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _G=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){kG(i,n);function i(){var o,a,s,l;SG(this,i);for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];return l=(a=(s=s2(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(d))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},a),s2(s,l)}return wG(i,[{key:"render",value:function(){return z.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},z.createElement(e,xG({},this.props,this.state)))}}]),i}(z.Component)},l2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CG=13,jG=function(e){var r=e.color,n=e.style,i=e.onClick,o=i===void 0?function(){}:i,a=e.onHover,s=e.title,l=s===void 0?r:s,c=e.children,d=e.focus,h=e.focusStyle,f=h===void 0?{}:h,p=r==="transparent",g=Ke({default:{swatch:l2({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?f:{})}}),m=function(w){return o(r,w)},y=function(w){return w.keyCode===CG&&o(r,w)},v=function(w){return a(r,w)},b={};return a&&(b.onMouseOver=v),z.createElement("div",l2({style:g.swatch,onClick:m,title:l,tabIndex:0,onKeyDown:y},b),c,p&&z.createElement($l,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ns=_G(jG);var EG=function(e){var r=e.direction,n=Ke({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return z.createElement("div",{style:n.picker})},TG=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VE=function(e){var r=e.rgb,n=e.hsl,i=e.width,o=e.height,a=e.onChange,s=e.direction,l=e.style,c=e.renderers,d=e.pointer,h=e.className,f=h===void 0?"":h,p=Ke({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return z.createElement("div",{style:p.picker,className:"alpha-picker "+f},z.createElement(Yy,TG({},p.alpha,{rgb:r,hsl:n,pointer:d,renderers:c,onChange:a,direction:s})))};VE.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:EG};ln(VE);function GE(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var RG="__lodash_hash_undefined__";function PG(t){return this.__data__.set(t,RG),this}function OG(t){return this.__data__.has(t)}function tp(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new so;++e<r;)this.add(t[e])}tp.prototype.add=tp.prototype.push=PG;tp.prototype.has=OG;function AG(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function NG(t,e){return t.has(e)}var FG=1,DG=2;function qE(t,e,r,n,i,o){var a=r&FG,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,p=r&DG?new tp:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var g=t[h],m=e[h];if(n)var y=a?n(m,g,h,e,t,o):n(g,m,h,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(p){if(!AG(e,function(v,b){if(!NG(p,b)&&(g===v||i(g,v,r,n,o)))return p.push(b)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function IG(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function MG(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var LG=1,zG=2,BG="[object Boolean]",UG="[object Date]",HG="[object Error]",WG="[object Map]",VG="[object Number]",GG="[object RegExp]",qG="[object Set]",KG="[object String]",XG="[object Symbol]",ZG="[object ArrayBuffer]",YG="[object DataView]",c2=Yo?Yo.prototype:void 0,pg=c2?c2.valueOf:void 0;function JG(t,e,r,n,i,o,a){switch(r){case YG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZG:return!(t.byteLength!=e.byteLength||!o(new Jf(t),new Jf(e)));case BG:case UG:case VG:return yd(+t,+e);case HG:return t.name==e.name&&t.message==e.message;case GG:case KG:return t==e+"";case WG:var s=IG;case qG:var l=n&LG;if(s||(s=MG),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=zG,a.set(t,e);var d=qE(s(t),s(e),n,i,o,a);return a.delete(t),d;case XG:if(pg)return pg.call(t)==pg.call(e)}return!1}function QG(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function $G(t,e,r){var n=e(t);return kn(t)?n:QG(n,r(t))}function eq(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function tq(){return[]}var rq=Object.prototype,nq=rq.propertyIsEnumerable,u2=Object.getOwnPropertySymbols,iq=u2?function(t){return t==null?[]:(t=Object(t),eq(u2(t),function(e){return nq.call(t,e)}))}:tq;function d2(t){return $G(t,nb,iq)}var oq=1,aq=Object.prototype,sq=aq.hasOwnProperty;function lq(t,e,r,n,i,o){var a=r&oq,s=d2(t),l=s.length,c=d2(e),d=c.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=s[h];if(!(a?f in e:sq.call(e,f)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var y=a;++h<l;){f=s[h];var v=t[f],b=e[f];if(n)var x=a?n(b,v,f,e,t,o):n(v,b,f,t,e,o);if(!(x===void 0?v===b||i(v,b,r,n,o):x)){m=!1;break}y||(y=f=="constructor")}if(m&&!y){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(m=!1)}return o.delete(t),o.delete(e),m}var rv=rs(fi,"DataView"),nv=rs(fi,"Promise"),iv=rs(fi,"Set"),ov=rs(fi,"WeakMap"),h2="[object Map]",cq="[object Object]",f2="[object Promise]",p2="[object Set]",g2="[object WeakMap]",m2="[object DataView]",uq=ts(rv),dq=ts(qu),hq=ts(nv),fq=ts(iv),pq=ts(ov),Co=es;(rv&&Co(new rv(new ArrayBuffer(1)))!=m2||qu&&Co(new qu)!=h2||nv&&Co(nv.resolve())!=f2||iv&&Co(new iv)!=p2||ov&&Co(new ov)!=g2)&&(Co=function(t){var e=es(t),r=e==cq?t.constructor:void 0,n=r?ts(r):"";if(n)switch(n){case uq:return m2;case dq:return h2;case hq:return f2;case fq:return p2;case pq:return g2}return e});var gq=1,v2="[object Arguments]",y2="[object Array]",xh="[object Object]",mq=Object.prototype,b2=mq.hasOwnProperty;function vq(t,e,r,n,i,o){var a=kn(t),s=kn(e),l=a?y2:Co(t),c=s?y2:Co(e);l=l==v2?xh:l,c=c==v2?xh:c;var d=l==xh,h=c==xh,f=l==c;if(f&&$f(t)){if(!$f(e))return!1;a=!0,d=!1}if(f&&!d)return o||(o=new Pi),a||tb(t)?qE(t,e,r,n,i,o):JG(t,e,l,r,n,i,o);if(!(r&gq)){var p=d&&b2.call(t,"__wrapped__"),g=h&&b2.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return o||(o=new Pi),i(m,y,r,n,o)}}return f?(o||(o=new Pi),lq(t,e,r,n,i,o)):!1}function ob(t,e,r,n,i){return t===e?!0:t==null||e==null||!Jo(t)&&!Jo(e)?t!==t&&e!==e:vq(t,e,r,n,ob,i)}var yq=1,bq=2;function xq(t,e,r,n){var i=r.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=r[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=r[i];var s=a[0],l=t[s],c=a[1];if(a[2]){if(l===void 0&&!(s in t))return!1}else{var d=new Pi,h;if(!(h===void 0?ob(c,l,yq|bq,n,d):h))return!1}}return!0}function KE(t){return t===t&&!Wn(t)}function wq(t){for(var e=nb(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,KE(i)]}return e}function XE(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function Sq(t){var e=wq(t);return e.length==1&&e[0][2]?XE(e[0][0],e[0][1]):function(r){return r===t||xq(r,t,e)}}var kq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_q=/^\w*$/;function ab(t,e){if(kn(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Xp(t)?!0:_q.test(t)||!kq.test(t)||e!=null&&t in Object(e)}var Cq="Expected a function";function sb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Cq);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(sb.Cache||so),r}sb.Cache=so;var jq=500;function Eq(t){var e=sb(t,function(n){return r.size===jq&&r.clear(),n}),r=e.cache;return e}var Tq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rq=/\\(\\)?/g,Pq=Eq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Tq,function(r,n,i,o){e.push(i?o.replace(Rq,"$1"):n||r)}),e}),x2=Yo?Yo.prototype:void 0,w2=x2?x2.toString:void 0;function ZE(t){if(typeof t=="string")return t;if(kn(t))return GE(t,ZE)+"";if(Xp(t))return w2?w2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Oq(t){return t==null?"":ZE(t)}function YE(t,e){return kn(t)?t:ab(t,e)?[t]:Pq(Oq(t))}function Jp(t){if(typeof t=="string"||Xp(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function JE(t,e){e=YE(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Jp(e[r++])];return r&&r==n?t:void 0}function Aq(t,e,r){var n=t==null?void 0:JE(t,e);return n===void 0?r:n}function Nq(t,e){return t!=null&&e in Object(t)}function Fq(t,e,r){e=YE(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var a=Jp(e[n]);if(!(o=t!=null&&r(t,a)))break;t=t[a]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&eb(i)&&rb(a,i)&&(kn(t)||Qf(t)))}function Dq(t,e){return t!=null&&Fq(t,e,Nq)}var Iq=1,Mq=2;function Lq(t,e){return ab(t)&&KE(e)?XE(Jp(t),e):function(r){var n=Aq(r,t);return n===void 0&&n===e?Dq(r,t):ob(e,n,Iq|Mq)}}function zq(t){return function(e){return e==null?void 0:e[t]}}function Bq(t){return function(e){return JE(e,t)}}function Uq(t){return ab(t)?zq(Jp(t)):Bq(t)}function Hq(t){return typeof t=="function"?t:t==null?Kp:typeof t=="object"?kn(t)?Lq(t[0],t[1]):Sq(t):Uq(t)}function Wq(t,e){var r=-1,n=tc(t)?Array(t.length):[];return UE(t,function(i,o,a){n[++r]=e(i,o,a)}),n}function is(t,e){var r=kn(t)?GE:Wq;return r(t,Hq(e))}var Vq=function(e){var r=e.colors,n=e.onClick,i=e.onSwatchHover,o=Ke({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return z.createElement("div",{style:o.swatches},is(r,function(a){return z.createElement(ns,{key:a,color:a,style:o.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+a}})}),z.createElement("div",{style:o.clear}))},lb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,o=e.colors,a=e.width,s=e.triangle,l=e.styles,c=l===void 0?{}:l,d=e.className,h=d===void 0?"":d,f=i==="transparent",p=function(y,v){aa(y)&&r({hex:y,source:"hex"},v)},g=Ke(sn({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:ib(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":s==="hide"});return z.createElement("div",{style:g.card,className:"block-picker "+h},z.createElement("div",{style:g.triangle}),z.createElement("div",{style:g.head},f&&z.createElement($l,{borderRadius:"6px 6px 0 0"}),z.createElement("div",{style:g.label},i)),z.createElement("div",{style:g.body},z.createElement(Vq,{colors:o,onClick:p,onSwatchHover:n}),z.createElement(mt,{style:{input:g.input},value:i,onChange:p})))};lb.propTypes={width:we.oneOfType([we.string,we.number]),colors:we.arrayOf(we.string),triangle:we.oneOf(["top","hide"]),styles:we.object};lb.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ln(lb);var zs={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Bs={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Us={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Hs={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},Ws={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Vs={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Gs={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},qs={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Ks={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},Xc={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Xs={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Zs={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Ys={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Js={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Qs={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},$s={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},el={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},tl={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},QE=function(e){var r=e.color,n=e.onClick,i=e.onSwatchHover,o=e.hover,a=e.active,s=e.circleSize,l=e.circleSpacing,c=Ke({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:o,active:a});return z.createElement("div",{style:c.swatch},z.createElement(ns,{style:c.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+r}}))};QE.defaultProps={circleSize:28,circleSpacing:14};const Gq=Zy(QE);var cb=function(e){var r=e.width,n=e.onChange,i=e.onSwatchHover,o=e.colors,a=e.hex,s=e.circleSize,l=e.styles,c=l===void 0?{}:l,d=e.circleSpacing,h=e.className,f=h===void 0?"":h,p=Ke(sn({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}},c)),g=function(y,v){return n({hex:y,source:"hex"},v)};return z.createElement("div",{style:p.card,className:"circle-picker "+f},is(o,function(m){return z.createElement(Gq,{key:m,color:m,onClick:g,onSwatchHover:i,active:a===m.toLowerCase(),circleSize:s,circleSpacing:d})}))};cb.propTypes={width:we.oneOfType([we.string,we.number]),circleSize:we.number,circleSpacing:we.number,styles:we.object};cb.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[zs[500],Bs[500],Us[500],Hs[500],Ws[500],Vs[500],Gs[500],qs[500],Ks[500],Xc[500],Xs[500],Zs[500],Ys[500],Js[500],Qs[500],$s[500],el[500],tl[500]],styles:{}};ln(cb);function S2(t){return t===void 0}var $E={};Object.defineProperty($E,"__esModule",{value:!0});var k2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qq=H,_2=Kq(qq);function Kq(t){return t&&t.__esModule?t:{default:t}}function Xq(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var wh=24,Zq=$E.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?wh:n,o=t.height,a=o===void 0?wh:o,s=t.style,l=s===void 0?{}:s,c=Xq(t,["fill","width","height","style"]);return _2.default.createElement("svg",k2({viewBox:"0 0 "+wh+" "+wh,style:k2({fill:r,width:i,height:a},l)},c),_2.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Yq=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Jq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var e5=function(t){$q(e,t);function e(r){Jq(this,e);var n=Qq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,o){i.hex?aa(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(S2(i.s)?n.props.hsl.s:i.s),l:Number(S2(i.l)?n.props.hsl.l:i.l),source:"hsl"},o))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return Yq(e,[{key:"render",value:function(){var n=this,i=Ke({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=z.createElement("div",{style:i.fields,className:"flexbox-fix"},z.createElement("div",{style:i.field},z.createElement(mt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=z.createElement("div",{style:i.fields,className:"flexbox-fix"},z.createElement("div",{style:i.field},z.createElement(mt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(mt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(mt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),z.createElement("div",{style:i.alpha},z.createElement(mt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=z.createElement("div",{style:i.fields,className:"flexbox-fix"},z.createElement("div",{style:i.field},z.createElement(mt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(mt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),z.createElement("div",{style:i.field},z.createElement(mt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),z.createElement("div",{style:i.alpha},z.createElement(mt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),z.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,z.createElement("div",{style:i.toggle},z.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return n.icon=s}},z.createElement(Zq,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(z.Component);e5.defaultProps={view:"hex"};var C2=function(){var e=Ke({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return z.createElement("div",{style:e.picker})},eK=function(){var e=Ke({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return z.createElement("div",{style:e.picker})},ub=function(e){var r=e.width,n=e.onChange,i=e.disableAlpha,o=e.rgb,a=e.hsl,s=e.hsv,l=e.hex,c=e.renderers,d=e.styles,h=d===void 0?{}:d,f=e.className,p=f===void 0?"":f,g=e.defaultView,m=Ke(sn({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},h),{disableAlpha:i});return z.createElement("div",{style:m.picker,className:"chrome-picker "+p},z.createElement("div",{style:m.saturation},z.createElement(Zp,{style:m.Saturation,hsl:a,hsv:s,pointer:eK,onChange:n})),z.createElement("div",{style:m.body},z.createElement("div",{style:m.controls,className:"flexbox-fix"},z.createElement("div",{style:m.color},z.createElement("div",{style:m.swatch},z.createElement("div",{style:m.active}),z.createElement($l,{renderers:c}))),z.createElement("div",{style:m.toggles},z.createElement("div",{style:m.hue},z.createElement(ec,{style:m.Hue,hsl:a,pointer:C2,onChange:n})),z.createElement("div",{style:m.alpha},z.createElement(Yy,{style:m.Alpha,rgb:o,hsl:a,pointer:C2,renderers:c,onChange:n})))),z.createElement(e5,{rgb:o,hsl:a,hex:l,view:g,onChange:n,disableAlpha:i})))};ub.propTypes={width:we.oneOfType([we.string,we.number]),disableAlpha:we.bool,styles:we.object,defaultView:we.oneOf(["hex","rgb","hsl"])};ub.defaultProps={width:225,disableAlpha:!1,styles:{}};const tK=ln(ub);var rK=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,o=e.onSwatchHover,a=e.active,s=Ke({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:ib(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return z.createElement(ns,{style:s.color,color:r,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+r}},z.createElement("div",{style:s.dot}))},nK=function(e){var r=e.hex,n=e.rgb,i=e.onChange,o=Ke({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(l,c){l.r||l.g||l.b?i({r:l.r||n.r,g:l.g||n.g,b:l.b||n.b,source:"rgb"},c):i({hex:l.hex,source:"hex"},c)};return z.createElement("div",{style:o.fields,className:"flexbox-fix"},z.createElement("div",{style:o.active}),z.createElement(mt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:r,onChange:a}),z.createElement(mt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:a}),z.createElement(mt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:a}),z.createElement(mt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:a}))},db=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.colors,o=e.hex,a=e.rgb,s=e.styles,l=s===void 0?{}:s,c=e.className,d=c===void 0?"":c,h=Ke(sn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),f=function(g,m){g.hex?aa(g.hex)&&r({hex:g.hex,source:"hex"},m):r(g,m)};return z.createElement(bd,{style:h.Compact,styles:l},z.createElement("div",{style:h.compact,className:"compact-picker "+d},z.createElement("div",null,is(i,function(p){return z.createElement(rK,{key:p,color:p,active:p.toLowerCase()===o,onClick:f,onSwatchHover:n})}),z.createElement("div",{style:h.clear})),z.createElement(nK,{hex:o,rgb:a,onChange:f})))};db.propTypes={colors:we.arrayOf(we.string),styles:we.object};db.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ln(db);var iK=function(e){var r=e.hover,n=e.color,i=e.onClick,o=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=Ke({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:r});return z.createElement("div",{style:s.swatch},z.createElement(ns,{color:n,onClick:i,onHover:o,focusStyle:a}))};const oK=Zy(iK);var hb=function(e){var r=e.width,n=e.colors,i=e.onChange,o=e.onSwatchHover,a=e.triangle,s=e.styles,l=s===void 0?{}:s,c=e.className,d=c===void 0?"":c,h=Ke(sn({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right","bottom-left-triangle":a==="bottom-left","bottom-right-triangle":a==="bottom-right"}),f=function(g,m){return i({hex:g,source:"hex"},m)};return z.createElement("div",{style:h.card,className:"github-picker "+d},z.createElement("div",{style:h.triangleShadow}),z.createElement("div",{style:h.triangle}),is(n,function(p){return z.createElement(oK,{color:p,key:p,onClick:f,onSwatchHover:o})}))};hb.propTypes={width:we.oneOfType([we.string,we.number]),colors:we.arrayOf(we.string),triangle:we.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:we.object};hb.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ln(hb);var aK=function(e){var r=e.direction,n=Ke({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return z.createElement("div",{style:n.picker})},sK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb=function(e){var r=e.width,n=e.height,i=e.onChange,o=e.hsl,a=e.direction,s=e.pointer,l=e.styles,c=l===void 0?{}:l,d=e.className,h=d===void 0?"":d,f=Ke(sn({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},c)),p=function(m){return i({a:1,h:m.h,l:.5,s:1})};return z.createElement("div",{style:f.picker,className:"hue-picker "+h},z.createElement(ec,sK({},f.hue,{hsl:o,pointer:s,onChange:p,direction:a})))};fb.propTypes={styles:we.object};fb.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:aK,styles:{}};ln(fb);var lK=function(e){var r=e.onChange,n=e.hex,i=e.rgb,o=e.styles,a=o===void 0?{}:o,s=e.className,l=s===void 0?"":s,c=Ke(sn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),d=function(f,p){f.hex?aa(f.hex)&&r({hex:f.hex,source:"hex"},p):(f.r||f.g||f.b)&&r({r:f.r||i.r,g:f.g||i.g,b:f.b||i.b,source:"rgb"},p)};return z.createElement(bd,{styles:a},z.createElement("div",{style:c.material,className:"material-picker "+l},z.createElement(mt,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:d}),z.createElement("div",{style:c.split,className:"flexbox-fix"},z.createElement("div",{style:c.third},z.createElement(mt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:i.r,onChange:d})),z.createElement("div",{style:c.third},z.createElement(mt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:i.g,onChange:d})),z.createElement("div",{style:c.third},z.createElement(mt,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:i.b,onChange:d})))))};ln(lK);var cK=function(e){var r=e.onChange,n=e.rgb,i=e.hsv,o=e.hex,a=Ke({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(c,d){c["#"]?aa(c["#"])&&r({hex:c["#"],source:"hex"},d):c.r||c.g||c.b?r({r:c.r||n.r,g:c.g||n.g,b:c.b||n.b,source:"rgb"},d):(c.h||c.s||c.v)&&r({h:c.h||i.h,s:c.s||i.s,v:c.v||i.v,source:"hsv"},d)};return z.createElement("div",{style:a.fields},z.createElement(mt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),z.createElement(mt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),z.createElement(mt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),z.createElement("div",{style:a.divider}),z.createElement(mt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:s}),z.createElement(mt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:s}),z.createElement(mt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:s}),z.createElement("div",{style:a.divider}),z.createElement(mt,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:o.replace("#",""),onChange:s}),z.createElement("div",{style:a.fieldSymbols},z.createElement("div",{style:a.symbol},""),z.createElement("div",{style:a.symbol},"%"),z.createElement("div",{style:a.symbol},"%")))},uK=function(e){var r=e.hsl,n=Ke({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return z.createElement("div",{style:n.picker})},dK=function(){var e=Ke({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return z.createElement("div",{style:e.pointer},z.createElement("div",{style:e.left},z.createElement("div",{style:e.leftInside})),z.createElement("div",{style:e.right},z.createElement("div",{style:e.rightInside})))},j2=function(e){var r=e.onClick,n=e.label,i=e.children,o=e.active,a=Ke({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return z.createElement("div",{style:a.button,onClick:r},n||i)},hK=function(e){var r=e.rgb,n=e.currentColor,i=Ke({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return z.createElement("div",null,z.createElement("div",{style:i.label},"new"),z.createElement("div",{style:i.swatches},z.createElement("div",{style:i.new}),z.createElement("div",{style:i.current})),z.createElement("div",{style:i.label},"current"))},fK=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function pK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pb=function(t){mK(e,t);function e(r){pK(this,e);var n=gK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return fK(e,[{key:"render",value:function(){var n=this.props,i=n.styles,o=i===void 0?{}:i,a=n.className,s=a===void 0?"":a,l=Ke(sn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return z.createElement("div",{style:l.picker,className:"photoshop-picker "+s},z.createElement("div",{style:l.head},this.props.header),z.createElement("div",{style:l.body,className:"flexbox-fix"},z.createElement("div",{style:l.saturation},z.createElement(Zp,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:uK,onChange:this.props.onChange})),z.createElement("div",{style:l.hue},z.createElement(ec,{direction:"vertical",hsl:this.props.hsl,pointer:dK,onChange:this.props.onChange})),z.createElement("div",{style:l.controls},z.createElement("div",{style:l.top,className:"flexbox-fix"},z.createElement("div",{style:l.previews},z.createElement(hK,{rgb:this.props.rgb,currentColor:this.state.currentColor})),z.createElement("div",{style:l.actions},z.createElement(j2,{label:"OK",onClick:this.props.onAccept,active:!0}),z.createElement(j2,{label:"Cancel",onClick:this.props.onCancel}),z.createElement(cK,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(z.Component);pb.propTypes={header:we.string,styles:we.object};pb.defaultProps={header:"Color Picker",styles:{}};ln(pb);var vK=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,o=e.hex,a=e.disableAlpha,s=Ke({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),l=function(d,h){d.hex?aa(d.hex)&&r({hex:d.hex,source:"hex"},h):d.r||d.g||d.b?r({r:d.r||n.r,g:d.g||n.g,b:d.b||n.b,a:n.a,source:"rgb"},h):d.a&&(d.a<0?d.a=0:d.a>100&&(d.a=100),d.a/=100,r({h:i.h,s:i.s,l:i.l,a:d.a,source:"rgb"},h))};return z.createElement("div",{style:s.fields,className:"flexbox-fix"},z.createElement("div",{style:s.double},z.createElement(mt,{style:{input:s.input,label:s.label},label:"hex",value:o.replace("#",""),onChange:l})),z.createElement("div",{style:s.single},z.createElement(mt,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),z.createElement("div",{style:s.single},z.createElement(mt,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),z.createElement("div",{style:s.single},z.createElement(mt,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),z.createElement("div",{style:s.alpha},z.createElement(mt,{style:{input:s.input,label:s.label},label:"a",value:Math.round(n.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},yK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t5=function(e){var r=e.colors,n=e.onClick,i=n===void 0?function(){}:n,o=e.onSwatchHover,a=Ke({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),s=function(c,d){i({hex:c,source:"hex"},d)};return z.createElement("div",{style:a.colors,className:"flexbox-fix"},r.map(function(l){var c=typeof l=="string"?{color:l}:l,d=""+c.color+(c.title||"");return z.createElement("div",{key:d,style:a.swatchWrap},z.createElement(ns,yK({},c,{style:a.swatch,onClick:s,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};t5.propTypes={colors:we.arrayOf(we.oneOfType([we.string,we.shape({color:we.string,title:we.string})])).isRequired};var bK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb=function(e){var r=e.width,n=e.rgb,i=e.hex,o=e.hsv,a=e.hsl,s=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,d=e.presetColors,h=e.renderers,f=e.styles,p=f===void 0?{}:f,g=e.className,m=g===void 0?"":g,y=Ke(sn({default:bK({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return z.createElement("div",{style:y.picker,className:"sketch-picker "+m},z.createElement("div",{style:y.saturation},z.createElement(Zp,{style:y.Saturation,hsl:a,hsv:o,onChange:s})),z.createElement("div",{style:y.controls,className:"flexbox-fix"},z.createElement("div",{style:y.sliders},z.createElement("div",{style:y.hue},z.createElement(ec,{style:y.Hue,hsl:a,onChange:s})),z.createElement("div",{style:y.alpha},z.createElement(Yy,{style:y.Alpha,rgb:n,hsl:a,renderers:h,onChange:s}))),z.createElement("div",{style:y.color},z.createElement($l,null),z.createElement("div",{style:y.activeColor}))),z.createElement(vK,{rgb:n,hsl:a,hex:i,onChange:s,disableAlpha:c}),z.createElement(t5,{colors:d,onClick:s,onSwatchHover:l}))};gb.propTypes={disableAlpha:we.bool,width:we.oneOfType([we.string,we.number]),styles:we.object};gb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};ln(gb);var Pc=function(e){var r=e.hsl,n=e.offset,i=e.onClick,o=i===void 0?function(){}:i,a=e.active,s=e.first,l=e.last,c=Ke({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:s,last:l}),d=function(f){return o({h:r.h,s:.5,l:n,source:"hsl"},f)};return z.createElement("div",{style:c.swatch,onClick:d})},xK=function(e){var r=e.onClick,n=e.hsl,i=Ke({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return z.createElement("div",{style:i.swatches},z.createElement("div",{style:i.swatch},z.createElement(Pc,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<o&&Math.abs(n.s-.5)<o,onClick:r,first:!0})),z.createElement("div",{style:i.swatch},z.createElement(Pc,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<o&&Math.abs(n.s-.5)<o,onClick:r})),z.createElement("div",{style:i.swatch},z.createElement(Pc,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<o&&Math.abs(n.s-.5)<o,onClick:r})),z.createElement("div",{style:i.swatch},z.createElement(Pc,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<o&&Math.abs(n.s-.5)<o,onClick:r})),z.createElement("div",{style:i.swatch},z.createElement(Pc,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<o&&Math.abs(n.s-.5)<o,onClick:r,last:!0})),z.createElement("div",{style:i.clear}))},wK=function(){var e=Ke({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return z.createElement("div",{style:e.picker})},mb=function(e){var r=e.hsl,n=e.onChange,i=e.pointer,o=e.styles,a=o===void 0?{}:o,s=e.className,l=s===void 0?"":s,c=Ke(sn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return z.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},z.createElement("div",{style:c.hue},z.createElement(ec,{style:c.Hue,hsl:r,pointer:i,onChange:n})),z.createElement("div",{style:c.swatches},z.createElement(xK,{hsl:r,onClick:n})))};mb.propTypes={styles:we.object};mb.defaultProps={pointer:wK,styles:{}};ln(mb);var r5={};Object.defineProperty(r5,"__esModule",{value:!0});var E2=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SK=H,T2=kK(SK);function kK(t){return t&&t.__esModule?t:{default:t}}function _K(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Sh=24,CK=r5.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Sh:n,o=t.height,a=o===void 0?Sh:o,s=t.style,l=s===void 0?{}:s,c=_K(t,["fill","width","height","style"]);return T2.default.createElement("svg",E2({viewBox:"0 0 "+Sh+" "+Sh,style:E2({fill:r,width:i,height:a},l)},c),T2.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},jK=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,o=e.onSwatchHover,a=e.first,s=e.last,l=e.active,c=Ke({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:ib(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:s,active:l,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return z.createElement(ns,{color:r,style:c.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+r}},z.createElement("div",{style:c.check},z.createElement(CK,null)))},EK=function(e){var r=e.onClick,n=e.onSwatchHover,i=e.group,o=e.active,a=Ke({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return z.createElement("div",{style:a.group},is(i,function(s,l){return z.createElement(jK,{key:s,color:s,active:s.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:r,onSwatchHover:n})}))},vb=function(e){var r=e.width,n=e.height,i=e.onChange,o=e.onSwatchHover,a=e.colors,s=e.hex,l=e.styles,c=l===void 0?{}:l,d=e.className,h=d===void 0?"":d,f=Ke(sn({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(m,y){return i({hex:m,source:"hex"},y)};return z.createElement("div",{style:f.picker,className:"swatches-picker "+h},z.createElement(bd,null,z.createElement("div",{style:f.overflow},z.createElement("div",{style:f.body},is(a,function(g){return z.createElement(EK,{key:g.toString(),group:g,active:s,onClick:p,onSwatchHover:o})}),z.createElement("div",{style:f.clear})))))};vb.propTypes={width:we.oneOfType([we.string,we.number]),height:we.oneOfType([we.string,we.number]),colors:we.arrayOf(we.arrayOf(we.string)),styles:we.object};vb.defaultProps={width:320,height:240,colors:[[zs[900],zs[700],zs[500],zs[300],zs[100]],[Bs[900],Bs[700],Bs[500],Bs[300],Bs[100]],[Us[900],Us[700],Us[500],Us[300],Us[100]],[Hs[900],Hs[700],Hs[500],Hs[300],Hs[100]],[Ws[900],Ws[700],Ws[500],Ws[300],Ws[100]],[Vs[900],Vs[700],Vs[500],Vs[300],Vs[100]],[Gs[900],Gs[700],Gs[500],Gs[300],Gs[100]],[qs[900],qs[700],qs[500],qs[300],qs[100]],[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],["#194D33",Xc[700],Xc[500],Xc[300],Xc[100]],[Xs[900],Xs[700],Xs[500],Xs[300],Xs[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],[Ys[900],Ys[700],Ys[500],Ys[300],Ys[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[$s[900],$s[700],$s[500],$s[300],$s[100]],[el[900],el[700],el[500],el[300],el[100]],[tl[900],tl[700],tl[500],tl[300],tl[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ln(vb);var yb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,o=e.colors,a=e.width,s=e.triangle,l=e.styles,c=l===void 0?{}:l,d=e.className,h=d===void 0?"":d,f=Ke(sn({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),p=function(m,y){aa(m)&&r({hex:m,source:"hex"},y)};return z.createElement("div",{style:f.card,className:"twitter-picker "+h},z.createElement("div",{style:f.triangleShadow}),z.createElement("div",{style:f.triangle}),z.createElement("div",{style:f.body},is(o,function(g,m){return z.createElement(ns,{key:m,color:g,hex:g,style:f.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+g}})}),z.createElement("div",{style:f.hash},"#"),z.createElement(mt,{label:null,style:{input:f.input},value:i.replace("#",""),onChange:p}),z.createElement("div",{style:f.clear})))};yb.propTypes={width:we.oneOfType([we.string,we.number]),triangle:we.oneOf(["hide","top-left","top-right"]),colors:we.arrayOf(we.string),styles:we.object};yb.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ln(yb);var bb=function(e){var r=Ke({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return z.createElement("div",{style:r.picker})};bb.propTypes={hsl:we.shape({h:we.number,s:we.number,l:we.number,a:we.number})};bb.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var xb=function(e){var r=Ke({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return z.createElement("div",{style:r.picker})};xb.propTypes={hsl:we.shape({h:we.number,s:we.number,l:we.number,a:we.number})};xb.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var TK=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,o=e.hex,a=e.hsv,s=function(p,g){if(p.hex)aa(p.hex)&&r({hex:p.hex,source:"hex"},g);else if(p.rgb){var m=p.rgb.split(",");fg(p.rgb,"rgb")&&r({r:m[0],g:m[1],b:m[2],a:1,source:"rgb"},g)}else if(p.hsv){var y=p.hsv.split(",");fg(p.hsv,"hsv")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("",""),y[1]==1?y[1]=.01:y[2]==1&&(y[2]=.01),r({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsv"},g))}else if(p.hsl){var v=p.hsl.split(",");fg(p.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),h[1]==1?h[1]=.01:h[2]==1&&(h[2]=.01),r({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},g))}},l=Ke({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,d=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",h=Math.round(a.h)+", "+Math.round(a.s*100)+"%, "+Math.round(a.v*100)+"%";return z.createElement("div",{style:l.wrap,className:"flexbox-fix"},z.createElement("div",{style:l.fields},z.createElement("div",{style:l.double},z.createElement(mt,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:s})),z.createElement("div",{style:l.column},z.createElement("div",{style:l.single},z.createElement(mt,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:s})),z.createElement("div",{style:l.single},z.createElement(mt,{style:{input:l.input2,label:l.label2},label:"hsv",value:h,onChange:s})),z.createElement("div",{style:l.single},z.createElement(mt,{style:{input:l.input2,label:l.label2},label:"hsl",value:d,onChange:s})))))},wb=function(e){var r=e.width,n=e.onChange,i=e.rgb,o=e.hsl,a=e.hsv,s=e.hex,l=e.header,c=e.styles,d=c===void 0?{}:c,h=e.className,f=h===void 0?"":h,p=Ke(sn({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},d));return z.createElement("div",{style:p.picker,className:"google-picker "+f},z.createElement("div",{style:p.head},l),z.createElement("div",{style:p.swatch}),z.createElement("div",{style:p.saturation},z.createElement(Zp,{hsl:o,hsv:a,pointer:bb,onChange:n})),z.createElement("div",{style:p.body},z.createElement("div",{style:p.controls,className:"flexbox-fix"},z.createElement("div",{style:p.hue},z.createElement(ec,{style:p.Hue,hsl:o,radius:"4px",pointer:xb,onChange:n}))),z.createElement(TK,{rgb:i,hsl:o,hex:s,hsv:a,onChange:n})))};wb.propTypes={width:we.oneOfType([we.string,we.number]),styles:we.object,header:we.string};wb.defaultProps={width:652,styles:{},header:"Color picker"};ln(wb);function RK({color:t,mode:e="blend",onColorChange:r,onClose:n}){var c;const[i,o]=H.useState((t==null?void 0:t.hex)||"#000000");H.useEffect(()=>{t!=null&&t.hex&&o(t.hex)},[t==null?void 0:t.hex]);const a=d=>{const h=d.hex;o(h),r&&r(h)},s=()=>{t!=null&&t.originalHex&&(o(t.originalHex),r&&r(t.originalHex))},l=d=>{const h=d.hex;o(h),r&&r(h)};return t?u.jsxs("div",{className:"color-editor-panel",children:[u.jsxs("div",{className:"editor-header",children:[u.jsx("h3",{children:"Edit Colour"}),u.jsx("button",{onClick:n,className:"close-button",children:""})]}),u.jsxs("div",{className:"editor-content",children:[u.jsxs("div",{className:"color-info-section",children:[u.jsx("div",{className:"color-display",children:u.jsxs("div",{className:"swatch-pair",children:[u.jsxs("div",{className:"swatch-group",children:[u.jsx("div",{className:"swatch original",style:{backgroundColor:t.originalHex||t.hex},title:"Original colour"}),u.jsx("span",{className:"swatch-label",children:"Original"})]}),u.jsx("span",{className:"arrow",children:""}),u.jsxs("div",{className:"swatch-group",children:[u.jsx("div",{className:"swatch current",style:{backgroundColor:i},title:"Current colour"}),u.jsx("span",{className:"swatch-label",children:"Current"})]})]})}),u.jsxs("div",{className:"color-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Hex:"}),u.jsx("span",{className:"value",children:i})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Coverage:"}),u.jsxs("span",{className:"value",children:[((c=t.areaPct)==null?void 0:c.toFixed(1))||0,"%"]})]})]})]}),u.jsxs("div",{className:"tpv-palette-section",children:[u.jsx("h4",{children:"Standard TPV Colours"}),u.jsx("p",{className:"palette-description",children:"Select a pure TPV colour (no blending required)"}),u.jsx("div",{className:"tpv-color-grid",children:Ri.map(d=>u.jsxs("div",{className:`tpv-color-item ${i.toLowerCase()===d.hex.toLowerCase()?"selected":""}`,onClick:()=>l(d),title:`${d.code} - ${d.name}`,children:[u.jsx("div",{className:"tpv-color-swatch",style:{backgroundColor:d.hex}}),u.jsx("span",{className:"tpv-color-code",children:d.code})]},d.code))})]}),e==="blend"&&u.jsxs("div",{className:"picker-section",children:[u.jsx("h4",{children:"Custom Colour"}),u.jsx("p",{className:"picker-description",children:"Choose any colour (may require blending)"}),u.jsx(tK,{color:i,onChange:a,disableAlpha:!0}),u.jsx("button",{onClick:s,className:"reset-button",children:"Reset to Original Colour"})]}),e==="solid"&&u.jsxs("div",{className:"solid-mode-info",children:[u.jsx("h4",{children:"Solid Mode Editing"}),u.jsx("p",{className:"info-description",children:"In solid mode, you can only select from the standard TPV colours above. Custom colours require blending - switch to Blend Mode for full colour customisation."}),u.jsx("button",{onClick:s,className:"reset-button",children:"Reset to Original Colour"})]})]}),u.jsx("style",{jsx:!0,children:`
        .color-editor-panel {
          position: fixed;
          top: 0;
          right: 0;
          width: 400px;
          height: 100vh;
          background: white;
          box-shadow: -4px 0 12px rgba(0, 0, 0, 0.15);
          z-index: 1000;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .editor-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1.5rem;
          border-bottom: 2px solid #1a365d;
          background: #f9f9f9;
        }

        .editor-header h3 {
          font-family: 'Space Grotesk', sans-serif;
          margin: 0;
          color: #1e4a7a;
          font-size: 1.5rem;
          font-weight: 600;
        }

        .close-button {
          background: none;
          border: none;
          font-size: 2rem;
          color: #666;
          cursor: pointer;
          padding: 0;
          width: 32px;
          height: 32px;
          line-height: 1;
          transition: color 0.2s;
        }

        .close-button:hover {
          color: #333;
        }

        .editor-content {
          flex: 1;
          overflow-y: auto;
          padding: 1.5rem;
        }

        /* Color Info Section */
        .color-info-section {
          margin-bottom: 2rem;
          padding: 1rem;
          background: #f9f9f9;
          border-radius: 6px;
        }

        .color-display {
          margin-bottom: 1rem;
        }

        .swatch-pair {
          display: flex;
          align-items: center;
          gap: 1rem;
          justify-content: center;
        }

        .swatch-group {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
        }

        .swatch {
          width: 60px;
          height: 60px;
          border-radius: 8px;
          border: 3px solid #ddd;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .swatch.original {
          border-color: #999;
        }

        .swatch.current {
          border-color: #ff6b35;
        }

        .swatch-label {
          font-size: 0.85rem;
          color: #666;
          font-weight: 500;
        }

        .arrow {
          font-size: 1.5rem;
          color: #666;
          font-weight: bold;
        }

        .color-details {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .detail-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-size: 0.95rem;
        }

        .detail-row .label {
          font-weight: 600;
          color: #666;
        }

        .detail-row .value {
          font-family: 'Courier New', monospace;
          color: #333;
        }

        /* TPV Palette Section */
        .tpv-palette-section {
          margin-bottom: 2rem;
          padding: 1rem;
          background: #f9f9f9;
          border-radius: 6px;
        }

        .tpv-palette-section h4 {
          margin: 0 0 0.5rem 0;
          color: #1a365d;
          font-size: 1rem;
          font-weight: 600;
        }

        .palette-description {
          margin: 0 0 1rem 0;
          font-size: 0.85rem;
          color: #666;
        }

        .tpv-color-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 0.75rem;
        }

        .tpv-color-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.4rem;
          padding: 0.5rem;
          border: 2px solid transparent;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s;
          background: white;
        }

        .tpv-color-item:hover {
          border-color: #ff6b35;
          transform: translateY(-2px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .tpv-color-item.selected {
          border-color: #ff6b35;
          background: #fff5f0;
          box-shadow: 0 0 0 2px rgba(255, 107, 53, 0.2);
        }

        .tpv-color-swatch {
          width: 100%;
          height: 50px;
          border-radius: 4px;
          border: 1px solid rgba(0, 0, 0, 0.1);
          box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .tpv-color-code {
          font-size: 0.75rem;
          font-weight: 600;
          color: #1a365d;
          font-family: 'Courier New', monospace;
        }

        /* Picker Section */
        .picker-section {
          margin-bottom: 1rem;
          padding: 1rem;
          background: #f9f9f9;
          border-radius: 6px;
        }

        .picker-section h4 {
          margin: 0 0 0.5rem 0;
          color: #1a365d;
          font-size: 1rem;
          font-weight: 600;
        }

        .picker-description {
          margin: 0 0 1rem 0;
          font-size: 0.85rem;
          color: #666;
        }

        .picker-section :global(.chrome-picker) {
          box-shadow: none !important;
          width: 100% !important;
        }

        .reset-button {
          width: 100%;
          padding: 0.75rem;
          margin-top: 1rem;
          background: #e0e0e0;
          color: #333;
          border: none;
          border-radius: 4px;
          font-weight: 600;
          cursor: pointer;
          transition: background 0.2s;
        }

        .reset-button:hover {
          background: #d0d0d0;
        }

        /* Solid Mode Info */
        .solid-mode-info {
          margin-bottom: 1rem;
          padding: 1rem;
          background: #fff5f0;
          border: 2px solid #ff6b35;
          border-radius: 6px;
        }

        .solid-mode-info h4 {
          margin: 0 0 0.5rem 0;
          color: #1a365d;
          font-size: 1rem;
          font-weight: 600;
        }

        .info-description {
          margin: 0;
          font-size: 0.85rem;
          color: #666;
          line-height: 1.5;
        }

        /* Mobile Responsive - Fullscreen Modal */
        @media (max-width: 768px) {
          .color-editor-panel {
            width: 100%;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0;
          }

          .editor-header {
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 10;
          }

          .editor-header h3 {
            font-size: 1.25rem;
          }

          /* Larger close button for touch */
          .close-button {
            width: 44px;
            height: 44px;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .editor-content {
            padding: 1rem;
          }

          /* Color swatches - larger for touch */
          .swatch {
            width: 50px;
            height: 50px;
          }

          .color-info-section {
            padding: 0.75rem;
            margin-bottom: 1.5rem;
          }

          /* TPV color grid - better touch targets */
          .tpv-color-grid {
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
          }

          .tpv-color-item {
            padding: 0.4rem;
            min-height: 44px;
          }

          .tpv-color-swatch {
            height: 36px;
          }

          .tpv-color-code {
            font-size: 0.65rem;
          }

          .tpv-palette-section {
            padding: 0.75rem;
            margin-bottom: 1.5rem;
          }

          .tpv-palette-section h4 {
            font-size: 0.9rem;
          }

          .palette-description {
            font-size: 0.8rem;
          }

          /* Picker section */
          .picker-section {
            padding: 0.75rem;
          }

          .picker-section h4 {
            font-size: 0.9rem;
          }

          .picker-description {
            font-size: 0.8rem;
          }

          /* Larger reset button for touch */
          .reset-button {
            min-height: 44px;
            font-size: 0.9rem;
          }

          .solid-mode-info {
            padding: 0.75rem;
          }

          .solid-mode-info h4 {
            font-size: 0.9rem;
          }

          .info-description {
            font-size: 0.8rem;
          }
        }

        /* Extra small screens */
        @media (max-width: 400px) {
          .tpv-color-grid {
            grid-template-columns: repeat(3, 1fr);
          }

          .tpv-color-swatch {
            height: 44px;
          }

          .swatch {
            width: 44px;
            height: 44px;
          }

          .swatch-pair {
            gap: 0.5rem;
          }

          .arrow {
            font-size: 1.2rem;
          }
        }
      `})]}):null}const Yi=11102230246251565e-32,Mr=134217729,PK=(3+8*Yi)*Yi;function gg(t,e,r,n,i){let o,a,s,l,c=e[0],d=n[0],h=0,f=0;d>c==d>-c?(o=c,c=e[++h]):(o=d,d=n[++f]);let p=0;if(h<t&&f<r)for(d>c==d>-c?(a=c+o,s=o-(a-c),c=e[++h]):(a=d+o,s=o-(a-d),d=n[++f]),o=a,s!==0&&(i[p++]=s);h<t&&f<r;)d>c==d>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h]):(a=o+d,l=a-o,s=o-(a-l)+(d-l),d=n[++f]),o=a,s!==0&&(i[p++]=s);for(;h<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h],o=a,s!==0&&(i[p++]=s);for(;f<r;)a=o+d,l=a-o,s=o-(a-l)+(d-l),d=n[++f],o=a,s!==0&&(i[p++]=s);return(o!==0||p===0)&&(i[p++]=o),p}function OK(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}function xd(t){return new Float64Array(t)}const AK=(3+16*Yi)*Yi,NK=(2+12*Yi)*Yi,FK=(9+64*Yi)*Yi*Yi,Ts=xd(4),R2=xd(8),P2=xd(12),O2=xd(16),Hr=xd(4);function DK(t,e,r,n,i,o,a){let s,l,c,d,h,f,p,g,m,y,v,b,x,w,S,k,C,P;const E=t-i,R=r-i,N=e-o,T=n-o;w=E*T,f=Mr*E,p=f-(f-E),g=E-p,f=Mr*T,m=f-(f-T),y=T-m,S=g*y-(w-p*m-g*m-p*y),k=N*R,f=Mr*N,p=f-(f-N),g=N-p,f=Mr*R,m=f-(f-R),y=R-m,C=g*y-(k-p*m-g*m-p*y),v=S-C,h=S-v,Ts[0]=S-(v+h)+(h-C),b=w+v,h=b-w,x=w-(b-h)+(v-h),v=x-k,h=x-v,Ts[1]=x-(v+h)+(h-k),P=b+v,h=P-b,Ts[2]=b-(P-h)+(v-h),Ts[3]=P;let D=OK(4,Ts),_=NK*a;if(D>=_||-D>=_||(h=t-E,s=t-(E+h)+(h-i),h=r-R,c=r-(R+h)+(h-i),h=e-N,l=e-(N+h)+(h-o),h=n-T,d=n-(T+h)+(h-o),s===0&&l===0&&c===0&&d===0)||(_=FK*a+PK*Math.abs(D),D+=E*d+T*s-(N*c+R*l),D>=_||-D>=_))return D;w=s*T,f=Mr*s,p=f-(f-s),g=s-p,f=Mr*T,m=f-(f-T),y=T-m,S=g*y-(w-p*m-g*m-p*y),k=l*R,f=Mr*l,p=f-(f-l),g=l-p,f=Mr*R,m=f-(f-R),y=R-m,C=g*y-(k-p*m-g*m-p*y),v=S-C,h=S-v,Hr[0]=S-(v+h)+(h-C),b=w+v,h=b-w,x=w-(b-h)+(v-h),v=x-k,h=x-v,Hr[1]=x-(v+h)+(h-k),P=b+v,h=P-b,Hr[2]=b-(P-h)+(v-h),Hr[3]=P;const G=gg(4,Ts,4,Hr,R2);w=E*d,f=Mr*E,p=f-(f-E),g=E-p,f=Mr*d,m=f-(f-d),y=d-m,S=g*y-(w-p*m-g*m-p*y),k=N*c,f=Mr*N,p=f-(f-N),g=N-p,f=Mr*c,m=f-(f-c),y=c-m,C=g*y-(k-p*m-g*m-p*y),v=S-C,h=S-v,Hr[0]=S-(v+h)+(h-C),b=w+v,h=b-w,x=w-(b-h)+(v-h),v=x-k,h=x-v,Hr[1]=x-(v+h)+(h-k),P=b+v,h=P-b,Hr[2]=b-(P-h)+(v-h),Hr[3]=P;const U=gg(G,R2,4,Hr,P2);w=s*d,f=Mr*s,p=f-(f-s),g=s-p,f=Mr*d,m=f-(f-d),y=d-m,S=g*y-(w-p*m-g*m-p*y),k=l*c,f=Mr*l,p=f-(f-l),g=l-p,f=Mr*c,m=f-(f-c),y=c-m,C=g*y-(k-p*m-g*m-p*y),v=S-C,h=S-v,Hr[0]=S-(v+h)+(h-C),b=w+v,h=b-w,x=w-(b-h)+(v-h),v=x-k,h=x-v,Hr[1]=x-(v+h)+(h-k),P=b+v,h=P-b,Hr[2]=b-(P-h)+(v-h),Hr[3]=P;const O=gg(U,P2,4,Hr,O2);return O2[O-1]}function kh(t,e,r,n,i,o){const a=(e-o)*(r-i),s=(t-i)*(n-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=AK*c?l:-DK(t,e,r,n,i,o,c)}const A2=Math.pow(2,-52),_h=new Uint32Array(512);class rp{static from(e,r=BK,n=UK){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const s=e[a];o[2*a]=r(s),o[2*a+1]=n(s)}return new rp(o)}constructor(e){const r=e.length>>1;if(r>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:e,_hullPrev:r,_hullNext:n,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let s=1/0,l=1/0,c=-1/0,d=-1/0;for(let E=0;E<a;E++){const R=e[2*E],N=e[2*E+1];R<s&&(s=R),N<l&&(l=N),R>c&&(c=R),N>d&&(d=N),this._ids[E]=E}const h=(s+c)/2,f=(l+d)/2;let p,g,m;for(let E=0,R=1/0;E<a;E++){const N=mg(h,f,e[2*E],e[2*E+1]);N<R&&(p=E,R=N)}const y=e[2*p],v=e[2*p+1];for(let E=0,R=1/0;E<a;E++){if(E===p)continue;const N=mg(y,v,e[2*E],e[2*E+1]);N<R&&N>0&&(g=E,R=N)}let b=e[2*g],x=e[2*g+1],w=1/0;for(let E=0;E<a;E++){if(E===p||E===g)continue;const R=LK(y,v,b,x,e[2*E],e[2*E+1]);R<w&&(m=E,w=R)}let S=e[2*m],k=e[2*m+1];if(w===1/0){for(let N=0;N<a;N++)this._dists[N]=e[2*N]-e[0]||e[2*N+1]-e[1];pl(this._ids,this._dists,0,a-1);const E=new Uint32Array(a);let R=0;for(let N=0,T=-1/0;N<a;N++){const D=this._ids[N],_=this._dists[D];_>T&&(E[R++]=D,T=_)}this.hull=E.subarray(0,R),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(kh(y,v,b,x,S,k)<0){const E=g,R=b,N=x;g=m,b=S,x=k,m=E,S=R,k=N}const C=zK(y,v,b,x,S,k);this._cx=C.x,this._cy=C.y;for(let E=0;E<a;E++)this._dists[E]=mg(e[2*E],e[2*E+1],C.x,C.y);pl(this._ids,this._dists,0,a-1),this._hullStart=p;let P=3;n[p]=r[m]=g,n[g]=r[p]=m,n[m]=r[g]=p,i[p]=0,i[g]=1,i[m]=2,o.fill(-1),o[this._hashKey(y,v)]=p,o[this._hashKey(b,x)]=g,o[this._hashKey(S,k)]=m,this.trianglesLen=0,this._addTriangle(p,g,m,-1,-1,-1);for(let E=0,R,N;E<this._ids.length;E++){const T=this._ids[E],D=e[2*T],_=e[2*T+1];if(E>0&&Math.abs(D-R)<=A2&&Math.abs(_-N)<=A2||(R=D,N=_,T===p||T===g||T===m))continue;let G=0;for(let q=0,B=this._hashKey(D,_);q<this._hashSize&&(G=o[(B+q)%this._hashSize],!(G!==-1&&G!==n[G]));q++);G=r[G];let U=G,O;for(;O=n[U],kh(D,_,e[2*U],e[2*U+1],e[2*O],e[2*O+1])>=0;)if(U=O,U===G){U=-1;break}if(U===-1)continue;let W=this._addTriangle(U,T,n[U],-1,-1,i[U]);i[T]=this._legalize(W+2),i[U]=W,P++;let A=n[U];for(;O=n[A],kh(D,_,e[2*A],e[2*A+1],e[2*O],e[2*O+1])<0;)W=this._addTriangle(A,T,O,i[T],-1,i[A]),i[T]=this._legalize(W+2),n[A]=A,P--,A=O;if(U===G)for(;O=r[U],kh(D,_,e[2*O],e[2*O+1],e[2*U],e[2*U+1])<0;)W=this._addTriangle(O,T,U,-1,i[U],i[O]),this._legalize(W+2),i[O]=W,n[U]=U,P--,U=O;this._hullStart=r[T]=U,n[U]=r[A]=T,n[T]=A,o[this._hashKey(D,_)]=T,o[this._hashKey(e[2*U],e[2*U+1])]=U}this.hull=new Uint32Array(P);for(let E=0,R=this._hullStart;E<P;E++)this.hull[E]=R,R=n[R];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,r){return Math.floor(IK(e-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:r,_halfedges:n,coords:i}=this;let o=0,a=0;for(;;){const s=n[e],l=e-e%3;if(a=l+(e+2)%3,s===-1){if(o===0)break;e=_h[--o];continue}const c=s-s%3,d=l+(e+1)%3,h=c+(s+2)%3,f=r[a],p=r[e],g=r[d],m=r[h];if(MK(i[2*f],i[2*f+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1],i[2*m],i[2*m+1])){r[e]=m,r[s]=f;const v=n[h];if(v===-1){let x=this._hullStart;do{if(this._hullTri[x]===h){this._hullTri[x]=e;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(e,v),this._link(s,n[a]),this._link(a,h);const b=c+(s+1)%3;o<_h.length&&(_h[o++]=b)}else{if(o===0)break;e=_h[--o]}}return a}_link(e,r){this._halfedges[e]=r,r!==-1&&(this._halfedges[r]=e)}_addTriangle(e,r,n,i,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=r,this._triangles[s+2]=n,this._link(s,i),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function IK(t,e){const r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}function mg(t,e,r,n){const i=t-r,o=e-n;return i*i+o*o}function MK(t,e,r,n,i,o,a,s){const l=t-a,c=e-s,d=r-a,h=n-s,f=i-a,p=o-s,g=l*l+c*c,m=d*d+h*h,y=f*f+p*p;return l*(h*y-m*p)-c*(d*y-m*f)+g*(d*p-h*f)<0}function LK(t,e,r,n,i,o){const a=r-t,s=n-e,l=i-t,c=o-e,d=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l),p=(c*d-s*h)*f,g=(a*h-l*d)*f;return p*p+g*g}function zK(t,e,r,n,i,o){const a=r-t,s=n-e,l=i-t,c=o-e,d=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l),p=t+(c*d-s*h)*f,g=e+(a*h-l*d)*f;return{x:p,y:g}}function pl(t,e,r,n){if(n-r<=20)for(let i=r+1;i<=n;i++){const o=t[i],a=e[o];let s=i-1;for(;s>=r&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const i=r+n>>1;let o=r+1,a=n;Oc(t,i,o),e[t[r]]>e[t[n]]&&Oc(t,r,n),e[t[o]]>e[t[n]]&&Oc(t,o,n),e[t[r]]>e[t[o]]&&Oc(t,r,o);const s=t[o],l=e[s];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;Oc(t,o,a)}t[r+1]=t[a],t[a]=s,n-o+1>=a-r?(pl(t,e,o,n),pl(t,e,r,a-1)):(pl(t,e,r,a-1),pl(t,e,o,n))}}function Oc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function BK(t){return t[0]}function UK(t){return t[1]}const N2=1e-6;class Aa{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,r){this._+=`L${this._x1=+e},${this._y1=+r}`}arc(e,r,n){e=+e,r=+r,n=+n;const i=e+n,o=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>N2||Math.abs(this._y1-o)>N2)&&(this._+="L"+i+","+o),n&&(this._+=`A${n},${n},0,1,1,${e-n},${r}A${n},${n},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,r,n,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class av{constructor(){this._=[]}moveTo(e,r){this._.push([e,r])}closePath(){this._.push(this._[0].slice())}lineTo(e,r){this._.push([e,r])}value(){return this._.length?this._:null}}class HK{constructor(e,[r,n,i,o]=[0,0,960,500]){if(!((i=+i)>=(r=+r))||!((o=+o)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=r,this.ymax=o,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:r,triangles:n},vectors:i}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let m=0,y=0,v=n.length,b,x;m<v;m+=3,y+=2){const w=n[m]*2,S=n[m+1]*2,k=n[m+2]*2,C=e[w],P=e[w+1],E=e[S],R=e[S+1],N=e[k],T=e[k+1],D=E-C,_=R-P,G=N-C,U=T-P,O=(D*U-_*G)*2;if(Math.abs(O)<1e-9){if(o===void 0){o=a=0;for(const A of r)o+=e[A*2],a+=e[A*2+1];o/=r.length,a/=r.length}const W=1e9*Math.sign((o-C)*U-(a-P)*G);b=(C+N)/2-W*U,x=(P+T)/2+W*G}else{const W=1/O,A=D*D+_*_,q=G*G+U*U;b=C+(U*A-_*q)*W,x=P+(D*q-G*A)*W}s[y]=b,s[y+1]=x}let l=r[r.length-1],c,d=l*4,h,f=e[2*l],p,g=e[2*l+1];i.fill(0);for(let m=0;m<r.length;++m)l=r[m],c=d,h=f,p=g,d=l*4,f=e[2*l],g=e[2*l+1],i[c+2]=i[d]=p-g,i[c+3]=i[d+1]=f-h}render(e){const r=e==null?e=new Aa:void 0,{delaunay:{halfedges:n,inedges:i,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let d=0,h=n.length;d<h;++d){const f=n[d];if(f<d)continue;const p=Math.floor(d/3)*2,g=Math.floor(f/3)*2,m=a[p],y=a[p+1],v=a[g],b=a[g+1];this._renderSegment(m,y,v,b,e)}let l,c=o[o.length-1];for(let d=0;d<o.length;++d){l=c,c=o[d];const h=Math.floor(i[c]/3)*2,f=a[h],p=a[h+1],g=l*4,m=this._project(f,p,s[g+2],s[g+3]);m&&this._renderSegment(f,p,m[0],m[1],e)}return r&&r.value()}renderBounds(e){const r=e==null?e=new Aa:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(e,r){const n=r==null?r=new Aa:void 0,i=this._clip(e);if(i===null||!i.length)return;r.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&r.lineTo(i[a],i[a+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let r=0,n=e.length/2;r<n;++r){const i=this.cellPolygon(r);i&&(i.index=r,yield i)}}cellPolygon(e){const r=new av;return this.renderCell(e,r),r.value()}_renderSegment(e,r,n,i,o){let a;const s=this._regioncode(e,r),l=this._regioncode(n,i);s===0&&l===0?(o.moveTo(e,r),o.lineTo(n,i)):(a=this._clipSegment(e,r,n,i,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(e,r,n)===e}*neighbors(e){const r=this._clip(e);if(r)for(const n of this.delaunay.neighbors(e)){const i=this._clip(n);if(i){e:for(let o=0,a=r.length;o<a;o+=2)for(let s=0,l=i.length;s<l;s+=2)if(r[o]===i[s]&&r[o+1]===i[s+1]&&r[(o+2)%a]===i[(s+l-2)%l]&&r[(o+3)%a]===i[(s+l-1)%l]){yield n;break e}}}}_cell(e){const{circumcenters:r,delaunay:{inedges:n,halfedges:i,triangles:o}}=this,a=n[e];if(a===-1)return null;const s=[];let l=a;do{const c=Math.floor(l/3);if(s.push(r[c*2],r[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==a&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(e);if(r===null)return null;const{vectors:n}=this,i=e*4;return this._simplify(n[i]||n[i+1]?this._clipInfinite(e,r,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(e,r))}_clipFinite(e,r){const n=r.length;let i=null,o,a,s=r[n-2],l=r[n-1],c,d=this._regioncode(s,l),h,f=0;for(let p=0;p<n;p+=2)if(o=s,a=l,s=r[p],l=r[p+1],c=d,d=this._regioncode(s,l),c===0&&d===0)h=f,f=0,i?i.push(s,l):i=[s,l];else{let g,m,y,v,b;if(c===0){if((g=this._clipSegment(o,a,s,l,c,d))===null)continue;[m,y,v,b]=g}else{if((g=this._clipSegment(s,l,o,a,d,c))===null)continue;[v,b,m,y]=g,h=f,f=this._edgecode(m,y),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(m,y):i=[m,y]}h=f,f=this._edgecode(v,b),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(v,b):i=[v,b]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,r,n,i,o,a){const s=o<a;for(s&&([e,r,n,i,o,a]=[n,i,e,r,a,o]);;){if(o===0&&a===0)return s?[n,i,e,r]:[e,r,n,i];if(o&a)return null;let l,c,d=o||a;d&8?(l=e+(n-e)*(this.ymax-r)/(i-r),c=this.ymax):d&4?(l=e+(n-e)*(this.ymin-r)/(i-r),c=this.ymin):d&2?(c=r+(i-r)*(this.xmax-e)/(n-e),l=this.xmax):(c=r+(i-r)*(this.xmin-e)/(n-e),l=this.xmin),o?(e=l,r=c,o=this._regioncode(e,r)):(n=l,i=c,a=this._regioncode(n,i))}}_clipInfinite(e,r,n,i,o,a){let s=Array.from(r),l;if((l=this._project(s[0],s[1],n,i))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let c=0,d=s.length,h,f=this._edgecode(s[d-2],s[d-1]);c<d;c+=2)h=f,f=this._edgecode(s[c],s[c+1]),h&&f&&(c=this._edge(e,h,f,s,c),d=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,r,n,i,o){for(;r!==n;){let a,s;switch(r){case 5:r=4;continue;case 4:r=6,a=this.xmax,s=this.ymin;break;case 6:r=2;continue;case 2:r=10,a=this.xmax,s=this.ymax;break;case 10:r=8;continue;case 8:r=9,a=this.xmin,s=this.ymax;break;case 9:r=1;continue;case 1:r=5,a=this.xmin,s=this.ymin;break}(i[o]!==a||i[o+1]!==s)&&this.contains(e,a,s)&&(i.splice(o,0,a,s),o+=2)}return o}_project(e,r,n,i){let o=1/0,a,s,l;if(i<0){if(r<=this.ymin)return null;(a=(this.ymin-r)/i)<o&&(l=this.ymin,s=e+(o=a)*n)}else if(i>0){if(r>=this.ymax)return null;(a=(this.ymax-r)/i)<o&&(l=this.ymax,s=e+(o=a)*n)}if(n>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/n)<o&&(s=this.xmax,l=r+(o=a)*i)}else if(n<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/n)<o&&(s=this.xmin,l=r+(o=a)*i)}return[s,l]}_edgecode(e,r){return(e===this.xmin?1:e===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(e,r){return(e<this.xmin?1:e>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let r=0;r<e.length;r+=2){const n=(r+2)%e.length,i=(r+4)%e.length;(e[r]===e[n]&&e[n]===e[i]||e[r+1]===e[n+1]&&e[n+1]===e[i+1])&&(e.splice(n,2),r-=2)}e.length||(e=null)}return e}}const WK=2*Math.PI,Rs=Math.pow;function VK(t){return t[0]}function GK(t){return t[1]}function qK(t){const{triangles:e,coords:r}=t;for(let n=0;n<e.length;n+=3){const i=2*e[n],o=2*e[n+1],a=2*e[n+2];if((r[a]-r[i])*(r[o+1]-r[i+1])-(r[o]-r[i])*(r[a+1]-r[i+1])>1e-10)return!1}return!0}function KK(t,e,r){return[t+Math.sin(t+e)*r,e+Math.cos(t-e)*r]}class Sb{static from(e,r=VK,n=GK,i){return new Sb("length"in e?XK(e,r,n,i):Float64Array.from(ZK(e,r,n,i)))}constructor(e){this._delaunator=new rp(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,r=this.points;if(e.hull&&e.hull.length>2&&qK(e)){this.collinear=Int32Array.from({length:r.length/2},(f,p)=>p).sort((f,p)=>r[2*f]-r[2*p]||r[2*f+1]-r[2*p+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],d=[r[2*l],r[2*l+1],r[2*c],r[2*c+1]],h=1e-8*Math.hypot(d[3]-d[1],d[2]-d[0]);for(let f=0,p=r.length/2;f<p;++f){const g=KK(r[2*f],r[2*f+1],h);r[2*f]=g[0],r[2*f+1]=g[1]}this._delaunator=new rp(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=n.length;l<c;++l){const d=o[l%3===2?l-2:l+1];(n[l]===-1||a[d]===-1)&&(a[d]=l)}for(let l=0,c=i.length;l<c;++l)s[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new HK(this,e)}*neighbors(e){const{inedges:r,hull:n,_hullIndex:i,halfedges:o,triangles:a,collinear:s}=this;if(s){const h=s.indexOf(e);h>0&&(yield s[h-1]),h<s.length-1&&(yield s[h+1]);return}const l=r[e];if(l===-1)return;let c=l,d=-1;do{if(yield d=a[c],c=c%3===2?c-2:c+1,a[c]!==e)return;if(c=o[c],c===-1){const h=n[(i[e]+1)%n.length];h!==d&&(yield h);return}}while(c!==l)}find(e,r,n=0){if(e=+e,e!==e||(r=+r,r!==r))return-1;const i=n;let o;for(;(o=this._step(n,e,r))>=0&&o!==n&&o!==i;)n=o;return o}_step(e,r,n){const{inedges:i,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:c}=this;if(i[e]===-1||!c.length)return(e+1)%(c.length>>1);let d=e,h=Rs(r-c[e*2],2)+Rs(n-c[e*2+1],2);const f=i[e];let p=f;do{let g=l[p];const m=Rs(r-c[g*2],2)+Rs(n-c[g*2+1],2);if(m<h&&(h=m,d=g),p=p%3===2?p-2:p+1,l[p]!==e)break;if(p=s[p],p===-1){if(p=o[(a[e]+1)%o.length],p!==g&&Rs(r-c[p*2],2)+Rs(n-c[p*2+1],2)<h)return p;break}}while(p!==f);return d}render(e){const r=e==null?e=new Aa:void 0,{points:n,halfedges:i,triangles:o}=this;for(let a=0,s=i.length;a<s;++a){const l=i[a];if(l<a)continue;const c=o[a]*2,d=o[l]*2;e.moveTo(n[c],n[c+1]),e.lineTo(n[d],n[d+1])}return this.renderHull(e),r&&r.value()}renderPoints(e,r){r===void 0&&(!e||typeof e.moveTo!="function")&&(r=e,e=null),r=r==null?2:+r;const n=e==null?e=new Aa:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const s=i[o],l=i[o+1];e.moveTo(s+r,l),e.arc(s,l,r,0,WK)}return n&&n.value()}renderHull(e){const r=e==null?e=new Aa:void 0,{hull:n,points:i}=this,o=n[0]*2,a=n.length;e.moveTo(i[o],i[o+1]);for(let s=1;s<a;++s){const l=2*n[s];e.lineTo(i[l],i[l+1])}return e.closePath(),r&&r.value()}hullPolygon(){const e=new av;return this.renderHull(e),e.value()}renderTriangle(e,r){const n=r==null?r=new Aa:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,l=o[e+2]*2;return r.moveTo(i[a],i[a+1]),r.lineTo(i[s],i[s+1]),r.lineTo(i[l],i[l+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let r=0,n=e.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(e){const r=new av;return this.renderTriangle(e,r),r.value()}}function XK(t,e,r,n){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const s=t[a];o[a*2]=e.call(n,s,a,t),o[a*2+1]=r.call(n,s,a,t)}return o}function*ZK(t,e,r,n){let i=0;for(const o of t)yield e.call(n,o,i,t),yield r.call(n,o,i,t),++i}const Ma=Ri,YK=new Map(Ma.map((t,e)=>[t.code,e]));function n5(t){return function(){let e=t+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}}function JK(t,e,r,n=30,i=Math.random){const o=r/Math.sqrt(2),a=Math.ceil(t/o),s=Math.ceil(e/o),l=new Array(a*s).fill(-1),c=[],d=[];function h(p,g){const m=[p,g];c.push(m);const y=Math.floor(p/o),v=Math.floor(g/o);return l[v*a+y]=c.length-1,d.push(c.length-1),m}function f(p,g){const m=Math.floor(p/o),y=Math.floor(g/o);for(let v=Math.max(0,m-2);v<=Math.min(a-1,m+2);v++)for(let b=Math.max(0,y-2);b<=Math.min(s-1,y+2);b++){const x=l[b*a+v];if(x!==-1){const w=p-c[x][0],S=g-c[x][1];if(w*w+S*S<r*r)return!0}}return!1}for(h(t*i(),e*i());d.length>0;){const p=Math.floor(i()*d.length),g=d[p],m=c[g];let y=!1;for(let v=0;v<n;v++){const b=2*Math.PI*i(),x=r+r*i(),w=m[0]+x*Math.cos(b),S=m[1]+x*Math.sin(b);if(w>=0&&w<t&&S>=0&&S<e&&!f(w,S)){h(w,S),y=!0;break}}y||d.splice(p,1)}return c}const vg={Xn:.95047,Yn:1,Zn:1.08883},QK=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]];function yg(t){return t<=.0031308?t*12.92:1.055*Math.pow(t,1/2.4)-.055}function $K(t){return{R:Math.round(yg(t.R)*255),G:Math.round(yg(t.G)*255),B:Math.round(yg(t.B)*255)}}function eX(t){const[e,r,n]=QK;return{R:e[0]*t.X+e[1]*t.Y+e[2]*t.Z,G:r[0]*t.X+r[1]*t.Y+r[2]*t.Z,B:n[0]*t.X+n[1]*t.Y+n[2]*t.Z}}function bg(t){const e=.20689655172413793;return t>e?Math.pow(t,3):3*e*e*(t-4/29)}function tX(t){const e=(t.L+16)/116,r=t.a/500+e,n=e-t.b/200;return{X:vg.Xn*bg(r),Y:vg.Yn*bg(e),Z:vg.Zn*bg(n)}}function rX(t){const e=tX(t),r=eX(e);return $K(r)}function nX(t){let e=0;if(t.forEach(l=>e+=l),e===0)return"#FFFFFF";let r=0,n=0,i=0;t.forEach((l,c)=>{const d=Ma[c],h=l/e;r+=d.L*h,n+=d.a*h,i+=d.b*h});const a=rX({L:r,a:n,b:i}),s=l=>Math.round(Math.max(0,Math.min(255,l))).toString(16).padStart(2,"0");return`#${s(a.R)}${s(a.G)}${s(a.B)}`}function iX(t){const e=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16);return{r:e,g:r,b:n}}function oX(t){const{r:e,g:r,b:n}=iX(t);return(e*299+r*587+n*114)/1e3>128?"#000000":"#FFFFFF"}function aX(t){let e=0;const r={},n=[];return t.forEach((i,o)=>{const a=Ma[o];e+=i,r[a.code]=i,n.push({code:a.code,name:a.name,weight:0,parts:i})}),n.forEach(i=>{i.weight=i.parts/e}),{parts:r,components:n,total:e}}function F2(t){const e=new Map;return!t||!t.parts||Object.entries(t.parts).forEach(([r,n])=>{const i=YK.get(r);i!==void 0&&e.set(i,n)}),e}function sX(t,e,r,n=12345){const i=n5(n),o=t*e,a=Math.sqrt(o/r)*.8;return JK(t,e,a,30,i)}function lX({parts:t,width:e=400,height:r=400,cellCount:n=1e4,seed:i=12345}){const o=H.useRef(null),[a,s]=H.useState(null),[l,c]=H.useState(!0);return H.useEffect(()=>{(async()=>{c(!0);const h=sX(e,r,n,i),p=Sb.from(h).voronoi([0,0,e,r]);s({points:h,voronoi:p,cellCount:h.length}),c(!1)})()},[i,e,r,n]),H.useEffect(()=>{if(!a||!o.current)return;const d=o.current,h=d.getContext("2d");d.width=e,d.height=r,h.fillStyle="#FAFAFA",h.fillRect(0,0,e,r);let f=0;t.forEach(g=>f+=g);const p=cX(a.cellCount,t,f,i);for(let g=0;g<a.cellCount;g++){const m=p[g],y=m===-1?"#FAFAFA":Ma[m].hex,v=a.voronoi.cellPolygon(g);if(!(!v||v.length<3)){h.beginPath(),h.moveTo(v[0][0],v[0][1]);for(let b=1;b<v.length;b++)h.lineTo(v[b][0],v[b][1]);h.closePath(),h.fillStyle=y,h.fill()}}h.strokeStyle="rgba(0, 0, 0, 0.05)",h.lineWidth=.5;for(let g=0;g<a.cellCount;g++){const m=a.voronoi.cellPolygon(g);if(!(!m||m.length<3)){h.beginPath(),h.moveTo(m[0][0],m[0][1]);for(let y=1;y<m.length;y++)h.lineTo(m[y][0],m[y][1]);h.closePath(),h.stroke()}}},[a,t,i,e,r]),u.jsxs("div",{style:{position:"relative",width:e,height:r},children:[u.jsx("canvas",{ref:o,style:{width:"100%",height:"100%",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),l&&u.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.9)",borderRadius:"8px"},children:u.jsx("div",{style:{textAlign:"center",color:"#666"},children:"Generating granules..."})})]})}function cX(t,e,r,n){const i=new Array(t).fill(-1);if(r===0)return i;const o=n+r,a=n5(o),s=Array.from({length:t},(c,d)=>d);for(let c=s.length-1;c>0;c--){const d=Math.floor(a()*(c+1));[s[c],s[d]]=[s[d],s[c]]}let l=0;return e.forEach((c,d)=>{const h=Math.round(c/r*t);for(let f=0;f<h&&l<t;f++)i[s[l]]=d,l++}),i}function uX({initialRecipe:t=null,onBlendChange:e=null,originalColor:r=null}){const[n,i]=H.useState(new Map);H.useEffect(()=>{if(t){const d=F2(t);i(d)}},[t]);const o=Array.from(n.values()).reduce((d,h)=>d+h,0),a=nX(n);H.useEffect(()=>{if(e){const d=n.size>0?aX(n):null;e({blendHex:a,parts:n,recipe:d})}},[n,a]);const s=H.useCallback(d=>{i(h=>{const f=h.get(d)||0,p=Array.from(h.values()).reduce((m,y)=>m+y,0);if(f>=4||p>=12)return h;const g=new Map(h);return g.set(d,f+1),g})},[]),l=H.useCallback(d=>{const h=n.get(d)||0;h>0&&i(f=>{const p=new Map(f);return h===1?p.delete(d):p.set(d,h-1),p})},[n]),c=H.useCallback(()=>{i(new Map)},[]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mini-mixer-widget",children:[r&&u.jsxs("div",{className:"mixer-header",children:[u.jsx("div",{className:"mixer-title",children:"Customise Blend Recipe"}),u.jsxs("div",{className:"original-color-ref",children:[u.jsx("span",{className:"label",children:"Original:"}),u.jsx("div",{className:"color-swatch",style:{backgroundColor:r,cursor:"pointer"},title:`${r} - Click to reset to original recipe`,onClick:()=>{t&&i(F2(t))}})]})]}),u.jsx("div",{className:"mixer-canvas-section",children:u.jsx(lX,{parts:n,width:700,height:350,cellCount:5e3,seed:12345})}),u.jsx("div",{className:"mix-proportion-bar",children:o===0?u.jsx("div",{className:"proportion-bar-empty"}):Array.from(n.entries()).map(([d,h])=>{const f=h/o*100;return u.jsx("div",{className:"proportion-segment",style:{backgroundColor:Ma[d].hex,flexBasis:`${f}%`},title:`${Ma[d].name}: ${Math.round(f)}%`},d)})}),u.jsxs("div",{className:"blend-preview",children:[u.jsx("div",{className:"blend-preview-label",children:"Blended Result:"}),u.jsxs("div",{className:"blend-preview-color",children:[u.jsx("div",{className:"blend-swatch",style:{backgroundColor:a,color:oX(a)},children:a}),u.jsxs("div",{className:"blend-parts-count",children:[o," ",o===1?"part":"parts"]})]})]}),u.jsxs("div",{className:"mixer-palette-section",children:[u.jsxs("div",{className:"mixer-palette-header",children:[u.jsx("h3",{children:"TPV Color Palette"}),o>0&&u.jsx("button",{className:"clear-btn",onClick:c,children:"Clear All"})]}),u.jsx("div",{className:"mixer-palette-grid",children:Ma.map((d,h)=>{const f=n.get(h)||0;return u.jsxs("div",{className:"mixer-color-item",children:[u.jsx("button",{className:`mixer-color-swatch ${f>0?"has-parts":""}`,style:{backgroundColor:d.hex},onClick:()=>s(h),title:`${d.name} (${d.code})`}),u.jsxs("div",{className:"mixer-color-info",children:[u.jsx("div",{className:"mixer-color-name",children:d.name}),u.jsx("div",{className:"mixer-color-code",children:d.code})]}),u.jsxs("div",{className:"mixer-parts-controls",children:[u.jsx("button",{className:"mixer-parts-btn",onClick:()=>l(h),disabled:f===0,children:""}),u.jsx("div",{className:"mixer-parts-count",children:f}),u.jsx("button",{className:"mixer-parts-btn",onClick:()=>s(h),disabled:f>=4||o>=12,title:f>=4?"Max 4 parts per color":o>=12?"Max 12 total parts":"",children:"+"})]})]},h)})})]}),o===0?u.jsx("div",{className:"mixer-instructions",children:"Click colors above to add parts to your blend. The preview updates in real-time."}):o>=12?u.jsx("div",{className:"mixer-instructions",style:{background:"#fef3c7",borderColor:"#fbbf24"},children:"Maximum of 12 parts reached. Remove parts to adjust your blend."}):null]}),u.jsx("style",{children:`
        .mini-mixer-widget {
          background: white;
          border-radius: 12px;
          padding: 20px;
          margin-top: 20px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .mixer-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          padding-bottom: 16px;
          border-bottom: 2px solid #e5e7eb;
        }

        .mixer-title {
          font-size: 1.25rem;
          font-weight: 600;
          color: #111827;
        }

        .original-color-ref {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.9rem;
          color: #6b7280;
        }

        .original-color-ref .color-swatch {
          width: 32px;
          height: 32px;
          border-radius: 6px;
          border: 2px solid #d1d5db;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
          cursor: pointer;
          transition: all 0.2s;
        }

        .original-color-ref .color-swatch:hover {
          transform: scale(1.1);
          border-color: #3b82f6;
          box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3);
        }

        .mixer-canvas-section {
          margin-bottom: 20px;
          display: flex;
          justify-content: center;
        }

        .mix-proportion-bar {
          height: 24px;
          border-radius: 12px;
          overflow: hidden;
          display: flex;
          box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
          margin: 16px 0;
          background: #e5e7eb;
        }

        .proportion-segment {
          transition: all 0.2s ease;
        }

        .proportion-segment:hover {
          filter: brightness(1.1);
          cursor: pointer;
        }

        .proportion-bar-empty {
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, #f3f4f6 0%, #e5e7eb 50%, #f3f4f6 100%);
        }

        .blend-preview {
          margin-bottom: 24px;
          padding: 16px;
          background: #f9fafb;
          border-radius: 10px;
          border: 1px solid #e5e7eb;
        }

        .blend-preview-label {
          font-weight: 600;
          color: #374151;
          margin-bottom: 12px;
          font-size: 0.95rem;
        }

        .blend-preview-color {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .blend-swatch {
          flex: 1;
          padding: 16px;
          border-radius: 8px;
          text-align: center;
          font-weight: 600;
          font-family: 'Courier New', monospace;
          font-size: 1.1rem;
          border: 2px solid #d1d5db;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .blend-parts-count {
          font-size: 0.9rem;
          color: #6b7280;
          font-weight: 500;
          white-space: nowrap;
        }

        .mixer-palette-section {
          margin-bottom: 16px;
        }

        .mixer-palette-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }

        .mixer-palette-header h3 {
          margin: 0;
          font-size: 1.1rem;
          font-weight: 600;
          color: #111827;
        }

        .clear-btn {
          padding: 6px 12px;
          background: #ef4444;
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 0.85rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
        }

        .clear-btn:hover {
          background: #dc2626;
          box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3);
        }

        .mixer-palette-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
          gap: 12px;
          max-height: 400px;
          overflow-y: auto;
          padding: 4px;
        }

        .mixer-color-item {
          display: flex;
          flex-direction: column;
          gap: 8px;
          padding: 8px;
          background: #f9fafb;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
          transition: all 0.2s;
        }

        .mixer-color-item:hover {
          border-color: #3b82f6;
          box-shadow: 0 2px 6px rgba(59, 130, 246, 0.2);
        }

        .mixer-color-swatch {
          width: 100%;
          height: 48px;
          border-radius: 6px;
          border: 2px solid #d1d5db;
          cursor: pointer;
          transition: all 0.2s;
        }

        .mixer-color-swatch:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .mixer-color-swatch.has-parts {
          border-color: #3b82f6;
          border-width: 3px;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .mixer-color-info {
          text-align: center;
        }

        .mixer-color-name {
          font-size: 0.85rem;
          font-weight: 500;
          color: #374151;
          line-height: 1.2;
        }

        .mixer-color-code {
          font-size: 0.75rem;
          color: #9ca3af;
          font-family: 'Courier New', monospace;
        }

        .mixer-parts-controls {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .mixer-parts-btn {
          width: 28px;
          height: 28px;
          border-radius: 6px;
          border: 1px solid #d1d5db;
          background: white;
          color: #374151;
          font-size: 1.2rem;
          line-height: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.2s;
        }

        .mixer-parts-btn:hover:not(:disabled) {
          background: #f3f4f6;
          border-color: #3b82f6;
          color: #3b82f6;
        }

        .mixer-parts-btn:active:not(:disabled) {
          transform: scale(0.95);
        }

        .mixer-parts-btn:disabled {
          opacity: 0.3;
          cursor: not-allowed;
        }

        .mixer-parts-count {
          min-width: 24px;
          text-align: center;
          font-weight: 600;
          color: #111827;
          font-size: 0.9rem;
        }

        .mixer-instructions {
          text-align: center;
          color: #6b7280;
          font-size: 0.9rem;
          padding: 16px;
          background: #fffbeb;
          border-radius: 8px;
          border: 1px solid #fde68a;
        }

        @media (max-width: 768px) {
          .mini-mixer-widget {
            padding: 16px;
          }

          .mixer-canvas-section canvas {
            max-width: 100%;
            height: auto !important;
          }

          .mixer-palette-grid {
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 8px;
          }

          .blend-preview-color {
            flex-direction: column;
            gap: 12px;
          }

          .blend-swatch {
            width: 100%;
          }
        }
      `})]})}async function i5(){var r,n;const t=await br.auth.getSession(),e=(n=(r=t==null?void 0:t.data)==null?void 0:r.session)==null?void 0:n.access_token;if(!e)throw new Error("Not authenticated");return{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}async function o5(t){const e=await i5(),r=await fetch("/api/projects/create",{method:"POST",headers:e,body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to create project")}return r.json()}async function kb(){const t=await i5(),e=await fetch("/api/projects/list",{method:"GET",headers:t});if(!e.ok){const r=await e.json();throw new Error(r.error||"Failed to list projects")}return e.json()}function dX(t){const{inputMode:e,prompt:r,selectedFile:n,lengthMM:i,widthMM:o,result:a,viewMode:s,blendRecipes:l,solidRecipes:c,colorMapping:d,solidColorMapping:h,solidEditedColors:f,blendEditedColors:p,blendSvgUrl:g,solidSvgUrl:m,arMapping:y,jobId:v,inSituData:b}=t;console.log("[SERIALIZE] Serializing design with result:",a),console.log("[SERIALIZE] result.svg_url:",a==null?void 0:a.svg_url),console.log("[SERIALIZE] result.png_url:",a==null?void 0:a.png_url),console.log("[SERIALIZE] result.thumbnail_url:",a==null?void 0:a.thumbnail_url);const x=w=>w?w instanceof Map?Object.fromEntries(w):w:null;return{input_mode:e,prompt:r||null,uploaded_file_url:(n==null?void 0:n.url)||null,dimensions:{widthMM:o,lengthMM:i},original_svg_url:(a==null?void 0:a.svg_url)||null,original_png_url:(a==null?void 0:a.png_url)||null,thumbnail_url:(a==null?void 0:a.thumb_url)||null,blend_recipes:l||null,solid_recipes:c||null,color_mapping:x(d),solid_color_mapping:x(h),solid_color_edits:x(f),blend_color_edits:x(p),final_blend_svg_url:g||null,final_solid_svg_url:m||null,preferred_view_mode:s||"solid",aspect_ratio_mapping:y||null,job_id:v||null,in_situ:b?{room_photo_url:b.room_photo_url||null,mask_url:b.mask_url||null,floor_dimensions_m:b.floor_dimensions_m||null,preview_url:b.preview_url||null,blend_opacity:b.blend_opacity||20,perspective_corners:b.perspective_corners||null}:null}}function hX(t){var r,n;const e=i=>i?i instanceof Map?i:new Map(Object.entries(i)):new Map;return{inputMode:t.input_mode,prompt:t.prompt||"",selectedFile:t.uploaded_file_url?{url:t.uploaded_file_url,name:t.uploaded_file_url.split("/").pop()}:null,lengthMM:((r=t.dimensions)==null?void 0:r.lengthMM)||0,widthMM:((n=t.dimensions)==null?void 0:n.widthMM)||0,result:{svg_url:t.original_svg_url,png_url:t.original_png_url,thumbnail_url:t.thumbnail_url},blendRecipes:t.blend_recipes||null,solidRecipes:t.solid_recipes||null,colorMapping:e(t.color_mapping),solidColorMapping:e(t.solid_color_mapping),solidEditedColors:e(t.solid_color_edits),blendEditedColors:e(t.blend_color_edits),blendSvgUrl:null,solidSvgUrl:null,viewMode:t.preferred_view_mode||"solid",arMapping:t.aspect_ratio_mapping,jobId:t.job_id,inSituData:t.in_situ||null,generating:!1,generatingBlends:!1,showFinalRecipes:!!t.blend_recipes,showSolidSummary:!!t.solid_recipes,colorEditorOpen:!1,selectedColor:null}}function fX(t){var r;const e=[];return t.inputMode||e.push("Input mode is required"),(!t.widthMM||!t.lengthMM)&&e.push("Surface dimensions are required"),(r=t.result)!=null&&r.svg_url||e.push("No design to save - generate a design first"),{valid:e.length===0,errors:e}}function pX({currentState:t,existingDesignId:e=null,initialName:r="",onClose:n,onSaved:i}){const[o,a]=H.useState(r),[s,l]=H.useState(""),[c,d]=H.useState(""),[h,f]=H.useState(""),[p,g]=H.useState(!1),[m,y]=H.useState([]),[v,b]=H.useState(!1),[x,w]=H.useState(""),[S,k]=H.useState("#1a365d"),[C,P]=H.useState(!1),[E,R]=H.useState(!1),[N,T]=H.useState(!1),[D,_]=H.useState(null);H.useEffect(()=>{G()},[]);const G=async()=>{try{const{projects:A}=await kb();y(A)}catch(A){console.error("Failed to load projects:",A),_("Failed to load projects")}},U=async()=>{if(!x.trim()){_("Project name is required");return}T(!0),_(null);try{const{project:A}=await o5({name:x.trim(),color:S});y([A,...m]),d(A.id),b(!1),w(""),k("#1a365d")}catch(A){console.error("Failed to create project:",A),_(A.message)}finally{T(!1)}},O=async(A=!1)=>{if(!o.trim()){_("Design name is required");return}const q=fX(t);if(!q.valid){_(q.errors.join(", "));return}A?R(!0):P(!0),_(null);try{const B=dX(t);console.log("[SAVE-MODAL] Serialized design data:",B),console.log("[SAVE-MODAL] SVG URL from serialized data:",B.original_svg_url);const V={name:o.trim(),description:s.trim()||null,project_id:c||null,tags:h.split(",").map(ae=>ae.trim()).filter(ae=>ae),is_public:p,design_data:B};console.log("[SAVE-MODAL] Full save payload:",V),e&&!A&&(V.id=e);const he=await Ij(V);i&&i(he,o.trim()),n()}catch(B){console.error("Failed to save design:",B),_(B.message)}finally{P(!1),R(!1)}},W=["#1a365d","#ff6b35","#4a90e2","#50c878","#9b59b6","#e74c3c"];return u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"modal-content save-design-modal",onClick:A=>A.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:e?"Update Design":"Save Design"}),u.jsx("button",{onClick:n,className:"close-button",children:""})]}),u.jsxs("div",{className:"modal-body",children:[D&&u.jsx("div",{className:"error-message",children:D}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-name",children:"Design Name *"}),u.jsx("input",{id:"design-name",type:"text",value:o,onChange:A=>a(A.target.value),placeholder:"e.g., Playground Design A",autoFocus:!0,disabled:C||E})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-description",children:"Description"}),u.jsx("textarea",{id:"design-description",value:s,onChange:A=>l(A.target.value),placeholder:"Optional notes about this design...",rows:3,disabled:C||E})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-project",children:"Project"}),v?u.jsxs("div",{className:"new-project-form",children:[u.jsxs("div",{className:"input-row",children:[u.jsx("input",{type:"text",value:x,onChange:A=>w(A.target.value),placeholder:"Project name...",disabled:N}),u.jsx("div",{className:"color-picker-inline",children:W.map(A=>u.jsx("button",{type:"button",className:`color-swatch ${S===A?"active":""}`,style:{backgroundColor:A},onClick:()=>k(A),disabled:N},A))})]}),u.jsxs("div",{className:"button-row",children:[u.jsx("button",{type:"button",onClick:U,className:"btn-primary btn-small",disabled:N,children:N?"Creating...":"Create"}),u.jsx("button",{type:"button",onClick:()=>b(!1),className:"btn-secondary btn-small",disabled:N,children:"Cancel"})]})]}):u.jsxs("div",{className:"project-selector",children:[u.jsxs("select",{id:"design-project",value:c,onChange:A=>d(A.target.value),disabled:C||E,children:[u.jsx("option",{value:"",children:"No Project"}),m.map(A=>u.jsxs("option",{value:A.id,children:[A.name," (",A.design_count," designs)"]},A.id))]}),u.jsx("button",{type:"button",onClick:()=>b(!0),className:"btn-secondary btn-small",disabled:C||E,children:"+ New Project"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-tags",children:"Tags"}),u.jsx("input",{id:"design-tags",type:"text",value:h,onChange:A=>f(A.target.value),placeholder:"e.g., playground, vibrant, geometric (comma-separated)",disabled:C||E}),u.jsx("small",{className:"help-text",children:"Separate tags with commas"})]}),u.jsx("div",{className:"form-group checkbox-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:p,onChange:A=>g(A.target.checked),disabled:C||E}),u.jsx("span",{children:"Make this design public (shareable link)"})]})})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{onClick:n,className:"btn-secondary",disabled:C||E,children:"Cancel"}),e&&u.jsx("button",{onClick:()=>O(!0),className:"btn-secondary",disabled:C||E,children:E?"Saving...":"Save as New"}),u.jsx("button",{onClick:()=>O(!1),className:"btn-primary",disabled:C||E,children:C?"Saving...":e?"Update":"Save Design"})]})]})})}const gX=10*1024*1024,mX=["image/jpeg","image/png","image/jpg"];function vX({onPhotoUploaded:t,disabled:e=!1}){const[r,n]=H.useState(!1),[i,o]=H.useState(!1),[a,s]=H.useState(null),[l,c]=H.useState(null),d=H.useRef(null),h=b=>{b.preventDefault(),e||n(!0)},f=b=>{b.preventDefault(),n(!1)},p=async b=>{if(b.preventDefault(),n(!1),e)return;const x=b.dataTransfer.files;x.length>0&&await y(x[0])},g=()=>{!e&&d.current&&d.current.click()},m=async b=>{b.target.files.length>0&&await y(b.target.files[0])},y=async b=>{if(s(null),!mX.includes(b.type)){s("Please upload a JPG or PNG image");return}if(b.size>gX){s("Image must be under 10MB");return}const x=URL.createObjectURL(b);c(x),console.log("[IN-SITU-UPLOADER] Loading local file to get dimensions...");const w=await new Promise((S,k)=>{const C=new Image;C.onload=()=>{console.log("[IN-SITU-UPLOADER] Local image loaded, dimensions:",C.naturalWidth,"x",C.naturalHeight),S({width:C.naturalWidth,height:C.naturalHeight})},C.onerror=P=>{console.error("[IN-SITU-UPLOADER] Failed to load local image:",P),k(new Error("Failed to read image dimensions"))},C.src=x});o(!0);try{const k=`in-situ-photos/${`${Date.now()}-${Math.random().toString(36).substr(2,9)}.${b.type.split("/")[1]}`}`,{data:C,error:P}=await br.storage.from("tpv-studio-uploads").upload(k,b,{cacheControl:"3600",upsert:!1});if(P)throw P;const{data:{publicUrl:E}}=br.storage.from("tpv-studio-uploads").getPublicUrl(k);console.log("[IN-SITU-UPLOADER] Photo uploaded:",E),console.log("[IN-SITU-UPLOADER] Using dimensions from local file:",w),console.log("[IN-SITU-UPLOADER] Passing local blob URL for fast preview"),console.log("[IN-SITU-UPLOADER] Calling onPhotoUploaded callback..."),t({url:x,supabaseUrl:E,width:w.width,height:w.height,filename:b.name})}catch(S){console.error("[IN-SITU-UPLOADER] Upload failed:",S),s(S.message||"Upload failed"),URL.revokeObjectURL(x),c(null)}finally{o(!1)}},v=()=>{l&&URL.revokeObjectURL(l),c(null),s(null)};return u.jsxs("div",{className:"in-situ-uploader",children:[l?u.jsxs("div",{className:"preview-container",children:[u.jsx("img",{src:l,alt:"Site preview",className:"preview-image"}),i&&u.jsxs("div",{className:"upload-overlay",children:[u.jsx("div",{className:"upload-spinner"}),u.jsx("p",{children:"Uploading..."})]}),!i&&u.jsx("button",{className:"clear-button",onClick:v,title:"Remove photo",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):u.jsxs("div",{className:`upload-zone ${r?"dragging":""} ${e?"disabled":""}`,onDragOver:h,onDragLeave:f,onDrop:p,onClick:g,children:[u.jsx("input",{ref:d,type:"file",accept:"image/jpeg,image/png",onChange:m,style:{display:"none"},disabled:e}),u.jsx("div",{className:"upload-icon",children:u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),u.jsx("polyline",{points:"17 8 12 3 7 8"}),u.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),u.jsxs("div",{className:"upload-text",children:[u.jsx("p",{className:"primary",children:r?"Drop photo here":"Upload site photo"}),u.jsx("p",{className:"secondary",children:"Drag & drop or click to browse"}),u.jsx("p",{className:"hint",children:"JPG or PNG, max 10MB"})]})]}),a&&u.jsx("div",{className:"error-message",children:a}),u.jsx("style",{children:`
        .in-situ-uploader {
          width: 100%;
        }

        .upload-zone {
          border: 2px dashed #d1d5db;
          border-radius: 8px;
          padding: 2rem;
          text-align: center;
          cursor: pointer;
          transition: all 0.2s;
          background: #f9fafb;
        }

        .upload-zone:hover {
          border-color: #ff6b35;
          background: #fff7f5;
        }

        .upload-zone.dragging {
          border-color: #ff6b35;
          background: #fff7f5;
          border-style: solid;
        }

        .upload-zone.disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .upload-zone.disabled:hover {
          border-color: #d1d5db;
          background: #f9fafb;
        }

        .upload-icon {
          width: 48px;
          height: 48px;
          margin: 0 auto 1rem;
          color: #9ca3af;
        }

        .upload-zone:hover .upload-icon {
          color: #ff6b35;
        }

        .upload-text .primary {
          font-size: 1rem;
          font-weight: 600;
          color: #374151;
          margin: 0 0 0.25rem;
        }

        .upload-text .secondary {
          font-size: 0.875rem;
          color: #6b7280;
          margin: 0 0 0.5rem;
        }

        .upload-text .hint {
          font-size: 0.75rem;
          color: #9ca3af;
          margin: 0;
        }

        .preview-container {
          position: relative;
          border-radius: 8px;
          overflow: hidden;
        }

        .preview-image {
          width: 100%;
          display: block;
          border-radius: 8px;
        }

        .upload-overlay {
          position: absolute;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          color: white;
        }

        .upload-spinner {
          width: 32px;
          height: 32px;
          border: 3px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
          margin-bottom: 0.5rem;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .clear-button {
          position: absolute;
          top: 0.5rem;
          right: 0.5rem;
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background: rgba(0, 0, 0, 0.6);
          border: none;
          cursor: pointer;
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background 0.2s;
        }

        .clear-button:hover {
          background: rgba(0, 0, 0, 0.8);
        }

        .clear-button svg {
          width: 16px;
          height: 16px;
        }

        .error-message {
          margin-top: 0.75rem;
          padding: 0.5rem 0.75rem;
          background: #fef2f2;
          border: 1px solid #fecaca;
          border-radius: 4px;
          color: #dc2626;
          font-size: 0.875rem;
        }
      `})]})}function yX(t,e){const[r,n,i,o,a,s,l,c]=t,[d,h,f,p,g,m,y,v]=e,b=[[r,n,1,0,0,0,-d*r,-d*n],[0,0,0,r,n,1,-h*r,-h*n],[i,o,1,0,0,0,-f*i,-f*o],[0,0,0,i,o,1,-p*i,-p*o],[a,s,1,0,0,0,-g*a,-g*s],[0,0,0,a,s,1,-m*a,-m*s],[l,c,1,0,0,0,-y*l,-y*c],[0,0,0,l,c,1,-v*l,-v*c]],w=bX(b,[d,h,f,p,g,m,y,v]);return function(k,C){const P=w[6]*k+w[7]*C+1,E=(w[0]*k+w[1]*C+w[2])/P,R=(w[3]*k+w[4]*C+w[5])/P;return[E,R]}}function bX(t,e){const r=t.length,n=t.map((o,a)=>[...o,e[a]]);for(let o=0;o<r;o++){let a=o;for(let s=o+1;s<r;s++)Math.abs(n[s][o])>Math.abs(n[a][o])&&(a=s);[n[o],n[a]]=[n[a],n[o]];for(let s=o+1;s<r;s++){const l=n[s][o]/n[o][o];for(let c=o;c<=r;c++)n[s][c]-=l*n[o][c]}}const i=new Array(r);for(let o=r-1;o>=0;o--){i[o]=n[o][r];for(let a=o+1;a<r;a++)i[o]-=n[o][a]*i[a];i[o]/=n[o][o]}return i}function _b(t){return new Promise((e,r)=>{const n=new Image;!t.startsWith("blob:")&&!t.startsWith("data:")?(n.crossOrigin="anonymous",console.log("[LOAD-IMAGE] Loading external URL with CORS:",t.substring(0,50))):console.log("[LOAD-IMAGE] Loading local URL (blob/data):",t.substring(0,50)),n.onload=()=>{console.log("[LOAD-IMAGE] Successfully loaded image:",t.substring(0,50)),e(n)},n.onerror=()=>{console.error("[LOAD-IMAGE] Failed to load image:",t),r(new Error(`Failed to load image: ${t}`))},n.src=t})}async function a5(t,e=1536){console.log("[RASTERIZE-SVG] Starting SVG rasterization:",t.substring(0,50),"maxSize:",e);const r=await _b(t),{naturalWidth:n,naturalHeight:i}=r;console.log("[RASTERIZE-SVG] SVG loaded with dimensions:",n,"x",i);const o=Math.min(1,e/Math.max(n,i)),a=Math.round(n*o),s=Math.round(i*o);console.log("[RASTERIZE-SVG] Scaling to:",a,"x",s,"(scale:",o.toFixed(2),")");const l=document.createElement("canvas");return l.width=a,l.height=s,l.getContext("2d").drawImage(r,0,0,a,s),console.log("[RASTERIZE-SVG] Drew SVG to canvas"),new Promise((d,h)=>{const f=new Image;f.onload=()=>{console.log("[RASTERIZE-SVG] Successfully rasterized SVG to PNG"),d(f)},f.onerror=p=>{console.error("[RASTERIZE-SVG] Failed to convert canvas to image:",p),h(p)},f.src=l.toDataURL("image/png")})}function s5({photoCtx:t,photoImg:e,designImg:r,quad:n,opacity:i,shape:o,lighting:a}){const s=t.canvas;t.clearRect(0,0,s.width,s.height),t.drawImage(e,0,0,s.width,s.height);const l=r.width,c=r.height,d=[0,0,l,0,l,c,0,c],h=[n[0].x,n[0].y,n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y],f=yX(d,h),p=10,g=l/p,m=c/p,y=document.createElement("canvas");if(y.width=l,y.height=c,y.getContext("2d").drawImage(r,0,0),t.save(),t.globalAlpha=i,a&&a.enabled){const x=a.strength||.6,w=1+(a.baseBrightness-1)*x,S=1+(a.baseContrast-1)*x;t.filter=`brightness(${w}) contrast(${S})`}const b=o&&o.length>=3?o:n;t.beginPath(),t.moveTo(b[0].x,b[0].y);for(let x=1;x<b.length;x++)t.lineTo(b[x].x,b[x].y);t.closePath(),t.clip();for(let x=0;x<p;x++)for(let w=0;w<p;w++){const S=x*g,k=w*m,C=(x+1)*g,P=(w+1)*m,E=f(S,k),R=f(C,k),N=f(C,P),T=f(S,P);D2(t,y,S,k,C,k,S,P,E[0],E[1],R[0],R[1],T[0],T[1]),D2(t,y,C,k,C,P,S,P,R[0],R[1],N[0],N[1],T[0],T[1])}t.restore()}function D2(t,e,r,n,i,o,a,s,l,c,d,h,f,p){t.save(),t.beginPath(),t.moveTo(l,c),t.lineTo(d,h),t.lineTo(f,p),t.closePath(),t.clip();const g=(r-a)*(o-s)-(i-a)*(n-s);if(Math.abs(g)<.001){t.restore();return}const m=((l-f)*(o-s)-(d-f)*(n-s))/g,y=((c-p)*(o-s)-(h-p)*(n-s))/g,v=((r-a)*(d-f)-(i-a)*(l-f))/g,b=((r-a)*(h-p)-(i-a)*(c-p))/g,x=l-m*r-v*n,w=c-y*r-b*n;t.setTransform(m,y,v,b,x,w),t.drawImage(e,0,0),t.restore()}function xX(t,e="tpv-in-situ-preview.png"){t.toBlob(r=>{const n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},"image/png")}function wX(t,e,r,n){const i=r/n,o=t*.6,a=e*.6;let s,l;i>o/a?(s=o,l=o/i):(l=a,s=a*i);const c=(t-s)/2,d=(e-l)/2;return[{x:c,y:d},{x:c+s,y:d},{x:c+s,y:d+l},{x:c,y:d+l}]}function SX(t,e,r){let n=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const a=r[i].x,s=r[i].y,l=r[o].x,c=r[o].y;s>e!=c>e&&t<(l-a)*(e-s)/(c-s)+a&&(n=!n)}return n}function kX(t,e,r){t/=255,e/=255,r/=255;const n=Math.max(t,e,r),i=Math.min(t,e,r),o=(n+i)/2;if(n===i)return{h:0,s:0,l:o};const a=n-i,s=o>.5?a/(2-n-i):a/(n+i);let l;switch(n){case t:l=((e-r)/a+(e<r?6:0))/6;break;case e:l=((r-t)/a+2)/6;break;case r:l=((t-e)/a+4)/6;break}return{h:l,s,l:o}}function _X(t,e,r=2e3){if(!t||!e||e.length<3)return{avgLightness:.5,avgContrastProxy:.5};const n=Math.floor(Math.min(...e.map(b=>b.x))),i=Math.ceil(Math.max(...e.map(b=>b.x))),o=Math.floor(Math.min(...e.map(b=>b.y))),a=Math.ceil(Math.max(...e.map(b=>b.y))),s=i-n,l=a-o;if(s<=0||l<=0)return{avgLightness:.5,avgContrastProxy:.5};let c;try{c=t.getImageData(n,o,s,l)}catch(b){return console.warn("[LIGHTING] Failed to get image data:",b),{avgLightness:.5,avgContrastProxy:.5}}const d=c.data,h=[];let f=0;const p=r*5;for(;h.length<r&&f<p;){f++;const b=n+Math.random()*s,x=o+Math.random()*l;if(!SX(b,x,e))continue;const w=Math.floor(b-n),k=(Math.floor(x-o)*s+w)*4;if(k<0||k>=d.length-3)continue;const C=d[k],P=d[k+1],E=d[k+2],{l:R}=kX(C,P,E);h.push(R)}if(h.length===0)return{avgLightness:.5,avgContrastProxy:.5};const g=h.reduce((b,x)=>b+x,0)/h.length,m=h.reduce((b,x)=>b+Math.pow(x-g,2),0)/h.length,y=Math.sqrt(m),v=Math.min(1,y/.25);return{avgLightness:g,avgContrastProxy:v}}function CX(t){let e=1,r=1;const i=t.avgLightness-.5;return e+=i*.6,r+=(t.avgContrastProxy-.5)*.4,e=Math.max(.7,Math.min(1.3,e)),r=Math.max(.8,Math.min(1.25,r)),{brightness:e,contrast:r}}const jX=100;function EX({photoUrl:t,svgUrl:e,designSizeMm:r,initialQuad:n,initialShape:i,initialOpacity:o=.8,initialLighting:a,onChange:s}){const[l,c]=H.useState(null),[d,h]=H.useState(null),[f,p]=H.useState(n||null),[g,m]=H.useState(i||null),[y,v]=H.useState(Math.max(.3,Math.min(1,o))),[b,x]=H.useState(a||{enabled:!1,strength:.6,baseBrightness:1,baseContrast:1}),[w,S]=H.useState(!0),[k,C]=H.useState(null),[P,E]=H.useState(1),[R,N]=H.useState("corners"),[T,D]=H.useState(null),[_,G]=H.useState(!1),[U,O]=H.useState(null),[W,A]=H.useState(null),q=H.useRef(null),B=H.useRef(null),V=H.useRef(null),[he,ae]=H.useState([]),ce=20;H.useEffect(()=>{Ae()},[t,e]),H.useEffect(()=>{l&&d&&f&&Re()},[l,d,f,g,y,b,R,T,_,W]),H.useEffect(()=>{if(!l||!f||f.length!==4)return;const X=document.createElement("canvas");X.width=l.naturalWidth,X.height=l.naturalHeight;const ne=X.getContext("2d");ne.drawImage(l,0,0);const se=_X(ne,f),{brightness:me,contrast:_e}=CX(se);x(be=>({...be,baseBrightness:me,baseContrast:_e}))},[l,JSON.stringify(f)]),H.useEffect(()=>{const X=ne=>{if(R==="shape"&&(ne.key==="Delete"||ne.key==="Backspace")&&W!==null&&g&&g.length>3){ne.preventDefault();const se=g.filter((me,_e)=>_e!==W);m(se),A(null),Ee(f,y,se)}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[R,W,g,f,y]);const Ae=async()=>{var X;console.log("[FOUR-POINT] Starting to load images - photo:",t==null?void 0:t.substring(0,50),"svg:",e==null?void 0:e.substring(0,50)),S(!0),C(null);try{console.log("[FOUR-POINT] Loading photo and rasterizing SVG...");const[ne,se]=await Promise.all([_b(t),a5(e,1536)]);console.log("[FOUR-POINT] Both images loaded successfully - photo:",ne.naturalWidth,"x",ne.naturalHeight,"design:",se.naturalWidth,"x",se.naturalHeight),c(ne),h(se);const me=((X=B.current)==null?void 0:X.clientWidth)||800,_e=500,be=me/ne.naturalWidth,Je=_e/ne.naturalHeight,pe=Math.min(1,be,Je);if(E(pe),console.log("[FOUR-POINT] Display scale set to:",pe.toFixed(3)),n)console.log("[FOUR-POINT] Using provided initial quad");else{const it=wX(ne.naturalWidth,ne.naturalHeight,r.width_mm,r.length_mm);p(it),console.log("[FOUR-POINT] Initialized default quad")}}catch(ne){console.error("[FOUR-POINT] Failed to load images:",ne),C(ne.message)}finally{S(!1),console.log("[FOUR-POINT] Loading complete")}},Re=()=>{const X=q.current;if(!X||!l||!d||!f)return;X.width=l.naturalWidth,X.height=l.naturalHeight;const ne=X.getContext("2d");s5({photoCtx:ne,photoImg:l,designImg:d,quad:f,opacity:y,shape:g,lighting:b}),ke(ne)},ke=X=>{if(!f)return;X.setTransform(1,0,0,1,0,0);const ne=Math.max(8,Math.min(15,l.naturalWidth/80));if(R==="corners"){X.strokeStyle="rgba(255, 255, 255, 0.8)",X.lineWidth=2,X.setLineDash([5,5]),X.beginPath(),X.moveTo(f[0].x,f[0].y),X.lineTo(f[1].x,f[1].y),X.lineTo(f[2].x,f[2].y),X.lineTo(f[3].x,f[3].y),X.closePath(),X.stroke(),X.setLineDash([]);const se=["TL","TR","BR","BL"];f.forEach((me,_e)=>{X.beginPath(),X.arc(me.x,me.y,ne,0,Math.PI*2),X.fillStyle=T===_e?"#ff6b35":"rgba(255, 107, 53, 0.9)",X.fill(),X.strokeStyle="white",X.lineWidth=2,X.stroke(),X.fillStyle="white",X.font="10px sans-serif",X.textAlign="center",X.textBaseline="middle",X.fillText(se[_e],me.x,me.y)})}else{const se=g||f;X.strokeStyle="rgba(34, 197, 94, 0.8)",X.lineWidth=2,X.setLineDash([]),X.beginPath(),X.moveTo(se[0].x,se[0].y);for(let me=1;me<se.length;me++)X.lineTo(se[me].x,se[me].y);X.closePath(),X.stroke(),se.forEach((me,_e)=>{X.beginPath(),X.arc(me.x,me.y,ne*.8,0,Math.PI*2),W===_e?X.fillStyle="#22c55e":T===_e?X.fillStyle="#16a34a":X.fillStyle="rgba(34, 197, 94, 0.9)",X.fill(),X.strokeStyle="white",X.lineWidth=2,X.stroke()}),X.strokeStyle="rgba(255, 107, 53, 0.3)",X.lineWidth=1,X.setLineDash([3,3]),X.beginPath(),X.moveTo(f[0].x,f[0].y),X.lineTo(f[1].x,f[1].y),X.lineTo(f[2].x,f[2].y),X.lineTo(f[3].x,f[3].y),X.closePath(),X.stroke(),X.setLineDash([])}},Ee=H.useCallback((X,ne,se,me)=>{V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{s&&s({quad:X,opacity:ne,shape:se,lighting:me||b})},jX)},[s,b]),Ze=H.useCallback(()=>{ae(X=>{const ne=[...X,{quad:[...f],shape:g?[...g]:null,opacity:y,lighting:{...b}}];return ne.length>ce?ne.slice(-ce):ne})},[f,g,y,b]),ot=()=>{if(he.length===0)return;const X=he[he.length-1];ae(ne=>ne.slice(0,-1)),p(X.quad),m(X.shape),v(X.opacity),x(X.lighting),Ee(X.quad,X.opacity,X.shape,X.lighting)},Ot=(X,ne)=>({x:X/P,y:ne/P}),Dt=(X,ne,se)=>{if(!se)return-1;const me=25/P;for(let _e=0;_e<se.length;_e++){const be=se[_e].x-X,Je=se[_e].y-ne;if(Math.sqrt(be*be+Je*Je)<me)return _e}return-1},j=(X,ne,se)=>{if(!se||se.length<3)return!1;let me=!1;for(let _e=0,be=se.length-1;_e<se.length;be=_e++){const Je=se[_e].x,pe=se[_e].y,it=se[be].x,rt=se[be].y;pe>ne!=rt>ne&&X<(it-Je)*(ne-pe)/(rt-pe)+Je&&(me=!me)}return me},oe=X=>{if(R!=="shape"||!g||g.length<=3)return;const ne=q.current;if(!ne)return;const se=ne.getBoundingClientRect(),me=X.clientX-se.left,_e=X.clientY-se.top,{x:be,y:Je}=Ot(me,_e),pe=Dt(be,Je,g);if(pe>=0){Ze();const it=g.filter((st,Ut)=>Ut!==pe);m(it),A(null);const rt=K(f,it);rt!==f?(p(rt),Ee(rt,y,it)):Ee(f,y,it)}},J=X=>{const ne=q.current;if(!ne)return;const se=ne.getBoundingClientRect(),me=X.clientX-se.left,_e=X.clientY-se.top,{x:be,y:Je}=Ot(me,_e);if(R==="corners"){const pe=Dt(be,Je,f);pe>=0?(Ze(),D(pe),ne.setPointerCapture(X.pointerId)):j(be,Je,f)&&(Ze(),G(!0),O({x:be,y:Je}),ne.setPointerCapture(X.pointerId))}else{const pe=g||f,it=Dt(be,Je,pe);if(it>=0)Ze(),D(it),A(it),ne.setPointerCapture(X.pointerId);else{Ze();let rt=0,st=1/0;for(let lt=0;lt<pe.length;lt++){const It=(lt+1)%pe.length,ct=ie(be,Je,pe[lt].x,pe[lt].y,pe[It].x,pe[It].y);ct<st&&(st=ct,rt=It)}const Ut={x:be,y:Je},bt=[...pe];bt.splice(rt,0,Ut),m(bt),A(rt);const Ue=K(f,bt);Ue!==f?(p(Ue),Ee(Ue,y,bt)):Ee(f,y,bt)}}},I=X=>{if(T===null&&!_)return;const ne=q.current;if(!ne)return;const se=ne.getBoundingClientRect(),me=X.clientX-se.left,_e=X.clientY-se.top,{x:be,y:Je}=Ot(me,_e),pe=Math.max(0,Math.min(l.naturalWidth,be)),it=Math.max(0,Math.min(l.naturalHeight,Je));if(R==="corners"){if(_&&U){const rt=pe-U.x,st=it-U.y,Ut=f.map(Ue=>({x:Math.max(0,Math.min(l.naturalWidth,Ue.x+rt)),y:Math.max(0,Math.min(l.naturalHeight,Ue.y+st))}));let bt=g;g&&(bt=g.map(Ue=>({x:Math.max(0,Math.min(l.naturalWidth,Ue.x+rt)),y:Math.max(0,Math.min(l.naturalHeight,Ue.y+st))})),m(bt)),p(Ut),O({x:pe,y:it}),Ee(Ut,y,bt)}else if(T!==null){const rt=[...f];rt[T]={x:pe,y:it},p(rt),Ee(rt,y,g)}}else{const st=[...g||f];st[T]={x:pe,y:it},m(st),Ee(f,y,st)}},F=X=>{if(T!==null||_){const ne=q.current;if(ne&&ne.releasePointerCapture(X.pointerId),R==="shape"&&g&&T!==null){const se=K(f,g);se!==f&&(p(se),Ee(se,y,g))}D(null),G(!1),O(null)}},K=(X,ne)=>{if(!ne||ne.length<3||!X)return X;const se=X.reduce((Ue,lt)=>Ue+lt.x,0)/4,me=X.reduce((Ue,lt)=>Ue+lt.y,0)/4,_e=ne.reduce((Ue,lt)=>Ue+lt.x,0)/ne.length,be=ne.reduce((Ue,lt)=>Ue+lt.y,0)/ne.length;let Je=1;for(const Ue of ne){const lt=Ue.x-se,It=Ue.y-me,ct=Math.sqrt(lt*lt+It*It);if(ct<1)continue;const Xt=ee(se,me,lt,It,X);if(Xt>0&&ct>Xt){const En=ct/Xt;Je=Math.max(Je,En)}}let pe=1/0;for(const Ue of ne){const lt=Ue.x-se,It=Ue.y-me,ct=Math.sqrt(lt*lt+It*It);if(ct<1)continue;const Xt=ee(se,me,lt,It,X);if(Xt>0){const En=ct/Xt;pe=Math.min(pe,En)}}let it=Je;if(Je<=1&&pe<1/0&&(it=pe),Math.abs(it-1)<.01)return X;const rt=X.map(Ue=>({x:se+(Ue.x-se)*it,y:me+(Ue.y-me)*it})),st=_e-se,Ut=be-me;return rt.map(Ue=>({x:Ue.x+st,y:Ue.y+Ut}))},ee=(X,ne,se,me,_e)=>{let be=1/0;for(let Je=0;Je<4;Je++){const pe=_e[Je],it=_e[(Je+1)%4],rt=it.x-pe.x,st=it.y-pe.y,Ut=se*st-me*rt;if(Math.abs(Ut)<1e-4)continue;const bt=((pe.x-X)*st-(pe.y-ne)*rt)/Ut,Ue=((pe.x-X)*me-(pe.y-ne)*se)/Ut;bt>0&&Ue>=0&&Ue<=1&&(be=Math.min(be,bt*Math.sqrt(se*se+me*me)))}return be===1/0?0:be},ie=(X,ne,se,me,_e,be)=>{const Je=X-se,pe=ne-me,it=_e-se,rt=be-me,st=Je*it+pe*rt,Ut=it*it+rt*rt;let bt=Ut!==0?st/Ut:-1,Ue,lt;return bt<0?(Ue=se,lt=me):bt>1?(Ue=_e,lt=be):(Ue=se+bt*it,lt=me+bt*rt),Math.sqrt((X-Ue)**2+(ne-lt)**2)},Z=()=>{R==="corners"?(g||m([...f]),N("shape"),A(null)):(N("corners"),A(null))},$=X=>{const ne=Math.max(.3,Math.min(1,parseFloat(X.target.value)/100));v(ne),Ee(f,ne,g)},le=X=>{const ne={...b,enabled:X.target.checked};x(ne),Ee(f,y,g,ne)},re=X=>{const ne={...b,strength:parseFloat(X.target.value)/100};x(ne),Ee(f,y,g,ne)};return w?u.jsxs("div",{className:"four-point-editor loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading preview..."})]}):k?u.jsx("div",{className:"four-point-editor error",children:u.jsxs("p",{children:["Failed to load: ",k]})}):u.jsxs("div",{className:"four-point-editor",ref:B,children:[u.jsxs("div",{className:"editor-header",children:[u.jsxs("div",{className:"header-title",children:[u.jsx("h3",{children:"Position Your Design"}),u.jsx(Py,{content:u.jsxs("div",{children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Corners Mode:"})," Drag the 4 corner handles (TL, TR, BR, BL) to position your design with perspective. You can also drag inside the design to move all corners at once."]}),u.jsxs("p",{style:{marginTop:"0.5rem"},children:[u.jsx("strong",{children:"Refine Shape Mode:"})," Click anywhere to add new vertices for precise shape control. Drag existing vertices to adjust. Double-click or press Delete/Backspace on a vertex to remove it."]}),u.jsxs("p",{style:{marginTop:"0.5rem"},children:[u.jsx("strong",{children:"Overlay Opacity:"})," Adjust transparency to see how the design blends with your photo."]}),u.jsxs("p",{style:{marginTop:"0.5rem"},children:[u.jsx("strong",{children:"Match Floor Lighting:"})," Automatically adjusts design brightness to match your floor's lighting conditions."]})]}),position:"right"})]}),u.jsx("p",{className:"instructions",children:R==="corners"?"Drag the corner handles (TL, TR, BR, BL) to position the design. Drag inside to move all corners.":"Click to add vertices, drag to move them, double-click or press Delete to remove."})]}),u.jsx("div",{className:"canvas-container",children:u.jsx("canvas",{ref:q,onPointerDown:J,onPointerMove:I,onPointerUp:F,onPointerLeave:F,onDoubleClick:oe,style:{width:`${((l==null?void 0:l.naturalWidth)||800)*P}px`,height:`${((l==null?void 0:l.naturalHeight)||600)*P}px`,cursor:T!==null||_?"grabbing":R==="shape"?"crosshair":"move",touchAction:"none"}})}),u.jsxs("div",{className:"controls",children:[u.jsxs("div",{className:"mode-toggle",children:[u.jsx("button",{className:`toggle-btn ${R==="corners"?"active":""}`,onClick:()=>N("corners"),children:"Corners"}),u.jsx("button",{className:`toggle-btn ${R==="shape"?"active":""}`,onClick:Z,children:"Refine Shape"}),u.jsx("button",{className:"toggle-btn undo-btn",onClick:ot,disabled:he.length===0,title:"Undo last change",children:"Undo"})]}),u.jsxs("div",{className:"opacity-control",children:[u.jsxs("label",{children:["Overlay Opacity",u.jsxs("span",{className:"value",children:[Math.round(y*100),"%"]})]}),u.jsx("input",{type:"range",min:"30",max:"100",value:Math.round(y*100),onChange:$})]}),u.jsxs("div",{className:"lighting-control",children:[u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:b.enabled,onChange:le}),"Match floor lighting"]}),b.enabled&&u.jsxs("div",{className:"lighting-slider",children:[u.jsxs("label",{children:["Strength",u.jsxs("span",{className:"value",children:[Math.round(b.strength*100),"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"100",value:Math.round(b.strength*100),onChange:re})]})]})]}),u.jsx("style",{children:`
        .four-point-editor {
          display: flex;
          flex-direction: column;
          height: 100%;
        }

        .four-point-editor.loading,
        .four-point-editor.error {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          min-height: 400px;
          color: #6b7280;
        }

        .four-point-editor .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #e5e7eb;
          border-top-color: #ff6b35;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
          margin-bottom: 1rem;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .editor-header {
          padding-bottom: 1rem;
          border-bottom: 1px solid #e5e7eb;
          margin-bottom: 1rem;
        }

        .editor-header .header-title {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 0.5rem;
        }

        .editor-header h3 {
          margin: 0;
          font-size: 1.125rem;
          color: #1e4a7a;
        }

        .editor-header .instructions {
          margin: 0;
          font-size: 0.875rem;
          color: #6b7280;
        }

        .canvas-container {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #f3f4f6;
          border-radius: 8px;
          overflow: hidden;
          min-height: 400px;
        }

        .canvas-container canvas {
          display: block;
        }

        .controls {
          padding-top: 1rem;
          border-top: 1px solid #e5e7eb;
          margin-top: 1rem;
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .mode-toggle {
          display: flex;
          gap: 0.5rem;
        }

        .toggle-btn {
          padding: 0.5rem 1rem;
          border: 1px solid #d1d5db;
          background: white;
          border-radius: 4px;
          font-size: 0.875rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .toggle-btn:hover {
          background: #f9fafb;
        }

        .toggle-btn.active {
          background: #ff6b35;
          color: white;
          border-color: #ff6b35;
        }

        .toggle-btn:disabled {
          opacity: 0.4;
          cursor: not-allowed;
        }

        .toggle-btn:disabled:hover {
          background: white;
        }

        .opacity-control {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .opacity-control label {
          display: flex;
          justify-content: space-between;
          font-size: 0.875rem;
          font-weight: 500;
          color: #374151;
        }

        .opacity-control .value {
          font-weight: 400;
          color: #6b7280;
        }

        .opacity-control input[type="range"] {
          width: 100%;
          height: 6px;
          border-radius: 3px;
          background: #e5e7eb;
          outline: none;
          -webkit-appearance: none;
        }

        .opacity-control input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          width: 16px;
          height: 16px;
          border-radius: 50%;
          background: #ff6b35;
          cursor: pointer;
        }

        .lighting-control {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .checkbox-label {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.875rem;
          font-weight: 500;
          color: #374151;
          cursor: pointer;
        }

        .checkbox-label input[type="checkbox"] {
          width: 16px;
          height: 16px;
          cursor: pointer;
        }

        .lighting-slider {
          display: flex;
          flex-direction: column;
          gap: 0.25rem;
          padding-left: 1.5rem;
        }

        .lighting-slider label {
          display: flex;
          justify-content: space-between;
          font-size: 0.8rem;
          color: #6b7280;
        }

        .lighting-slider .value {
          font-weight: 400;
        }

        .lighting-slider input[type="range"] {
          width: 100%;
          height: 6px;
          border-radius: 3px;
          background: #e5e7eb;
          outline: none;
          -webkit-appearance: none;
        }

        .lighting-slider input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          width: 14px;
          height: 14px;
          border-radius: 50%;
          background: #22c55e;
          cursor: pointer;
        }
      `})]})}const yi={UPLOAD:"upload",POSITION:"position"};function TX({designUrl:t,designDimensions:e,onClose:r,onSaved:n}){const[i,o]=H.useState(yi.UPLOAD),[a,s]=H.useState(null),[l,c]=H.useState(null),[d,h]=H.useState(null),[f,p]=H.useState(.8),[g,m]=H.useState({enabled:!1,strength:.6,baseBrightness:1,baseContrast:1}),[y,v]=H.useState(!1),b=H.useRef(null);H.useEffect(()=>{if(t){console.log("[IN-SITU-MODAL] Design URL received:",t==null?void 0:t.substring(0,50));const E=new Image;!t.startsWith("blob:")&&!t.startsWith("data:")&&(E.crossOrigin="anonymous"),E.src=t}else console.warn("[IN-SITU-MODAL] No design URL provided")},[t]);const x=E=>{console.log("[IN-SITU-MODAL] Photo uploaded:",E),s(E),console.log("[IN-SITU-MODAL] Advancing to POSITION step, designUrl:",t==null?void 0:t.substring(0,50)),o(yi.POSITION)},w=({quad:E,opacity:R,shape:N,lighting:T})=>{c(E),p(R),h(N),T&&m(T)},S=async()=>{if(!a||!l)return null;try{console.log("[InSitu] Loading design from URL:",t);const[E,R]=await Promise.all([_b(a.url),a5(t,1536)]);console.log("[InSitu] Successfully loaded design image");const N=document.createElement("canvas");N.width=E.naturalWidth,N.height=E.naturalHeight;const T=N.getContext("2d");return s5({photoCtx:T,photoImg:E,designImg:R,quad:l,opacity:f,shape:d,lighting:g}),N}catch(E){return console.error("[InSitu] Failed to generate canvas:",E),alert(`Failed to load design: ${E.message}`),null}},k=async()=>{const E=await S();E&&xX(E,"tpv-in-situ-preview.png")},C=async()=>{if(!(!l||!a)){v(!0);try{const E=await S();if(!E)throw new Error("Failed to generate preview");const R=await new Promise(G=>E.toBlob(G,"image/png")),T=`in-situ-previews/${`${Date.now()}-${Math.random().toString(36).substr(2,9)}.png`}`,{error:D}=await br.storage.from("tpv-studio-uploads").upload(T,R,{contentType:"image/png",cacheControl:"3600"});if(D)throw D;const{data:{publicUrl:_}}=br.storage.from("tpv-studio-uploads").getPublicUrl(T);n&&n({photo_url:a.supabaseUrl||a.url,quad:l,shape:d,opacity:f,lighting:g,preview_url:_}),r()}catch(E){console.error("[IN-SITU] Save failed:",E),alert("Failed to save preview: "+E.message)}finally{v(!1)}}},P=()=>{switch(i){case yi.UPLOAD:return"Upload Site Photo";case yi.POSITION:return"Position Your Design";default:return"In-Situ Preview"}};return u.jsxs("div",{className:"modal-overlay in-situ-modal-overlay",onClick:r,children:[u.jsxs("div",{className:"modal-content in-situ-modal",onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("div",{className:"header-left",children:[u.jsx("h2",{children:P()}),u.jsxs("div",{className:"step-indicator",children:[u.jsx("span",{className:i===yi.UPLOAD?"active":"completed",children:"1. Upload"}),u.jsx("span",{className:i===yi.POSITION?"active":"",children:"2. Position"})]})]}),u.jsx("button",{onClick:r,className:"close-button",children:""})]}),u.jsxs("div",{className:"modal-body",children:[i===yi.UPLOAD&&u.jsxs("div",{className:"upload-step",children:[u.jsx("p",{className:"step-description",children:"Upload a photo of your site to see how your TPV design will look when installed. For best results, use a photo taken from above or at a slight angle showing the floor area clearly."}),u.jsx(vX,{onPhotoUploaded:x})]}),i===yi.POSITION&&a&&u.jsx(EX,{ref:b,photoUrl:a.url,svgUrl:t,designSizeMm:{width_mm:e.width,length_mm:e.length},initialOpacity:.8,onChange:w})]}),i===yi.POSITION&&u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{onClick:()=>o(yi.UPLOAD),className:"btn-secondary",children:"Back"}),u.jsxs("div",{className:"footer-actions",children:[u.jsx("button",{onClick:k,disabled:!l,className:"btn-secondary",children:"Download PNG"}),u.jsx("button",{onClick:C,disabled:!l||y,className:"btn-primary",children:y?"Saving...":"Save to Project"})]})]})]}),u.jsx("style",{children:`
        .in-situ-modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 1rem;
        }

        .in-situ-modal {
          background: white;
          border-radius: 12px;
          width: 100%;
          max-width: 1000px;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .in-situ-modal .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding: 1.25rem 1.5rem;
          border-bottom: 1px solid #e5e7eb;
        }

        .header-left {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .in-situ-modal .modal-header h2 {
          margin: 0;
          font-size: 1.25rem;
          color: #1e4a7a;
        }

        .step-indicator {
          display: flex;
          gap: 1rem;
          font-size: 0.75rem;
        }

        .step-indicator span {
          color: #9ca3af;
          padding: 0.25rem 0.5rem;
          border-radius: 4px;
        }

        .step-indicator span.active {
          background: #fff7f5;
          color: #ff6b35;
          font-weight: 500;
        }

        .step-indicator span.completed {
          color: #22c55e;
        }

        .close-button {
          background: none;
          border: none;
          font-size: 1.5rem;
          cursor: pointer;
          color: #9ca3af;
          padding: 0;
          line-height: 1;
        }

        .close-button:hover {
          color: #374151;
        }

        .modal-body {
          flex: 1;
          padding: 1.5rem;
          overflow-y: auto;
          min-height: 500px;
        }

        .upload-step {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
        }

        .step-description {
          margin: 0;
          font-size: 0.875rem;
          color: #6b7280;
          line-height: 1.6;
        }

        .modal-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem 1.5rem;
          border-top: 1px solid #e5e7eb;
          background: #f9fafb;
          border-radius: 0 0 12px 12px;
        }

        .footer-actions {
          display: flex;
          gap: 0.5rem;
        }

        .btn-primary,
        .btn-secondary {
          padding: 0.5rem 1rem;
          border-radius: 4px;
          font-size: 0.875rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
          border: none;
        }

        .btn-primary {
          background: #ff6b35;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #e55a2b;
        }

        .btn-primary:disabled {
          background: #d1d5db;
          cursor: not-allowed;
        }

        .btn-secondary {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #f9fafb;
        }

        .btn-secondary:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
          .in-situ-modal {
            max-width: 100%;
            max-height: 100vh;
            border-radius: 0;
          }

          .modal-body {
            padding: 1rem;
          }

          .step-indicator {
            display: none;
          }

          .modal-footer {
            border-radius: 0;
          }
        }
      `})]})}function RX({isOpen:t,onClose:e,onConfirm:r,aspectRatio:n,defaultLongestSide:i=5e3}){const[o,a]=H.useState(i),[s,l]=H.useState(i/1e3),d=(m=>{if(!n||n<=0)return{width:m,length:m};if(n>=1){const y=m,v=Math.round(m/n);return{width:y,length:v}}else{const y=m;return{width:Math.round(m*n),length:y}}})(o),h=n>=1?"landscape":"portrait",f=n>=1?`${n.toFixed(1)}:1`:`1:${(1/n).toFixed(1)}`,p=m=>{const y=parseFloat(m.target.value)||0;l(y),a(Math.round(y*1e3))},g=()=>{r(d.width,d.length),e()};return t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"dimension-modal-overlay",onClick:e,children:u.jsxs("div",{className:"dimension-modal",onClick:m=>m.stopPropagation(),children:[u.jsxs("div",{className:"dimension-modal-header",children:[u.jsxs("div",{className:"dimension-modal-title",children:[u.jsx("h2",{children:"Set Installation Size"}),u.jsx(Py,{content:u.jsxs("div",{children:[u.jsx("p",{children:u.jsx("strong",{children:"Why specify dimensions?"})}),u.jsx("p",{style:{marginTop:"0.5rem"},children:"Accurate dimensions are essential for:"}),u.jsxs("ul",{style:{marginTop:"0.5rem",marginBottom:0,paddingLeft:"1.25rem"},children:[u.jsx("li",{children:"Calculating exact material quantities"}),u.jsx("li",{children:"Generating PDF specifications for manufacturers"}),u.jsx("li",{children:"Slicing designs into 1m1m installation tiles"})]}),u.jsxs("p",{style:{marginTop:"0.5rem"},children:[u.jsx("strong",{children:"Tip:"})," Typical playground installations range from 3m to 20m on the longest side."]})]}),position:"bottom"})]}),u.jsx("button",{className:"dimension-modal-close",onClick:e,"aria-label":"Close",children:""})]}),u.jsxs("div",{className:"dimension-modal-body",children:[u.jsx("div",{className:"dimension-info",children:u.jsxs("p",{className:"dimension-aspect",children:["Your design has a ",u.jsxs("strong",{children:[f," ",h]})," aspect ratio"]})}),u.jsxs("div",{className:"dimension-input-group",children:[u.jsx("label",{htmlFor:"longest-dimension",children:"Installation Size (Longest Side)"}),u.jsxs("div",{className:"dimension-input-wrapper",children:[u.jsx("input",{id:"longest-dimension",type:"number",min:"0.1",max:"50",step:"0.1",value:s,onChange:p,className:"dimension-input"}),u.jsx("span",{className:"dimension-unit",children:"meters"})]}),u.jsx("p",{className:"dimension-help",children:"Enter the measurement of the longest side of your installation area. The other dimension will be calculated automatically based on your design's aspect ratio."})]}),u.jsxs("div",{className:"dimension-preview",children:[u.jsx("div",{className:"dimension-preview-title",children:"Calculated Dimensions:"}),u.jsxs("div",{className:"dimension-preview-values",children:[u.jsxs("div",{className:"dimension-preview-item",children:[u.jsx("span",{className:"dimension-preview-label",children:"Width:"}),u.jsxs("span",{className:"dimension-preview-value",children:[(d.width/1e3).toFixed(2),"m"]})]}),u.jsxs("div",{className:"dimension-preview-item",children:[u.jsx("span",{className:"dimension-preview-label",children:"Length:"}),u.jsxs("span",{className:"dimension-preview-value",children:[(d.length/1e3).toFixed(2),"m"]})]}),u.jsxs("div",{className:"dimension-preview-item",children:[u.jsx("span",{className:"dimension-preview-label",children:"Total Area:"}),u.jsxs("span",{className:"dimension-preview-value",children:[(d.width*d.length/1e6).toFixed(2),"m"]})]})]})]}),u.jsxs("div",{className:"dimension-note",children:[u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"8",cy:"8",r:"7"}),u.jsx("line",{x1:"8",y1:"11",x2:"8",y2:"8"}),u.jsx("circle",{cx:"8",cy:"5",r:"0.5",fill:"currentColor"})]}),u.jsx("p",{children:"These dimensions will be used to calculate material quantities for your PDF specification and to slice your design into 1m1m installation tiles."})]})]}),u.jsxs("div",{className:"dimension-modal-footer",children:[u.jsx("button",{className:"dimension-btn dimension-btn-secondary",onClick:e,children:"Cancel"}),u.jsx("button",{className:"dimension-btn dimension-btn-primary",onClick:g,disabled:s<=0,children:"Confirm Size"})]})]})}),u.jsx("style",{children:`
        .dimension-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        padding: 20px;
        backdrop-filter: blur(4px);
      }

      .dimension-modal {
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        max-width: 500px;
        width: 100%;
        max-height: 90vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        animation: dimensionModalSlideIn 0.3s ease-out;
      }

      @keyframes dimensionModalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-20px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .dimension-modal-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 24px;
        border-bottom: 1px solid #e5e7eb;
      }

      .dimension-modal-title {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .dimension-modal-header h2 {
        margin: 0;
        font-size: 1.5rem;
        font-weight: 600;
        color: #111827;
      }

      .dimension-modal-close {
        background: none;
        border: none;
        font-size: 2rem;
        line-height: 1;
        color: #9ca3af;
        cursor: pointer;
        padding: 0;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        transition: all 0.2s;
      }

      .dimension-modal-close:hover {
        background: #f3f4f6;
        color: #111827;
      }

      .dimension-modal-body {
        padding: 24px;
        overflow-y: auto;
        flex: 1;
      }

      .dimension-info {
        background: #f0f9ff;
        border: 1px solid #bae6fd;
        border-radius: 12px;
        padding: 16px;
        margin-bottom: 24px;
      }

      .dimension-aspect {
        margin: 0;
        color: #0c4a6e;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .dimension-input-group {
        margin-bottom: 24px;
      }

      .dimension-input-group label {
        display: block;
        font-weight: 600;
        color: #374151;
        margin-bottom: 8px;
        font-size: 0.95rem;
      }

      .dimension-input-wrapper {
        position: relative;
        display: flex;
        align-items: center;
      }

      .dimension-input {
        width: 100%;
        padding: 12px 16px;
        padding-right: 70px;
        font-size: 1.1rem;
        border: 2px solid #d1d5db;
        border-radius: 10px;
        transition: all 0.2s;
        font-family: inherit;
      }

      .dimension-input:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .dimension-unit {
        position: absolute;
        right: 16px;
        color: #6b7280;
        font-weight: 500;
        pointer-events: none;
      }

      .dimension-help {
        margin: 8px 0 0 0;
        font-size: 0.85rem;
        color: #6b7280;
      }

      .dimension-preview {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 24px;
      }

      .dimension-preview-title {
        font-weight: 600;
        color: #374151;
        margin-bottom: 16px;
        font-size: 0.95rem;
      }

      .dimension-preview-values {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .dimension-preview-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 12px;
        background: white;
        border-radius: 8px;
      }

      .dimension-preview-label {
        color: #6b7280;
        font-size: 0.9rem;
      }

      .dimension-preview-value {
        font-weight: 600;
        color: #111827;
        font-size: 1.05rem;
      }

      .dimension-note {
        display: flex;
        gap: 12px;
        padding: 16px;
        background: #fffbeb;
        border: 1px solid #fde68a;
        border-radius: 10px;
      }

      .dimension-note svg {
        flex-shrink: 0;
        margin-top: 2px;
        color: #f59e0b;
      }

      .dimension-note p {
        margin: 0;
        font-size: 0.85rem;
        color: #78350f;
        line-height: 1.5;
      }

      .dimension-modal-footer {
        padding: 20px 24px;
        border-top: 1px solid #e5e7eb;
        display: flex;
        gap: 12px;
        justify-content: flex-end;
      }

      .dimension-btn {
        padding: 10px 24px;
        border-radius: 8px;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.2s;
        border: none;
        font-family: inherit;
      }

      .dimension-btn-secondary {
        background: white;
        border: 1px solid #d1d5db;
        color: #374151;
      }

      .dimension-btn-secondary:hover {
        background: #f9fafb;
        border-color: #9ca3af;
      }

      .dimension-btn-primary {
        background: #3b82f6;
        color: white;
      }

      .dimension-btn-primary:hover {
        background: #2563eb;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
      }

      .dimension-btn-primary:disabled {
        background: #9ca3af;
        cursor: not-allowed;
        box-shadow: none;
      }

      @media (max-width: 640px) {
        .dimension-modal {
          max-width: none;
          width: 100%;
          margin: 0;
          max-height: 100vh;
          border-radius: 0;
        }

        .dimension-modal-header {
          padding: 20px;
        }

        .dimension-modal-header h2 {
          font-size: 1.25rem;
        }

        .dimension-modal-body {
          padding: 20px;
        }

        .dimension-modal-footer {
          flex-direction: column-reverse;
          padding: 16px 20px;
        }

        .dimension-btn {
          width: 100%;
        }
      }
      `})]}):null}function PX(t){const e=new Map;for(const r of t){const n=r.originalColor.hex.toLowerCase(),i=r.targetColor.hex.toLowerCase(),o=r.chosenRecipe.id,a=r.chosenRecipe.deltaE,s=r.targetColor.areaPct;e.set(n,{blendHex:i,recipeId:o,deltaE:a,coverage:s,quality:r.chosenRecipe.quality,components:r.chosenRecipe.components})}return e}function OX(t){return t.replace("#","").toLowerCase()}async function Ps(t,e,r=null){try{let n;if(r)n=r,console.log(`[SVG-RECOLOR] Using provided SVG text (${n.length} chars)`);else{console.log("[SVG-RECOLOR] Fetching SVG from:",t);const g=await fetch(t);if(!g.ok)throw new Error(`Failed to fetch SVG: ${g.status} ${g.statusText}`);n=await g.text(),console.log(`[SVG-RECOLOR] Fetched SVG (${n.length} chars)`)}console.log("[SVG-RECOLOR] Sanitizing SVG...");const i=zj(n);if(!i)throw new Error("SVG sanitization failed - content rejected");const a=new DOMParser().parseFromString(i,"image/svg+xml"),s=a.querySelector("parsererror");if(s)throw new Error(`SVG parse error: ${s.textContent}`);const l=a.documentElement;if(l.tagName!=="svg")throw new Error("Invalid SVG: root element is not <svg>");const c=AX(l,e);console.log("[SVG-RECOLOR] Recoloring complete:",c);const h=new XMLSerializer().serializeToString(a),f=new Blob([h],{type:"image/svg+xml"});return{dataUrl:URL.createObjectURL(f),svgText:h,stats:c}}catch(n){throw console.error("[SVG-RECOLOR] Error:",n),n}}function AX(t,e){const r={totalElements:0,fillsReplaced:0,strokesReplaced:0,stopColorsReplaced:0,stylesProcessed:0,colorsNotMapped:new Set},n=t.querySelectorAll("*");r.totalElements=n.length;for(const a of n){const s=a.getAttribute("fill");if(s&&s!=="none"){const h=ji(s,e,r.colorsNotMapped);h!==s&&(a.setAttribute("fill",h),r.fillsReplaced++)}const l=a.getAttribute("stroke");if(l&&l!=="none"){const h=ji(l,e,r.colorsNotMapped);h!==l&&(a.setAttribute("stroke",h),r.strokesReplaced++)}const c=a.getAttribute("stop-color");if(c&&c!=="none"){const h=ji(c,e,r.colorsNotMapped);h!==c&&(a.setAttribute("stop-color",h),r.stopColorsReplaced++)}const d=a.getAttribute("style");if(d){const h=L2(d,e,r);h!==d&&(a.setAttribute("style",h),r.stylesProcessed++)}}const i=t.querySelectorAll("style");for(const a of i){const s=a.textContent,l=FX(s,e,r);l!==s&&(a.textContent=l,r.stylesProcessed++)}const o=t.querySelectorAll("stop");for(const a of o){const s=a.getAttribute("stop-color");if(s&&s!=="none"){const c=ji(s,e,r.colorsNotMapped);c!==s&&(a.setAttribute("stop-color",c),r.stopColorsReplaced++)}const l=a.getAttribute("style");if(l&&l.includes("stop-color")){const c=L2(l,e,r);c!==l&&(a.setAttribute("style",c),r.stylesProcessed++)}}return r}function ji(t,e,r){const n=DX(t);if(!n)return t;const i=`#${n}`,o=e.get(i);if(o)return o.blendHex;const a=I2(n);if(!a)return t;const s=M2(a);let l=null,c=1/0;for(const[d,h]of e.entries()){const f=I2(d.replace("#",""));if(!f)continue;const p=M2(f),g=NX(s,p);if(g<c&&(c=g,l=h),g<=9)return console.log(`[SVG-RECOLOR] Tolerance match: ${i}  ${d} (E=${g.toFixed(2)})`),h.blendHex}return l?(console.log(`[SVG-RECOLOR] Fallback to nearest: ${i}  ${l.blendHex} (E=${c.toFixed(2)})`),r&&r.add(t),l.blendHex):(console.warn(`[SVG-RECOLOR] No mapping found: ${i}`),t)}function I2(t){if(t.length!==6)return null;const e=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16);return isNaN(e)||isNaN(r)||isNaN(n)?null:{r:e,g:r,b:n}}function M2(t){let e=t.r/255,r=t.g/255,n=t.b/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;const i=(e*.4124+r*.3576+n*.1805)*100,o=(e*.2126+r*.7152+n*.0722)*100,a=(e*.0193+r*.1192+n*.9505)*100,s=95.047,l=100,c=108.883;let d=i/s,h=o/l,f=a/c;return d=d>.008856?Math.pow(d,1/3):7.787*d+16/116,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,{L:116*h-16,a:500*(d-h),b:200*(h-f)}}function NX(t,e){const o=Math.PI*2,a=Math.PI,s=(t.L+e.L)/2,l=Math.sqrt(t.a*t.a+t.b*t.b),c=Math.sqrt(e.a*e.a+e.b*e.b),d=(l+c)/2,h=.5*(1-Math.sqrt(Math.pow(d,7)/(Math.pow(d,7)+Math.pow(25,7)))),f=t.a*(1+h),p=e.a*(1+h),g=Math.sqrt(f*f+t.b*t.b),m=Math.sqrt(p*p+e.b*e.b),y=(g+m)/2;let v=Math.atan2(t.b,f);v<0&&(v+=o);let b=Math.atan2(e.b,p);b<0&&(b+=o);const x=Math.abs(v-b)>a?(v+b+o)/2:(v+b)/2,w=1-.17*Math.cos(x-Math.PI/6)+.24*Math.cos(2*x)+.32*Math.cos(3*x+Math.PI/30)-.2*Math.cos(4*x-63*Math.PI/180);let S=b-v;Math.abs(S)>a&&(S=S>0?S-o:S+o);const k=e.L-t.L,C=m-g,P=2*Math.sqrt(g*m)*Math.sin(S/2),E=1+.015*Math.pow(s-50,2)/Math.sqrt(20+Math.pow(s-50,2)),R=1+.045*y,N=1+.015*y*w,T=30*Math.PI/180*Math.exp(-Math.pow((x-275*Math.PI/180)/(25*Math.PI/180),2)),_=-(2*Math.sqrt(Math.pow(y,7)/(Math.pow(y,7)+Math.pow(25,7))))*Math.sin(2*T);return Math.sqrt(Math.pow(k/(1*E),2)+Math.pow(C/(1*R),2)+Math.pow(P/(1*N),2)+_*(C/(1*R))*(P/(1*N)))}function L2(t,e,r){let n=t;return n=n.replace(/fill:\s*([^;]+)/gi,(i,o)=>`fill: ${ji(o.trim(),e,r.colorsNotMapped)}`),n=n.replace(/stroke:\s*([^;]+)/gi,(i,o)=>`stroke: ${ji(o.trim(),e,r.colorsNotMapped)}`),n=n.replace(/stop-color:\s*([^;]+)/gi,(i,o)=>`stop-color: ${ji(o.trim(),e,r.colorsNotMapped)}`),n}function FX(t,e,r){let n=t,i=0;return n=n.replace(/fill:\s*([^;}\s]+)/gi,(o,a)=>{const s=a.trim(),l=ji(s,e,r.colorsNotMapped);return l!==s&&(i++,console.log(`[SVG-RECOLOR-CSS] Replaced fill: ${s}  ${l}`)),`fill: ${l}`}),n=n.replace(/stroke:\s*([^;}\s]+)/gi,(o,a)=>{const s=a.trim(),l=ji(s,e,r.colorsNotMapped);return l!==s&&(i++,console.log(`[SVG-RECOLOR-CSS] Replaced stroke: ${s}  ${l}`)),`stroke: ${l}`}),n=n.replace(/stop-color:\s*([^;}\s]+)/gi,(o,a)=>{const s=a.trim(),l=ji(s,e,r.colorsNotMapped);return l!==s&&(i++,console.log(`[SVG-RECOLOR-CSS] Replaced stop-color: ${s}  ${l}`)),`stop-color: ${l}`}),i>0&&console.log(`[SVG-RECOLOR-CSS] Total CSS color replacements: ${i}`),n}function DX(t){const e=t.trim().toLowerCase();if(e.match(/^#?[0-9a-f]{6}$/))return OX(e);const r=e.match(/^#?([0-9a-f]{3})$/);if(r)return r[1].split("").map(a=>a+a).join("");const n=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(n){const o=parseInt(n[1],10),a=parseInt(n[2],10),s=parseInt(n[3],10);return IX(o,a,s)}const i={white:"ffffff",black:"000000",red:"ff0000",green:"008000",blue:"0000ff",yellow:"ffff00",cyan:"00ffff",magenta:"ff00ff",gray:"808080",grey:"808080",orange:"ffa500",purple:"800080"};return i[e]?i[e]:null}function IX(t,e,r){const n=i=>Math.max(0,Math.min(255,i)).toString(16).padStart(2,"0");return`${n(t)}${n(e)}${n(r)}`}function z2(t){const r=new DOMParser().parseFromString(t,"image/svg+xml"),n=r.querySelector("parsererror");if(n)return console.error("[SVG-REGION-TAGGER] Parse error:",n.textContent),t;const i=r.documentElement;if(!i.hasAttribute("viewBox")){const s=i.getAttribute("width"),l=i.getAttribute("height");if(s&&l){const c=parseFloat(s),d=parseFloat(l);!isNaN(c)&&!isNaN(d)&&(i.setAttribute("viewBox",`0 0 ${c} ${d}`),console.log(`[SVG-REGION-TAGGER] Added viewBox from dimensions: 0 0 ${c} ${d}`))}else{const c=MX(r);c&&(i.setAttribute("viewBox",`${c.x} ${c.y} ${c.width} ${c.height}`),console.log(`[SVG-REGION-TAGGER] Added viewBox from content bounds: ${c.x} ${c.y} ${c.width} ${c.height}`))}}let o=0;return r.querySelectorAll("path, rect, circle, ellipse, polygon, polyline, line").forEach(s=>{s.hasAttribute("data-region-id")||s.setAttribute("data-region-id",`region-${o++}`)}),console.log(`[SVG-REGION-TAGGER] Tagged ${o} regions`),new XMLSerializer().serializeToString(r)}function MX(t){try{const e=t.documentElement.cloneNode(!0),r=document.createElement("div");r.style.position="absolute",r.style.visibility="hidden",document.body.appendChild(r),r.appendChild(e);const n=e.getBBox();if(document.body.removeChild(r),n.width>0&&n.height>0)return{x:Math.floor(n.x),y:Math.floor(n.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}}catch(e){console.warn("[SVG-REGION-TAGGER] Could not calculate content bounds:",e)}return null}function B2(t,e){if(!e||e.size===0)return t;const n=new DOMParser().parseFromString(t,"image/svg+xml"),i=n.querySelector("parsererror");if(i)return console.error("[SVG-REGION-OVERRIDES] Parse error:",i.textContent),t;let o=0;return e.forEach((a,s)=>{const l=n.querySelector(`[data-region-id="${s}"]`);if(l){if(l.hasAttribute("fill")&&(l.setAttribute("fill",a),o++),l.hasAttribute("stroke")&&l.getAttribute("stroke")!=="none"){const d=l.getAttribute("stroke");d&&d!=="#000"&&d!=="#000000"&&d!=="#fff"&&d!=="#ffffff"&&l.setAttribute("stroke",a)}const c=l.getAttribute("style");if(c&&c.includes("fill:")){const d=c.replace(/fill:\s*[^;]+/,`fill: ${a}`);l.setAttribute("style",d)}}else console.warn(`[SVG-REGION-OVERRIDES] Region not found: ${s}`)}),console.log(`[SVG-REGION-OVERRIDES] Applied ${o} region overrides`),new XMLSerializer().serializeToString(n)}const U2={landscape:[{name:"1:1",ratio:1,width:1024,height:1024},{name:"4:3",ratio:4/3,width:1024,height:768},{name:"3:2",ratio:3/2,width:1024,height:683},{name:"16:9",ratio:16/9,width:1024,height:576},{name:"2:1",ratio:2,width:1024,height:512},{name:"3:1",ratio:3,width:1024,height:341}],portrait:[{name:"1:1",ratio:1,width:1024,height:1024},{name:"3:4",ratio:3/4,width:768,height:1024},{name:"2:3",ratio:2/3,width:683,height:1024},{name:"9:16",ratio:9/16,width:576,height:1024},{name:"1:2",ratio:1/2,width:512,height:1024},{name:"1:3",ratio:1/3,width:341,height:1024}]},Ac={safeDifference:.3,tilingThreshold:3.5,framingThreshold:2.5};function LX(t,e){return t/e}function zX(t){return t>=.95&&t<=1.05?"square":t>1?"landscape":"portrait"}function BX(t,e){const r=e==="portrait"?U2.portrait:U2.landscape;let n=r[0],i=Math.abs(t-n.ratio);for(const o of r){const a=Math.abs(t-o.ratio);a<i&&(i=a,n=o)}return{...n,difference:i}}function UX(t,e,r){return t>=Ac.tilingThreshold||t<=1/Ac.tilingThreshold?{mode:"tiling",reason:"Extreme aspect ratio - design will repeat along length",warning:!0}:r>=Ac.safeDifference||t>=Ac.framingThreshold||t<=1/Ac.framingThreshold?{mode:"framing",reason:"Design panel centered with base color surround",warning:!1}:{mode:"full",reason:"Design fills entire surface",warning:!1}}function HX(t,e){const r=LX(t,e),n=zX(r),i=BX(r,n),o=UX(r,i.ratio,i.difference);return{user:{widthMM:t,heightMM:e,aspectRatio:r,orientation:n,formatted:`${(t/1e3).toFixed(1)}m  ${(e/1e3).toFixed(1)}m`},canonical:{name:i.name,ratio:i.ratio,width:i.width,height:i.height,difference:i.difference},layout:o,recraft:{width:i.width,height:i.height,metadata:{targetWidthMM:t,targetHeightMM:e,layoutMode:o.mode}}}}function WX(t){const{user:e,canonical:r,layout:n}=t;let i=`Generating ${r.name} design panel`;return n.mode==="full"?i+=` (fills ${e.formatted} surface)`:n.mode==="framing"?i+=` (centered in ${e.formatted} surface with base color surround)`:n.mode==="tiling"&&(i+=` (will repeat along ${e.formatted} surface)`),i}function VX(t){return t.layout.warning||t.layout.mode!=="full"}async function H2(t,e="tpv-studio-uploads"){try{const r=Date.now(),n=Math.random().toString(36).substring(7),i=t.name.split(".").pop(),a=`uploads/${`${r}-${n}.${i}`}`;console.log("[Upload] Uploading file:",t.name,"",a);const{data:s,error:l}=await br.storage.from(e).upload(a,t,{cacheControl:"3600",upsert:!1});if(l)return console.error("[Upload] Error:",l),{success:!1,error:l.message||"Failed to upload file"};const{data:{publicUrl:c}}=br.storage.from(e).getPublicUrl(a);return console.log("[Upload] Success:",c),{success:!0,url:c,path:a}}catch(r){return console.error("[Upload] Unexpected error:",r),{success:!1,error:r.message||"Unexpected error during upload"}}}function W2(t,e={}){const{maxSizeMB:r=10,allowedTypes:n=["image/png","image/jpeg","image/svg+xml"]}=e;if(!t)return{valid:!1,error:"No file selected"};if(!n.includes(t.type))return{valid:!1,error:`Invalid file type. Allowed: ${n.map(a=>a.split("/")[1].toUpperCase()).join(", ")}`};const i=r*1024*1024;return t.size>i?{valid:!1,error:`File too large. Maximum size: ${r}MB`}:{valid:!0}}function Ch(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var l5={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,o){function a(c,d){if(!i[c]){if(!n[c]){var h=typeof Ch=="function"&&Ch;if(!d&&h)return h(c,!0);if(s)return s(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[c]={exports:{}};n[c][0].call(p.exports,function(g){var m=n[c][1][g];return a(m||g)},p,p.exports,r,n,i,o)}return i[c].exports}for(var s=typeof Ch=="function"&&Ch,l=0;l<o.length;l++)a(o[l]);return a}({1:[function(r,n,i){var o=r("./utils"),a=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,d,h,f,p,g,m,y=[],v=0,b=l.length,x=b,w=o.getTypeOf(l)!=="string";v<l.length;)x=b-v,h=w?(c=l[v++],d=v<b?l[v++]:0,v<b?l[v++]:0):(c=l.charCodeAt(v++),d=v<b?l.charCodeAt(v++):0,v<b?l.charCodeAt(v++):0),f=c>>2,p=(3&c)<<4|d>>4,g=1<x?(15&d)<<2|h>>6:64,m=2<x?63&h:64,y.push(s.charAt(f)+s.charAt(p)+s.charAt(g)+s.charAt(m));return y.join("")},i.decode=function(l){var c,d,h,f,p,g,m=0,y=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&x--,l.charAt(l.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=a.uint8array?new Uint8Array(0|x):new Array(0|x);m<l.length;)c=s.indexOf(l.charAt(m++))<<2|(f=s.indexOf(l.charAt(m++)))>>4,d=(15&f)<<4|(p=s.indexOf(l.charAt(m++)))>>2,h=(3&p)<<6|(g=s.indexOf(l.charAt(m++))),b[y++]=c,p!==64&&(b[y++]=d),g!==64&&(b[y++]=h);return b}},{"./support":30,"./utils":32}],2:[function(r,n,i){var o=r("./external"),a=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(d,h,f,p,g){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=p,this.compressedContent=g}c.prototype={getContentWorker:function(){var d=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,f){return d.pipe(new s).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var o=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var o=r("./utils"),a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();n.exports=function(s,l){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(c,d,h,f){var p=a,g=f+h;c^=-1;for(var m=f;m<g;m++)c=c>>>8^p[255&(c^d[m])];return-1^c}(0|l,s,s.length,0):function(c,d,h,f){var p=a,g=f+h;c^=-1;for(var m=f;m<g;m++)c=c>>>8^p[255&(c^d.charCodeAt(m))];return-1^c}(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var o=null;o=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:o}},{lie:37}],7:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),s=r("./utils"),l=r("./stream/GenericWorker"),c=o?"uint8array":"array";function d(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",s.inherits(d,l),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(c,h.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function o(p,g){var m,y="";for(m=0;m<g;m++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,g,m,y,v,b){var x,w,S=p.file,k=p.compression,C=b!==c.utf8encode,P=s.transformTo("string",b(S.name)),E=s.transformTo("string",c.utf8encode(S.name)),R=S.comment,N=s.transformTo("string",b(R)),T=s.transformTo("string",c.utf8encode(R)),D=E.length!==S.name.length,_=T.length!==R.length,G="",U="",O="",W=S.dir,A=S.date,q={crc32:0,compressedSize:0,uncompressedSize:0};g&&!m||(q.crc32=p.crc32,q.compressedSize=p.compressedSize,q.uncompressedSize=p.uncompressedSize);var B=0;g&&(B|=8),C||!D&&!_||(B|=2048);var V=0,he=0;W&&(V|=16),v==="UNIX"?(he=798,V|=function(ce,Ae){var Re=ce;return ce||(Re=Ae?16893:33204),(65535&Re)<<16}(S.unixPermissions,W)):(he=20,V|=function(ce){return 63&(ce||0)}(S.dosPermissions)),x=A.getUTCHours(),x<<=6,x|=A.getUTCMinutes(),x<<=5,x|=A.getUTCSeconds()/2,w=A.getUTCFullYear()-1980,w<<=4,w|=A.getUTCMonth()+1,w<<=5,w|=A.getUTCDate(),D&&(U=o(1,1)+o(d(P),4)+E,G+="up"+o(U.length,2)+U),_&&(O=o(1,1)+o(d(N),4)+T,G+="uc"+o(O.length,2)+O);var ae="";return ae+=`
\0`,ae+=o(B,2),ae+=k.magic,ae+=o(x,2),ae+=o(w,2),ae+=o(q.crc32,4),ae+=o(q.compressedSize,4),ae+=o(q.uncompressedSize,4),ae+=o(P.length,2),ae+=o(G.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ae+P+G,dirRecord:h.CENTRAL_FILE_HEADER+o(he,2)+ae+o(N.length,2)+"\0\0\0\0"+o(V,4)+o(y,4)+P+G+N}}var s=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),d=r("../crc32"),h=r("../signature");function f(p,g,m,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=m,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(f,l),f.prototype.push=function(p){var g=p.meta.percent||0,m=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(g+100*(m-y-1))/m:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var g=this.streamFiles&&!p.file.dir;if(g){var m=a(p,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var g=this.streamFiles&&!p.file.dir,m=a(p,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),g)this.push({data:function(y){return h.DATA_DESCRIPTOR+o(y.crc32,4)+o(y.compressedSize,4)+o(y.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var m=this.bytesWritten-p,y=function(v,b,x,w,S){var k=s.transformTo("string",S(w));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(b,4)+o(x,4)+o(k.length,2)+k}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var g=this;return p.on("data",function(m){g.processChunk(m)}),p.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),p.on("error",function(m){g.error(m)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var g=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var m=0;m<g.length;m++)try{g[m].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,g=0;g<p.length;g++)p[g].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var o=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(s,l,c){var d=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{s.forEach(function(f,p){h++;var g=function(b,x){var w=b||x,S=o[w];if(!S)throw new Error(w+" is not a valid compression method !");return S}(p.options.compression,l.compression),m=p.options.compressionOptions||l.compressionOptions||{},y=p.dir,v=p.date;p._compressWorker(g,m).withStreamInfo("file",{name:f,dir:y,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(a,s){return new o().loadAsync(a,s)},o.external=r("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var o=r("./utils"),a=r("./external"),s=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(f){return new a.Promise(function(p,g){var m=f.decompressed.getContentWorker().pipe(new c);m.on("error",function(y){g(y)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(f,p){var g=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(m){var y=new l(p);return y.load(m),y}).then(function(m){var y=[a.Promise.resolve(m)],v=m.files;if(p.checkCRC32)for(var b=0;b<v.length;b++)y.push(h(v[b]));return a.Promise.all(y)}).then(function(m){for(var y=m.shift(),v=y.files,b=0;b<v.length;b++){var x=v[b],w=x.fileNameStr,S=o.resolve(x.fileNameStr);g.file(S,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:p.createFolders}),x.dir||(g.file(S).unsafeOriginalName=w)}return y.zipComment.length&&(g.comment=y.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var o=r("../utils"),a=r("../stream/GenericWorker");function s(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(s,a),s.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var o=r("readable-stream").Readable;function a(s,l,c){o.call(this,l),this._helper=s;var d=this;s.on("data",function(h,f){d.push(h)||d._helper.pause(),c&&c(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,n,i){function o(S,k,C){var P,E=s.getTypeOf(k),R=s.extend(C||{},d);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(S=v(S)),R.createFolders&&(P=y(S))&&b.call(this,P,!0);var N=E==="string"&&R.binary===!1&&R.base64===!1;C&&C.binary!==void 0||(R.binary=!N),(k instanceof h&&k.uncompressedSize===0||R.dir||!k||k.length===0)&&(R.base64=!1,R.binary=!0,k="",R.compression="STORE",E="string");var T=null;T=k instanceof h||k instanceof l?k:g.isNode&&g.isStream(k)?new m(S,k):s.prepareContent(S,k,R.binary,R.optimizedBinaryString,R.base64);var D=new f(S,T,R);this.files[S]=D}var a=r("./utf8"),s=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),p=r("./generate"),g=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),y=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var k=S.lastIndexOf("/");return 0<k?S.substring(0,k):""},v=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},b=function(S,k){return k=k!==void 0?k:d.createFolders,S=v(S),this.files[S]||o.call(this,S,null,{dir:!0,createFolders:k}),this.files[S]};function x(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var k,C,P;for(k in this.files)P=this.files[k],(C=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&S(C,P)},filter:function(S){var k=[];return this.forEach(function(C,P){S(C,P)&&k.push(P)}),k},file:function(S,k,C){if(arguments.length!==1)return S=this.root+S,o.call(this,S,k,C),this;if(x(S)){var P=S;return this.filter(function(R,N){return!N.dir&&P.test(R)})}var E=this.files[this.root+S];return E&&!E.dir?E:null},folder:function(S){if(!S)return this;if(x(S))return this.filter(function(E,R){return R.dir&&S.test(E)});var k=this.root+S,C=b.call(this,k),P=this.clone();return P.root=C.name,P},remove:function(S){S=this.root+S;var k=this.files[S];if(k||(S.slice(-1)!=="/"&&(S+="/"),k=this.files[S]),k&&!k.dir)delete this.files[S];else for(var C=this.filter(function(E,R){return R.name.slice(0,S.length)===S}),P=0;P<C.length;P++)delete this.files[C[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var k,C={};try{if((C=s.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");s.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var P=C.comment||this.comment||"";k=p.generateWorker(this,C,P)}catch(E){(k=new l("error")).error(E)}return new c(k,C.type||"string",C.mimeType)},generateAsync:function(S,k){return this.generateInternalStream(S).accumulate(k)},generateNodeStream:function(S,k){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(k)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var o=r("./DataReader");function a(s){o.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}r("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),h=s.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),c=s.charCodeAt(1),d=s.charCodeAt(2),h=s.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&d===f[2]&&h===f[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var o=r("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,c=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=s,c},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var o=r("./Uint8ArrayReader");function a(s){o.call(this,s)}r("../utils").inherits(a,o),a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var o=r("./DataReader");function a(s){o.call(this,s)}r("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var o=r("./ArrayReader");function a(s){o.call(this,s)}r("../utils").inherits(a,o),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var o=r("../utils"),a=r("../support"),s=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(h){var f=o.getTypeOf(h);return o.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new c(h):a.uint8array?new d(o.transformTo("uint8array",h)):new s(o.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var o=r("./GenericWorker"),a=r("../utils");function s(l){o.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(s,o),s.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var o=r("./GenericWorker"),a=r("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,o),s.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var o=r("../utils"),a=r("./GenericWorker");function s(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(s,a),s.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var o=r("../utils"),a=r("./GenericWorker");function s(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=o.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}o.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(l){s.processChunk(l)}),a.on("end",function(){s.end()}),a.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=o},{}],29:[function(r,n,i){var o=r("../utils"),a=r("./ConvertWorker"),s=r("./GenericWorker"),l=r("../base64"),c=r("../support"),d=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,m){return new d.Promise(function(y,v){var b=[],x=g._internalType,w=g._outputType,S=g._mimeType;g.on("data",function(k,C){b.push(k),m&&m(C)}).on("error",function(k){b=[],v(k)}).on("end",function(){try{var k=function(C,P,E){switch(C){case"blob":return o.newBlob(o.transformTo("arraybuffer",P),E);case"base64":return l.encode(P);default:return o.transformTo(C,P)}}(w,function(C,P){var E,R=0,N=null,T=0;for(E=0;E<P.length;E++)T+=P[E].length;switch(C){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(N=new Uint8Array(T),E=0;E<P.length;E++)N.set(P[E],R),R+=P[E].length;return N;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+C+"'")}}(x,b),S);y(k)}catch(C){v(C)}b=[]}).resume()})}function p(g,m,y){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=y,o.checkSupport(v),this._worker=g.pipe(new a(v)),g.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}p.prototype={accumulate:function(g){return f(this,g)},on:function(g,m){var y=this;return g==="data"?this._worker.on(g,function(v){m.call(y,v.data,v.meta)}):this._worker.on(g,function(){o.delay(m,arguments,y)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var o=r("./utils"),a=r("./support"),s=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return a.nodebuffer?s.newBufferFrom(p,"utf-8"):function(g){var m,y,v,b,x,w=g.length,S=0;for(b=0;b<w;b++)(64512&(y=g.charCodeAt(b)))==55296&&b+1<w&&(64512&(v=g.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),b++),S+=y<128?1:y<2048?2:y<65536?3:4;for(m=a.uint8array?new Uint8Array(S):new Array(S),b=x=0;x<S;b++)(64512&(y=g.charCodeAt(b)))==55296&&b+1<w&&(64512&(v=g.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),b++),y<128?m[x++]=y:(y<2048?m[x++]=192|y>>>6:(y<65536?m[x++]=224|y>>>12:(m[x++]=240|y>>>18,m[x++]=128|y>>>12&63),m[x++]=128|y>>>6&63),m[x++]=128|63&y);return m}(p)},i.utf8decode=function(p){return a.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(g){var m,y,v,b,x=g.length,w=new Array(2*x);for(m=y=0;m<x;)if((v=g[m++])<128)w[y++]=v;else if(4<(b=c[v]))w[y++]=65533,m+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&m<x;)v=v<<6|63&g[m++],b--;1<b?w[y++]=65533:v<65536?w[y++]=v:(v-=65536,w[y++]=55296|v>>10&1023,w[y++]=56320|1023&v)}return w.length!==y&&(w.subarray?w=w.subarray(0,y):w.length=y),o.applyFromCharCode(w)}(p=o.transformTo(a.uint8array?"uint8array":"array",p))},o.inherits(h,l),h.prototype.processChunk=function(p){var g=o.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=g;(g=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var y=function(b,x){var w;for((x=x||b.length)>b.length&&(x=b.length),w=x-1;0<=w&&(192&b[w])==128;)w--;return w<0||w===0?x:w+c[b[w]]>x?w:x}(g),v=g;y!==g.length&&(a.uint8array?(v=g.subarray(0,y),this.leftOver=g.subarray(y,g.length)):(v=g.slice(0,y),this.leftOver=g.slice(y,g.length))),this.push({data:i.utf8decode(v),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,o.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var o=r("./support"),a=r("./base64"),s=r("./nodejsUtils"),l=r("./external");function c(m){return m}function d(m,y){for(var v=0;v<m.length;++v)y[v]=255&m.charCodeAt(v);return y}r("setimmediate"),i.newBlob=function(m,y){i.checkSupport("blob");try{return new Blob([m],{type:y})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,y,v){var b=[],x=0,w=m.length;if(w<=v)return String.fromCharCode.apply(null,m);for(;x<w;)y==="array"||y==="nodebuffer"?b.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+v,w)))):b.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+v,w)))),x+=v;return b.join("")},stringifyByChar:function(m){for(var y="",v=0;v<m.length;v++)y+=String.fromCharCode(m[v]);return y},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function f(m){var y=65536,v=i.getTypeOf(m),b=!0;if(v==="uint8array"?b=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(b=h.applyCanBeUsed.nodebuffer),b)for(;1<y;)try{return h.stringifyByChunk(m,v,y)}catch{y=Math.floor(y/2)}return h.stringifyByChar(m)}function p(m,y){for(var v=0;v<m.length;v++)y[v]=m[v];return y}i.applyFromCharCode=f;var g={};g.string={string:c,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return g.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,s.allocBuffer(m.length))}},g.array={string:f,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},g.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},g.uint8array={string:f,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return s.newBufferFrom(m)}},g.nodebuffer={string:f,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return g.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,y){if(y=y||"",!m)return y;i.checkSupport(m);var v=i.getTypeOf(y);return g[v][m](y)},i.resolve=function(m){for(var y=m.split("/"),v=[],b=0;b<y.length;b++){var x=y[b];x==="."||x===""&&b!==0&&b!==y.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var y,v,b="";for(v=0;v<(m||"").length;v++)b+="\\x"+((y=m.charCodeAt(v))<16?"0":"")+y.toString(16).toUpperCase();return b},i.delay=function(m,y,v){setImmediate(function(){m.apply(v||null,y||[])})},i.inherits=function(m,y){function v(){}v.prototype=y.prototype,m.prototype=new v},i.extend=function(){var m,y,v={};for(m=0;m<arguments.length;m++)for(y in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],y)&&v[y]===void 0&&(v[y]=arguments[m][y]);return v},i.prepareContent=function(m,y,v,b,x){return l.Promise.resolve(y).then(function(w){return o.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,k){var C=new FileReader;C.onload=function(P){S(P.target.result)},C.onerror=function(P){k(P.target.error)},C.readAsArrayBuffer(w)}):w}).then(function(w){var S=i.getTypeOf(w);return S?(S==="arraybuffer"?w=i.transformTo("uint8array",w):S==="string"&&(x?w=a.decode(w):v&&b!==!0&&(w=function(k){return d(k,o.uint8array?new Uint8Array(k.length):new Array(k.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var o=r("./reader/readerFor"),a=r("./utils"),s=r("./signature"),l=r("./zipEntry"),c=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(h)+")")}},isSignature:function(h,f){var p=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===f;return this.reader.setIndex(p),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",p=a.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,p,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var g=f-p;if(0<g)this.isSignature(f,s.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=o(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var o=r("./reader/readerFor"),a=r("./utils"),s=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),d=r("./compressions"),h=r("./support");function f(p,g){this.options=p,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var g,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(y){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===y)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g,m,y,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)g=p.readInt(2),m=p.readInt(2),y=p.readData(m),this.extraFields[g]={id:g,length:m,value:y};p.setIndex(v)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var v=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=o(p.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=o(p.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(p.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function o(g,m,y){this.name=g,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=m,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),d=r("./stream/GenericWorker");o.prototype={internalStream:function(g){var m=null,y="string";try{if(!g)throw new Error("No output type specified.");var v=(y=g.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),m=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(m=m.pipe(new l.Utf8EncodeWorker)),!b&&v&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(x){(m=new d("error")).error(x)}return new a(m,y,"")},async:function(g,m){return this.internalStream(g).accumulate(m)},nodeStream:function(g,m){return this.internalStream(g||"nodebuffer").toNodejsStream(m)},_compressWorker:function(g,m){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,g,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new s(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)o.prototype[h[p]]=f;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(o){var a,s,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,d=new l(g),h=o.document.createTextNode("");d.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(g,0)};else{var f=new o.MessageChannel;f.port1.onmessage=g,a=function(){f.port2.postMessage(0)}}var p=[];function g(){var m,y;s=!0;for(var v=p.length;v;){for(y=p,p=[],m=-1;++m<v;)y[m]();v=p.length}s=!1}n.exports=function(m){p.push(m)!==1||s||a()}}).call(this,typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var o=r("immediate");function a(){}var s={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==a&&m(this,v)}function f(v,b,x){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function p(v,b,x){o(function(){var w;try{w=b(x)}catch(S){return s.reject(v,S)}w===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,w)})}function g(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function m(v,b){var x=!1;function w(C){x||(x=!0,s.reject(v,C))}function S(C){x||(x=!0,s.resolve(v,C))}var k=y(function(){b(S,w)});k.status==="error"&&w(k.value)}function y(v,b){var x={};try{x.value=v(b),x.status="success"}catch(w){x.status="error",x.value=w}return x}(n.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(x){return b.resolve(v()).then(function(){return x})},function(x){return b.resolve(v()).then(function(){throw x})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,b){if(typeof v!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==d?p(x,this.state===c?v:b,this.outcome):this.queue.push(new f(x,v,b)),x},f.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){s.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},s.resolve=function(v,b){var x=y(g,b);if(x.status==="error")return s.reject(v,x.value);var w=x.value;if(w)m(v,w);else{v.state=c,v.outcome=b;for(var S=-1,k=v.queue.length;++S<k;)v.queue[S].callFulfilled(b)}return v},s.reject=function(v,b){v.state=l,v.outcome=b;for(var x=-1,w=v.queue.length;++x<w;)v.queue[x].callRejected(b);return v},h.resolve=function(v){return v instanceof this?v:s.resolve(new this(a),v)},h.reject=function(v){var b=new this(a);return s.reject(b,v)},h.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,w=!1;if(!x)return this.resolve([]);for(var S=new Array(x),k=0,C=-1,P=new this(a);++C<x;)E(v[C],C);return P;function E(R,N){b.resolve(R).then(function(T){S[N]=T,++k!==x||w||(w=!0,s.resolve(P,S))},function(T){w||(w=!0,s.reject(P,T))})}},h.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,w=!1;if(!x)return this.resolve([]);for(var S=-1,k=new this(a);++S<x;)C=v[S],b.resolve(C).then(function(P){w||(w=!0,s.resolve(k,P))},function(P){w||(w=!0,s.reject(k,P))});var C;return k}},{immediate:36}],38:[function(r,n,i){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var o=r("./zlib/deflate"),a=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,p=0,g=8;function m(v){if(!(this instanceof m))return new m(v);this.options=a.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=o.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(x!==h)throw new Error(l[x]);if(b.header&&o.deflateSetHeader(this.strm,b.header),b.dictionary){var w;if(w=typeof b.dictionary=="string"?s.string2buf(b.dictionary):d.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(x=o.deflateSetDictionary(this.strm,w))!==h)throw new Error(l[x]);this._dict_set=!0}}function y(v,b){var x=new m(b);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}m.prototype.push=function(v,b){var x,w,S=this.strm,k=this.options.chunkSize;if(this.ended)return!1;w=b===~~b?b:b===!0?4:0,typeof v=="string"?S.input=s.string2buf(v):d.call(v)==="[object ArrayBuffer]"?S.input=new Uint8Array(v):S.input=v,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(k),S.next_out=0,S.avail_out=k),(x=o.deflate(S,w))!==1&&x!==h)return this.onEnd(x),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&x!==1);return w===4?(x=o.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h):w!==2||(this.onEnd(h),!(S.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=m,i.deflate=y,i.deflateRaw=function(v,b){return(b=b||{}).raw=!0,y(v,b)},i.gzip=function(v,b){return(b=b||{}).gzip=!0,y(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var o=r("./zlib/inflate"),a=r("./utils/common"),s=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||m&&m.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,y.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function g(m,y){var v=new p(y);if(v.push(m,!0),v.err)throw v.msg||c[v.err];return v.result}p.prototype.push=function(m,y){var v,b,x,w,S,k,C=this.strm,P=this.options.chunkSize,E=this.options.dictionary,R=!1;if(this.ended)return!1;b=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?C.input=s.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(P),C.next_out=0,C.avail_out=P),(v=o.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&E&&(k=typeof E=="string"?s.string2buf(E):f.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,v=o.inflateSetDictionary(this.strm,k)),v===l.Z_BUF_ERROR&&R===!0&&(v=l.Z_OK,R=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&v!==l.Z_STREAM_END&&(C.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(C.output,C.next_out),w=C.next_out-x,S=s.buf2string(C.output,x),C.next_out=w,C.avail_out=P-w,w&&a.arraySet(C.output,C.output,x,w,0),this.onData(S)):this.onData(a.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(R=!0)}while((0<C.avail_in||C.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=p,i.inflate=g,i.inflateRaw=function(m,y){return(y=y||{}).raw=!0,g(m,y)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(l[h]=d[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,d,h,f){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+h),f);else for(var p=0;p<h;p++)l[f+p]=c[d+p]},flattenChunks:function(l){var c,d,h,f,p,g;for(c=h=0,d=l.length;c<d;c++)h+=l[c].length;for(g=new Uint8Array(h),c=f=0,d=l.length;c<d;c++)p=l[c],g.set(p,f),f+=p.length;return g}},s={arraySet:function(l,c,d,h,f){for(var p=0;p<h;p++)l[f+p]=c[d+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(r,n,i){var o=r("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,f){if(f<65537&&(h.subarray&&s||!h.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(h,f));for(var p="",g=0;g<f;g++)p+=String.fromCharCode(h[g]);return p}l[254]=l[254]=1,i.string2buf=function(h){var f,p,g,m,y,v=h.length,b=0;for(m=0;m<v;m++)(64512&(p=h.charCodeAt(m)))==55296&&m+1<v&&(64512&(g=h.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),m++),b+=p<128?1:p<2048?2:p<65536?3:4;for(f=new o.Buf8(b),m=y=0;y<b;m++)(64512&(p=h.charCodeAt(m)))==55296&&m+1<v&&(64512&(g=h.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),m++),p<128?f[y++]=p:(p<2048?f[y++]=192|p>>>6:(p<65536?f[y++]=224|p>>>12:(f[y++]=240|p>>>18,f[y++]=128|p>>>12&63),f[y++]=128|p>>>6&63),f[y++]=128|63&p);return f},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var f=new o.Buf8(h.length),p=0,g=f.length;p<g;p++)f[p]=h.charCodeAt(p);return f},i.buf2string=function(h,f){var p,g,m,y,v=f||h.length,b=new Array(2*v);for(p=g=0;p<v;)if((m=h[p++])<128)b[g++]=m;else if(4<(y=l[m]))b[g++]=65533,p+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&p<v;)m=m<<6|63&h[p++],y--;1<y?b[g++]=65533:m<65536?b[g++]=m:(m-=65536,b[g++]=55296|m>>10&1023,b[g++]=56320|1023&m)}return d(b,g)},i.utf8border=function(h,f){var p;for((f=f||h.length)>h.length&&(f=h.length),p=f-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?f:p+l[h[p]]>f?p:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(o,a,s,l){for(var c=65535&o|0,d=o>>>16&65535|0,h=0;s!==0;){for(s-=h=2e3<s?2e3:s;d=d+(c=c+a[l++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var o=function(){for(var a,s=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;s[l]=a}return s}();n.exports=function(a,s,l,c){var d=o,h=c+l;a^=-1;for(var f=c;f<h;f++)a=a>>>8^d[255&(a^s[f])];return-1^a}},{}],46:[function(r,n,i){var o,a=r("../utils/common"),s=r("./trees"),l=r("./adler32"),c=r("./crc32"),d=r("./messages"),h=0,f=4,p=0,g=-2,m=-1,y=4,v=2,b=8,x=9,w=286,S=30,k=19,C=2*w+1,P=15,E=3,R=258,N=R+E+1,T=42,D=113,_=1,G=2,U=3,O=4;function W(j,oe){return j.msg=d[oe],oe}function A(j){return(j<<1)-(4<j?9:0)}function q(j){for(var oe=j.length;0<=--oe;)j[oe]=0}function B(j){var oe=j.state,J=oe.pending;J>j.avail_out&&(J=j.avail_out),J!==0&&(a.arraySet(j.output,oe.pending_buf,oe.pending_out,J,j.next_out),j.next_out+=J,oe.pending_out+=J,j.total_out+=J,j.avail_out-=J,oe.pending-=J,oe.pending===0&&(oe.pending_out=0))}function V(j,oe){s._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,oe),j.block_start=j.strstart,B(j.strm)}function he(j,oe){j.pending_buf[j.pending++]=oe}function ae(j,oe){j.pending_buf[j.pending++]=oe>>>8&255,j.pending_buf[j.pending++]=255&oe}function ce(j,oe){var J,I,F=j.max_chain_length,K=j.strstart,ee=j.prev_length,ie=j.nice_match,Z=j.strstart>j.w_size-N?j.strstart-(j.w_size-N):0,$=j.window,le=j.w_mask,re=j.prev,X=j.strstart+R,ne=$[K+ee-1],se=$[K+ee];j.prev_length>=j.good_match&&(F>>=2),ie>j.lookahead&&(ie=j.lookahead);do if($[(J=oe)+ee]===se&&$[J+ee-1]===ne&&$[J]===$[K]&&$[++J]===$[K+1]){K+=2,J++;do;while($[++K]===$[++J]&&$[++K]===$[++J]&&$[++K]===$[++J]&&$[++K]===$[++J]&&$[++K]===$[++J]&&$[++K]===$[++J]&&$[++K]===$[++J]&&$[++K]===$[++J]&&K<X);if(I=R-(X-K),K=X-R,ee<I){if(j.match_start=oe,ie<=(ee=I))break;ne=$[K+ee-1],se=$[K+ee]}}while((oe=re[oe&le])>Z&&--F!=0);return ee<=j.lookahead?ee:j.lookahead}function Ae(j){var oe,J,I,F,K,ee,ie,Z,$,le,re=j.w_size;do{if(F=j.window_size-j.lookahead-j.strstart,j.strstart>=re+(re-N)){for(a.arraySet(j.window,j.window,re,re,0),j.match_start-=re,j.strstart-=re,j.block_start-=re,oe=J=j.hash_size;I=j.head[--oe],j.head[oe]=re<=I?I-re:0,--J;);for(oe=J=re;I=j.prev[--oe],j.prev[oe]=re<=I?I-re:0,--J;);F+=re}if(j.strm.avail_in===0)break;if(ee=j.strm,ie=j.window,Z=j.strstart+j.lookahead,$=F,le=void 0,le=ee.avail_in,$<le&&(le=$),J=le===0?0:(ee.avail_in-=le,a.arraySet(ie,ee.input,ee.next_in,le,Z),ee.state.wrap===1?ee.adler=l(ee.adler,ie,le,Z):ee.state.wrap===2&&(ee.adler=c(ee.adler,ie,le,Z)),ee.next_in+=le,ee.total_in+=le,le),j.lookahead+=J,j.lookahead+j.insert>=E)for(K=j.strstart-j.insert,j.ins_h=j.window[K],j.ins_h=(j.ins_h<<j.hash_shift^j.window[K+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[K+E-1])&j.hash_mask,j.prev[K&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=K,K++,j.insert--,!(j.lookahead+j.insert<E)););}while(j.lookahead<N&&j.strm.avail_in!==0)}function Re(j,oe){for(var J,I;;){if(j.lookahead<N){if(Ae(j),j.lookahead<N&&oe===h)return _;if(j.lookahead===0)break}if(J=0,j.lookahead>=E&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,J=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),J!==0&&j.strstart-J<=j.w_size-N&&(j.match_length=ce(j,J)),j.match_length>=E)if(I=s._tr_tally(j,j.strstart-j.match_start,j.match_length-E),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=E){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,J=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else I=s._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(I&&(V(j,!1),j.strm.avail_out===0))return _}return j.insert=j.strstart<E-1?j.strstart:E-1,oe===f?(V(j,!0),j.strm.avail_out===0?U:O):j.last_lit&&(V(j,!1),j.strm.avail_out===0)?_:G}function ke(j,oe){for(var J,I,F;;){if(j.lookahead<N){if(Ae(j),j.lookahead<N&&oe===h)return _;if(j.lookahead===0)break}if(J=0,j.lookahead>=E&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,J=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=E-1,J!==0&&j.prev_length<j.max_lazy_match&&j.strstart-J<=j.w_size-N&&(j.match_length=ce(j,J),j.match_length<=5&&(j.strategy===1||j.match_length===E&&4096<j.strstart-j.match_start)&&(j.match_length=E-1)),j.prev_length>=E&&j.match_length<=j.prev_length){for(F=j.strstart+j.lookahead-E,I=s._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-E),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=F&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,J=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=E-1,j.strstart++,I&&(V(j,!1),j.strm.avail_out===0))return _}else if(j.match_available){if((I=s._tr_tally(j,0,j.window[j.strstart-1]))&&V(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return _}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(I=s._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<E-1?j.strstart:E-1,oe===f?(V(j,!0),j.strm.avail_out===0?U:O):j.last_lit&&(V(j,!1),j.strm.avail_out===0)?_:G}function Ee(j,oe,J,I,F){this.good_length=j,this.max_lazy=oe,this.nice_length=J,this.max_chain=I,this.func=F}function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*C),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*k+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*w+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*w+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(j){var oe;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=v,(oe=j.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?T:D,j.adler=oe.wrap===2?0:1,oe.last_flush=h,s._tr_init(oe),p):W(j,g)}function Ot(j){var oe=ot(j);return oe===p&&function(J){J.window_size=2*J.w_size,q(J.head),J.max_lazy_match=o[J.level].max_lazy,J.good_match=o[J.level].good_length,J.nice_match=o[J.level].nice_length,J.max_chain_length=o[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=E-1,J.match_available=0,J.ins_h=0}(j.state),oe}function Dt(j,oe,J,I,F,K){if(!j)return g;var ee=1;if(oe===m&&(oe=6),I<0?(ee=0,I=-I):15<I&&(ee=2,I-=16),F<1||x<F||J!==b||I<8||15<I||oe<0||9<oe||K<0||y<K)return W(j,g);I===8&&(I=9);var ie=new Ze;return(j.state=ie).strm=j,ie.wrap=ee,ie.gzhead=null,ie.w_bits=I,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=F+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+E-1)/E),ie.window=new a.Buf8(2*ie.w_size),ie.head=new a.Buf16(ie.hash_size),ie.prev=new a.Buf16(ie.w_size),ie.lit_bufsize=1<<F+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new a.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=oe,ie.strategy=K,ie.method=J,Ot(j)}o=[new Ee(0,0,0,0,function(j,oe){var J=65535;for(J>j.pending_buf_size-5&&(J=j.pending_buf_size-5);;){if(j.lookahead<=1){if(Ae(j),j.lookahead===0&&oe===h)return _;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var I=j.block_start+J;if((j.strstart===0||j.strstart>=I)&&(j.lookahead=j.strstart-I,j.strstart=I,V(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-N&&(V(j,!1),j.strm.avail_out===0))return _}return j.insert=0,oe===f?(V(j,!0),j.strm.avail_out===0?U:O):(j.strstart>j.block_start&&(V(j,!1),j.strm.avail_out),_)}),new Ee(4,4,8,4,Re),new Ee(4,5,16,8,Re),new Ee(4,6,32,32,Re),new Ee(4,4,16,16,ke),new Ee(8,16,32,32,ke),new Ee(8,16,128,128,ke),new Ee(8,32,128,256,ke),new Ee(32,128,258,1024,ke),new Ee(32,258,258,4096,ke)],i.deflateInit=function(j,oe){return Dt(j,oe,b,15,8,0)},i.deflateInit2=Dt,i.deflateReset=Ot,i.deflateResetKeep=ot,i.deflateSetHeader=function(j,oe){return j&&j.state?j.state.wrap!==2?g:(j.state.gzhead=oe,p):g},i.deflate=function(j,oe){var J,I,F,K;if(!j||!j.state||5<oe||oe<0)return j?W(j,g):g;if(I=j.state,!j.output||!j.input&&j.avail_in!==0||I.status===666&&oe!==f)return W(j,j.avail_out===0?-5:g);if(I.strm=j,J=I.last_flush,I.last_flush=oe,I.status===T)if(I.wrap===2)j.adler=0,he(I,31),he(I,139),he(I,8),I.gzhead?(he(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),he(I,255&I.gzhead.time),he(I,I.gzhead.time>>8&255),he(I,I.gzhead.time>>16&255),he(I,I.gzhead.time>>24&255),he(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),he(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(he(I,255&I.gzhead.extra.length),he(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(j.adler=c(j.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(he(I,0),he(I,0),he(I,0),he(I,0),he(I,0),he(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),he(I,3),I.status=D);else{var ee=b+(I.w_bits-8<<4)<<8;ee|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(ee|=32),ee+=31-ee%31,I.status=D,ae(I,ee),I.strstart!==0&&(ae(I,j.adler>>>16),ae(I,65535&j.adler)),j.adler=1}if(I.status===69)if(I.gzhead.extra){for(F=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>F&&(j.adler=c(j.adler,I.pending_buf,I.pending-F,F)),B(j),F=I.pending,I.pending!==I.pending_buf_size));)he(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>F&&(j.adler=c(j.adler,I.pending_buf,I.pending-F,F)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){F=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>F&&(j.adler=c(j.adler,I.pending_buf,I.pending-F,F)),B(j),F=I.pending,I.pending===I.pending_buf_size)){K=1;break}K=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,he(I,K)}while(K!==0);I.gzhead.hcrc&&I.pending>F&&(j.adler=c(j.adler,I.pending_buf,I.pending-F,F)),K===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){F=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>F&&(j.adler=c(j.adler,I.pending_buf,I.pending-F,F)),B(j),F=I.pending,I.pending===I.pending_buf_size)){K=1;break}K=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,he(I,K)}while(K!==0);I.gzhead.hcrc&&I.pending>F&&(j.adler=c(j.adler,I.pending_buf,I.pending-F,F)),K===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&B(j),I.pending+2<=I.pending_buf_size&&(he(I,255&j.adler),he(I,j.adler>>8&255),j.adler=0,I.status=D)):I.status=D),I.pending!==0){if(B(j),j.avail_out===0)return I.last_flush=-1,p}else if(j.avail_in===0&&A(oe)<=A(J)&&oe!==f)return W(j,-5);if(I.status===666&&j.avail_in!==0)return W(j,-5);if(j.avail_in!==0||I.lookahead!==0||oe!==h&&I.status!==666){var ie=I.strategy===2?function(Z,$){for(var le;;){if(Z.lookahead===0&&(Ae(Z),Z.lookahead===0)){if($===h)return _;break}if(Z.match_length=0,le=s._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,le&&(V(Z,!1),Z.strm.avail_out===0))return _}return Z.insert=0,$===f?(V(Z,!0),Z.strm.avail_out===0?U:O):Z.last_lit&&(V(Z,!1),Z.strm.avail_out===0)?_:G}(I,oe):I.strategy===3?function(Z,$){for(var le,re,X,ne,se=Z.window;;){if(Z.lookahead<=R){if(Ae(Z),Z.lookahead<=R&&$===h)return _;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=E&&0<Z.strstart&&(re=se[X=Z.strstart-1])===se[++X]&&re===se[++X]&&re===se[++X]){ne=Z.strstart+R;do;while(re===se[++X]&&re===se[++X]&&re===se[++X]&&re===se[++X]&&re===se[++X]&&re===se[++X]&&re===se[++X]&&re===se[++X]&&X<ne);Z.match_length=R-(ne-X),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=E?(le=s._tr_tally(Z,1,Z.match_length-E),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(le=s._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),le&&(V(Z,!1),Z.strm.avail_out===0))return _}return Z.insert=0,$===f?(V(Z,!0),Z.strm.avail_out===0?U:O):Z.last_lit&&(V(Z,!1),Z.strm.avail_out===0)?_:G}(I,oe):o[I.level].func(I,oe);if(ie!==U&&ie!==O||(I.status=666),ie===_||ie===U)return j.avail_out===0&&(I.last_flush=-1),p;if(ie===G&&(oe===1?s._tr_align(I):oe!==5&&(s._tr_stored_block(I,0,0,!1),oe===3&&(q(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),B(j),j.avail_out===0))return I.last_flush=-1,p}return oe!==f?p:I.wrap<=0?1:(I.wrap===2?(he(I,255&j.adler),he(I,j.adler>>8&255),he(I,j.adler>>16&255),he(I,j.adler>>24&255),he(I,255&j.total_in),he(I,j.total_in>>8&255),he(I,j.total_in>>16&255),he(I,j.total_in>>24&255)):(ae(I,j.adler>>>16),ae(I,65535&j.adler)),B(j),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?p:1)},i.deflateEnd=function(j){var oe;return j&&j.state?(oe=j.state.status)!==T&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==D&&oe!==666?W(j,g):(j.state=null,oe===D?W(j,-3):p):g},i.deflateSetDictionary=function(j,oe){var J,I,F,K,ee,ie,Z,$,le=oe.length;if(!j||!j.state||(K=(J=j.state).wrap)===2||K===1&&J.status!==T||J.lookahead)return g;for(K===1&&(j.adler=l(j.adler,oe,le,0)),J.wrap=0,le>=J.w_size&&(K===0&&(q(J.head),J.strstart=0,J.block_start=0,J.insert=0),$=new a.Buf8(J.w_size),a.arraySet($,oe,le-J.w_size,J.w_size,0),oe=$,le=J.w_size),ee=j.avail_in,ie=j.next_in,Z=j.input,j.avail_in=le,j.next_in=0,j.input=oe,Ae(J);J.lookahead>=E;){for(I=J.strstart,F=J.lookahead-(E-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[I+E-1])&J.hash_mask,J.prev[I&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=I,I++,--F;);J.strstart=I,J.lookahead=E-1,Ae(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=E-1,J.match_available=0,j.next_in=ie,j.input=Z,j.avail_in=ee,J.wrap=K,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(o,a){var s,l,c,d,h,f,p,g,m,y,v,b,x,w,S,k,C,P,E,R,N,T,D,_,G;s=o.state,l=o.next_in,_=o.input,c=l+(o.avail_in-5),d=o.next_out,G=o.output,h=d-(a-o.avail_out),f=d+(o.avail_out-257),p=s.dmax,g=s.wsize,m=s.whave,y=s.wnext,v=s.window,b=s.hold,x=s.bits,w=s.lencode,S=s.distcode,k=(1<<s.lenbits)-1,C=(1<<s.distbits)-1;e:do{x<15&&(b+=_[l++]<<x,x+=8,b+=_[l++]<<x,x+=8),P=w[b&k];t:for(;;){if(b>>>=E=P>>>24,x-=E,(E=P>>>16&255)===0)G[d++]=65535&P;else{if(!(16&E)){if(!(64&E)){P=w[(65535&P)+(b&(1<<E)-1)];continue t}if(32&E){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}R=65535&P,(E&=15)&&(x<E&&(b+=_[l++]<<x,x+=8),R+=b&(1<<E)-1,b>>>=E,x-=E),x<15&&(b+=_[l++]<<x,x+=8,b+=_[l++]<<x,x+=8),P=S[b&C];r:for(;;){if(b>>>=E=P>>>24,x-=E,!(16&(E=P>>>16&255))){if(!(64&E)){P=S[(65535&P)+(b&(1<<E)-1)];continue r}o.msg="invalid distance code",s.mode=30;break e}if(N=65535&P,x<(E&=15)&&(b+=_[l++]<<x,(x+=8)<E&&(b+=_[l++]<<x,x+=8)),p<(N+=b&(1<<E)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=E,x-=E,(E=d-h)<N){if(m<(E=N-E)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(D=v,(T=0)===y){if(T+=g-E,E<R){for(R-=E;G[d++]=v[T++],--E;);T=d-N,D=G}}else if(y<E){if(T+=g+y-E,(E-=y)<R){for(R-=E;G[d++]=v[T++],--E;);if(T=0,y<R){for(R-=E=y;G[d++]=v[T++],--E;);T=d-N,D=G}}}else if(T+=y-E,E<R){for(R-=E;G[d++]=v[T++],--E;);T=d-N,D=G}for(;2<R;)G[d++]=D[T++],G[d++]=D[T++],G[d++]=D[T++],R-=3;R&&(G[d++]=D[T++],1<R&&(G[d++]=D[T++]))}else{for(T=d-N;G[d++]=G[T++],G[d++]=G[T++],G[d++]=G[T++],2<(R-=3););R&&(G[d++]=G[T++],1<R&&(G[d++]=G[T++]))}break}}break}}while(l<c&&d<f);l-=R=x>>3,b&=(1<<(x-=R<<3))-1,o.next_in=l,o.next_out=d,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=d<f?f-d+257:257-(d-f),s.hold=b,s.bits=x}},{}],49:[function(r,n,i){var o=r("../utils/common"),a=r("./adler32"),s=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),d=1,h=2,f=0,p=-2,g=1,m=852,y=592;function v(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(T){var D;return T&&T.state?(D=T.state,T.total_in=T.total_out=D.total=0,T.msg="",D.wrap&&(T.adler=1&D.wrap),D.mode=g,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new o.Buf32(m),D.distcode=D.distdyn=new o.Buf32(y),D.sane=1,D.back=-1,f):p}function w(T){var D;return T&&T.state?((D=T.state).wsize=0,D.whave=0,D.wnext=0,x(T)):p}function S(T,D){var _,G;return T&&T.state?(G=T.state,D<0?(_=0,D=-D):(_=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?p:(G.window!==null&&G.wbits!==D&&(G.window=null),G.wrap=_,G.wbits=D,w(T))):p}function k(T,D){var _,G;return T?(G=new b,(T.state=G).window=null,(_=S(T,D))!==f&&(T.state=null),_):p}var C,P,E=!0;function R(T){if(E){var D;for(C=new o.Buf32(512),P=new o.Buf32(32),D=0;D<144;)T.lens[D++]=8;for(;D<256;)T.lens[D++]=9;for(;D<280;)T.lens[D++]=7;for(;D<288;)T.lens[D++]=8;for(c(d,T.lens,0,288,C,0,T.work,{bits:9}),D=0;D<32;)T.lens[D++]=5;c(h,T.lens,0,32,P,0,T.work,{bits:5}),E=!1}T.lencode=C,T.lenbits=9,T.distcode=P,T.distbits=5}function N(T,D,_,G){var U,O=T.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new o.Buf8(O.wsize)),G>=O.wsize?(o.arraySet(O.window,D,_-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(G<(U=O.wsize-O.wnext)&&(U=G),o.arraySet(O.window,D,_-G,U,O.wnext),(G-=U)?(o.arraySet(O.window,D,_-G,G,0),O.wnext=G,O.whave=O.wsize):(O.wnext+=U,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=U))),0}i.inflateReset=w,i.inflateReset2=S,i.inflateResetKeep=x,i.inflateInit=function(T){return k(T,15)},i.inflateInit2=k,i.inflate=function(T,D){var _,G,U,O,W,A,q,B,V,he,ae,ce,Ae,Re,ke,Ee,Ze,ot,Ot,Dt,j,oe,J,I,F=0,K=new o.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return p;(_=T.state).mode===12&&(_.mode=13),W=T.next_out,U=T.output,q=T.avail_out,O=T.next_in,G=T.input,A=T.avail_in,B=_.hold,V=_.bits,he=A,ae=q,oe=f;e:for(;;)switch(_.mode){case g:if(_.wrap===0){_.mode=13;break}for(;V<16;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(2&_.wrap&&B===35615){K[_.check=0]=255&B,K[1]=B>>>8&255,_.check=s(_.check,K,2,0),V=B=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&B)<<8)+(B>>8))%31){T.msg="incorrect header check",_.mode=30;break}if((15&B)!=8){T.msg="unknown compression method",_.mode=30;break}if(V-=4,j=8+(15&(B>>>=4)),_.wbits===0)_.wbits=j;else if(j>_.wbits){T.msg="invalid window size",_.mode=30;break}_.dmax=1<<j,T.adler=_.check=1,_.mode=512&B?10:12,V=B=0;break;case 2:for(;V<16;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(_.flags=B,(255&_.flags)!=8){T.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){T.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=B>>8&1),512&_.flags&&(K[0]=255&B,K[1]=B>>>8&255,_.check=s(_.check,K,2,0)),V=B=0,_.mode=3;case 3:for(;V<32;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}_.head&&(_.head.time=B),512&_.flags&&(K[0]=255&B,K[1]=B>>>8&255,K[2]=B>>>16&255,K[3]=B>>>24&255,_.check=s(_.check,K,4,0)),V=B=0,_.mode=4;case 4:for(;V<16;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}_.head&&(_.head.xflags=255&B,_.head.os=B>>8),512&_.flags&&(K[0]=255&B,K[1]=B>>>8&255,_.check=s(_.check,K,2,0)),V=B=0,_.mode=5;case 5:if(1024&_.flags){for(;V<16;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}_.length=B,_.head&&(_.head.extra_len=B),512&_.flags&&(K[0]=255&B,K[1]=B>>>8&255,_.check=s(_.check,K,2,0)),V=B=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(A<(ce=_.length)&&(ce=A),ce&&(_.head&&(j=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),o.arraySet(_.head.extra,G,O,ce,j)),512&_.flags&&(_.check=s(_.check,G,ce,O)),A-=ce,O+=ce,_.length-=ce),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(A===0)break e;for(ce=0;j=G[O+ce++],_.head&&j&&_.length<65536&&(_.head.name+=String.fromCharCode(j)),j&&ce<A;);if(512&_.flags&&(_.check=s(_.check,G,ce,O)),A-=ce,O+=ce,j)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(A===0)break e;for(ce=0;j=G[O+ce++],_.head&&j&&_.length<65536&&(_.head.comment+=String.fromCharCode(j)),j&&ce<A;);if(512&_.flags&&(_.check=s(_.check,G,ce,O)),A-=ce,O+=ce,j)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;V<16;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(B!==(65535&_.check)){T.msg="header crc mismatch",_.mode=30;break}V=B=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),T.adler=_.check=0,_.mode=12;break;case 10:for(;V<32;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}T.adler=_.check=v(B),V=B=0,_.mode=11;case 11:if(_.havedict===0)return T.next_out=W,T.avail_out=q,T.next_in=O,T.avail_in=A,_.hold=B,_.bits=V,2;T.adler=_.check=1,_.mode=12;case 12:if(D===5||D===6)break e;case 13:if(_.last){B>>>=7&V,V-=7&V,_.mode=27;break}for(;V<3;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}switch(_.last=1&B,V-=1,3&(B>>>=1)){case 0:_.mode=14;break;case 1:if(R(_),_.mode=20,D!==6)break;B>>>=2,V-=2;break e;case 2:_.mode=17;break;case 3:T.msg="invalid block type",_.mode=30}B>>>=2,V-=2;break;case 14:for(B>>>=7&V,V-=7&V;V<32;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if((65535&B)!=(B>>>16^65535)){T.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&B,V=B=0,_.mode=15,D===6)break e;case 15:_.mode=16;case 16:if(ce=_.length){if(A<ce&&(ce=A),q<ce&&(ce=q),ce===0)break e;o.arraySet(U,G,O,ce,W),A-=ce,O+=ce,q-=ce,W+=ce,_.length-=ce;break}_.mode=12;break;case 17:for(;V<14;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(_.nlen=257+(31&B),B>>>=5,V-=5,_.ndist=1+(31&B),B>>>=5,V-=5,_.ncode=4+(15&B),B>>>=4,V-=4,286<_.nlen||30<_.ndist){T.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;V<3;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}_.lens[ee[_.have++]]=7&B,B>>>=3,V-=3}for(;_.have<19;)_.lens[ee[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,J={bits:_.lenbits},oe=c(0,_.lens,0,19,_.lencode,0,_.work,J),_.lenbits=J.bits,oe){T.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;Ee=(F=_.lencode[B&(1<<_.lenbits)-1])>>>16&255,Ze=65535&F,!((ke=F>>>24)<=V);){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(Ze<16)B>>>=ke,V-=ke,_.lens[_.have++]=Ze;else{if(Ze===16){for(I=ke+2;V<I;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(B>>>=ke,V-=ke,_.have===0){T.msg="invalid bit length repeat",_.mode=30;break}j=_.lens[_.have-1],ce=3+(3&B),B>>>=2,V-=2}else if(Ze===17){for(I=ke+3;V<I;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}V-=ke,j=0,ce=3+(7&(B>>>=ke)),B>>>=3,V-=3}else{for(I=ke+7;V<I;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}V-=ke,j=0,ce=11+(127&(B>>>=ke)),B>>>=7,V-=7}if(_.have+ce>_.nlen+_.ndist){T.msg="invalid bit length repeat",_.mode=30;break}for(;ce--;)_.lens[_.have++]=j}}if(_.mode===30)break;if(_.lens[256]===0){T.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,J={bits:_.lenbits},oe=c(d,_.lens,0,_.nlen,_.lencode,0,_.work,J),_.lenbits=J.bits,oe){T.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,J={bits:_.distbits},oe=c(h,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,J),_.distbits=J.bits,oe){T.msg="invalid distances set",_.mode=30;break}if(_.mode=20,D===6)break e;case 20:_.mode=21;case 21:if(6<=A&&258<=q){T.next_out=W,T.avail_out=q,T.next_in=O,T.avail_in=A,_.hold=B,_.bits=V,l(T,ae),W=T.next_out,U=T.output,q=T.avail_out,O=T.next_in,G=T.input,A=T.avail_in,B=_.hold,V=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;Ee=(F=_.lencode[B&(1<<_.lenbits)-1])>>>16&255,Ze=65535&F,!((ke=F>>>24)<=V);){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(Ee&&!(240&Ee)){for(ot=ke,Ot=Ee,Dt=Ze;Ee=(F=_.lencode[Dt+((B&(1<<ot+Ot)-1)>>ot)])>>>16&255,Ze=65535&F,!(ot+(ke=F>>>24)<=V);){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}B>>>=ot,V-=ot,_.back+=ot}if(B>>>=ke,V-=ke,_.back+=ke,_.length=Ze,Ee===0){_.mode=26;break}if(32&Ee){_.back=-1,_.mode=12;break}if(64&Ee){T.msg="invalid literal/length code",_.mode=30;break}_.extra=15&Ee,_.mode=22;case 22:if(_.extra){for(I=_.extra;V<I;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}_.length+=B&(1<<_.extra)-1,B>>>=_.extra,V-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;Ee=(F=_.distcode[B&(1<<_.distbits)-1])>>>16&255,Ze=65535&F,!((ke=F>>>24)<=V);){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(!(240&Ee)){for(ot=ke,Ot=Ee,Dt=Ze;Ee=(F=_.distcode[Dt+((B&(1<<ot+Ot)-1)>>ot)])>>>16&255,Ze=65535&F,!(ot+(ke=F>>>24)<=V);){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}B>>>=ot,V-=ot,_.back+=ot}if(B>>>=ke,V-=ke,_.back+=ke,64&Ee){T.msg="invalid distance code",_.mode=30;break}_.offset=Ze,_.extra=15&Ee,_.mode=24;case 24:if(_.extra){for(I=_.extra;V<I;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}_.offset+=B&(1<<_.extra)-1,B>>>=_.extra,V-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){T.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(q===0)break e;if(ce=ae-q,_.offset>ce){if((ce=_.offset-ce)>_.whave&&_.sane){T.msg="invalid distance too far back",_.mode=30;break}Ae=ce>_.wnext?(ce-=_.wnext,_.wsize-ce):_.wnext-ce,ce>_.length&&(ce=_.length),Re=_.window}else Re=U,Ae=W-_.offset,ce=_.length;for(q<ce&&(ce=q),q-=ce,_.length-=ce;U[W++]=Re[Ae++],--ce;);_.length===0&&(_.mode=21);break;case 26:if(q===0)break e;U[W++]=_.length,q--,_.mode=21;break;case 27:if(_.wrap){for(;V<32;){if(A===0)break e;A--,B|=G[O++]<<V,V+=8}if(ae-=q,T.total_out+=ae,_.total+=ae,ae&&(T.adler=_.check=_.flags?s(_.check,U,ae,W-ae):a(_.check,U,ae,W-ae)),ae=q,(_.flags?B:v(B))!==_.check){T.msg="incorrect data check",_.mode=30;break}V=B=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;V<32;){if(A===0)break e;A--,B+=G[O++]<<V,V+=8}if(B!==(4294967295&_.total)){T.msg="incorrect length check",_.mode=30;break}V=B=0}_.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;case 32:default:return p}return T.next_out=W,T.avail_out=q,T.next_in=O,T.avail_in=A,_.hold=B,_.bits=V,(_.wsize||ae!==T.avail_out&&_.mode<30&&(_.mode<27||D!==4))&&N(T,T.output,T.next_out,ae-T.avail_out)?(_.mode=31,-4):(he-=T.avail_in,ae-=T.avail_out,T.total_in+=he,T.total_out+=ae,_.total+=ae,_.wrap&&ae&&(T.adler=_.check=_.flags?s(_.check,U,ae,T.next_out-ae):a(_.check,U,ae,T.next_out-ae)),T.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(he==0&&ae===0||D===4)&&oe===f&&(oe=-5),oe)},i.inflateEnd=function(T){if(!T||!T.state)return p;var D=T.state;return D.window&&(D.window=null),T.state=null,f},i.inflateGetHeader=function(T,D){var _;return T&&T.state&&2&(_=T.state).wrap?((_.head=D).done=!1,f):p},i.inflateSetDictionary=function(T,D){var _,G=D.length;return T&&T.state?(_=T.state).wrap!==0&&_.mode!==11?p:_.mode===11&&a(1,D,G,0)!==_.check?-3:N(T,D,G,G)?(_.mode=31,-4):(_.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var o=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,f,p,g,m,y,v){var b,x,w,S,k,C,P,E,R,N=v.bits,T=0,D=0,_=0,G=0,U=0,O=0,W=0,A=0,q=0,B=0,V=null,he=0,ae=new o.Buf16(16),ce=new o.Buf16(16),Ae=null,Re=0;for(T=0;T<=15;T++)ae[T]=0;for(D=0;D<p;D++)ae[h[f+D]]++;for(U=N,G=15;1<=G&&ae[G]===0;G--);if(G<U&&(U=G),G===0)return g[m++]=20971520,g[m++]=20971520,v.bits=1,0;for(_=1;_<G&&ae[_]===0;_++);for(U<_&&(U=_),T=A=1;T<=15;T++)if(A<<=1,(A-=ae[T])<0)return-1;if(0<A&&(d===0||G!==1))return-1;for(ce[1]=0,T=1;T<15;T++)ce[T+1]=ce[T]+ae[T];for(D=0;D<p;D++)h[f+D]!==0&&(y[ce[h[f+D]]++]=D);if(C=d===0?(V=Ae=y,19):d===1?(V=a,he-=257,Ae=s,Re-=257,256):(V=l,Ae=c,-1),T=_,k=m,W=D=B=0,w=-1,S=(q=1<<(O=U))-1,d===1&&852<q||d===2&&592<q)return 1;for(;;){for(P=T-W,R=y[D]<C?(E=0,y[D]):y[D]>C?(E=Ae[Re+y[D]],V[he+y[D]]):(E=96,0),b=1<<T-W,_=x=1<<O;g[k+(B>>W)+(x-=b)]=P<<24|E<<16|R|0,x!==0;);for(b=1<<T-1;B&b;)b>>=1;if(b!==0?(B&=b-1,B+=b):B=0,D++,--ae[T]==0){if(T===G)break;T=h[f+y[D]]}if(U<T&&(B&S)!==w){for(W===0&&(W=U),k+=_,A=1<<(O=T-W);O+W<G&&!((A-=ae[O+W])<=0);)O++,A<<=1;if(q+=1<<O,d===1&&852<q||d===2&&592<q)return 1;g[w=B&S]=U<<24|O<<16|k-m|0}}return B!==0&&(g[k+B]=T-W<<24|64<<16|0),v.bits=U,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var o=r("../utils/common"),a=0,s=1;function l(F){for(var K=F.length;0<=--K;)F[K]=0}var c=0,d=29,h=256,f=h+1+d,p=30,g=19,m=2*f+1,y=15,v=16,b=7,x=256,w=16,S=17,k=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(f+2));l(N);var T=new Array(2*p);l(T);var D=new Array(512);l(D);var _=new Array(256);l(_);var G=new Array(d);l(G);var U,O,W,A=new Array(p);function q(F,K,ee,ie,Z){this.static_tree=F,this.extra_bits=K,this.extra_base=ee,this.elems=ie,this.max_length=Z,this.has_stree=F&&F.length}function B(F,K){this.dyn_tree=F,this.max_code=0,this.stat_desc=K}function V(F){return F<256?D[F]:D[256+(F>>>7)]}function he(F,K){F.pending_buf[F.pending++]=255&K,F.pending_buf[F.pending++]=K>>>8&255}function ae(F,K,ee){F.bi_valid>v-ee?(F.bi_buf|=K<<F.bi_valid&65535,he(F,F.bi_buf),F.bi_buf=K>>v-F.bi_valid,F.bi_valid+=ee-v):(F.bi_buf|=K<<F.bi_valid&65535,F.bi_valid+=ee)}function ce(F,K,ee){ae(F,ee[2*K],ee[2*K+1])}function Ae(F,K){for(var ee=0;ee|=1&F,F>>>=1,ee<<=1,0<--K;);return ee>>>1}function Re(F,K,ee){var ie,Z,$=new Array(y+1),le=0;for(ie=1;ie<=y;ie++)$[ie]=le=le+ee[ie-1]<<1;for(Z=0;Z<=K;Z++){var re=F[2*Z+1];re!==0&&(F[2*Z]=Ae($[re]++,re))}}function ke(F){var K;for(K=0;K<f;K++)F.dyn_ltree[2*K]=0;for(K=0;K<p;K++)F.dyn_dtree[2*K]=0;for(K=0;K<g;K++)F.bl_tree[2*K]=0;F.dyn_ltree[2*x]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function Ee(F){8<F.bi_valid?he(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function Ze(F,K,ee,ie){var Z=2*K,$=2*ee;return F[Z]<F[$]||F[Z]===F[$]&&ie[K]<=ie[ee]}function ot(F,K,ee){for(var ie=F.heap[ee],Z=ee<<1;Z<=F.heap_len&&(Z<F.heap_len&&Ze(K,F.heap[Z+1],F.heap[Z],F.depth)&&Z++,!Ze(K,ie,F.heap[Z],F.depth));)F.heap[ee]=F.heap[Z],ee=Z,Z<<=1;F.heap[ee]=ie}function Ot(F,K,ee){var ie,Z,$,le,re=0;if(F.last_lit!==0)for(;ie=F.pending_buf[F.d_buf+2*re]<<8|F.pending_buf[F.d_buf+2*re+1],Z=F.pending_buf[F.l_buf+re],re++,ie===0?ce(F,Z,K):(ce(F,($=_[Z])+h+1,K),(le=C[$])!==0&&ae(F,Z-=G[$],le),ce(F,$=V(--ie),ee),(le=P[$])!==0&&ae(F,ie-=A[$],le)),re<F.last_lit;);ce(F,x,K)}function Dt(F,K){var ee,ie,Z,$=K.dyn_tree,le=K.stat_desc.static_tree,re=K.stat_desc.has_stree,X=K.stat_desc.elems,ne=-1;for(F.heap_len=0,F.heap_max=m,ee=0;ee<X;ee++)$[2*ee]!==0?(F.heap[++F.heap_len]=ne=ee,F.depth[ee]=0):$[2*ee+1]=0;for(;F.heap_len<2;)$[2*(Z=F.heap[++F.heap_len]=ne<2?++ne:0)]=1,F.depth[Z]=0,F.opt_len--,re&&(F.static_len-=le[2*Z+1]);for(K.max_code=ne,ee=F.heap_len>>1;1<=ee;ee--)ot(F,$,ee);for(Z=X;ee=F.heap[1],F.heap[1]=F.heap[F.heap_len--],ot(F,$,1),ie=F.heap[1],F.heap[--F.heap_max]=ee,F.heap[--F.heap_max]=ie,$[2*Z]=$[2*ee]+$[2*ie],F.depth[Z]=(F.depth[ee]>=F.depth[ie]?F.depth[ee]:F.depth[ie])+1,$[2*ee+1]=$[2*ie+1]=Z,F.heap[1]=Z++,ot(F,$,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],function(se,me){var _e,be,Je,pe,it,rt,st=me.dyn_tree,Ut=me.max_code,bt=me.stat_desc.static_tree,Ue=me.stat_desc.has_stree,lt=me.stat_desc.extra_bits,It=me.stat_desc.extra_base,ct=me.stat_desc.max_length,Xt=0;for(pe=0;pe<=y;pe++)se.bl_count[pe]=0;for(st[2*se.heap[se.heap_max]+1]=0,_e=se.heap_max+1;_e<m;_e++)ct<(pe=st[2*st[2*(be=se.heap[_e])+1]+1]+1)&&(pe=ct,Xt++),st[2*be+1]=pe,Ut<be||(se.bl_count[pe]++,it=0,It<=be&&(it=lt[be-It]),rt=st[2*be],se.opt_len+=rt*(pe+it),Ue&&(se.static_len+=rt*(bt[2*be+1]+it)));if(Xt!==0){do{for(pe=ct-1;se.bl_count[pe]===0;)pe--;se.bl_count[pe]--,se.bl_count[pe+1]+=2,se.bl_count[ct]--,Xt-=2}while(0<Xt);for(pe=ct;pe!==0;pe--)for(be=se.bl_count[pe];be!==0;)Ut<(Je=se.heap[--_e])||(st[2*Je+1]!==pe&&(se.opt_len+=(pe-st[2*Je+1])*st[2*Je],st[2*Je+1]=pe),be--)}}(F,K),Re($,ne,F.bl_count)}function j(F,K,ee){var ie,Z,$=-1,le=K[1],re=0,X=7,ne=4;for(le===0&&(X=138,ne=3),K[2*(ee+1)+1]=65535,ie=0;ie<=ee;ie++)Z=le,le=K[2*(ie+1)+1],++re<X&&Z===le||(re<ne?F.bl_tree[2*Z]+=re:Z!==0?(Z!==$&&F.bl_tree[2*Z]++,F.bl_tree[2*w]++):re<=10?F.bl_tree[2*S]++:F.bl_tree[2*k]++,$=Z,ne=(re=0)===le?(X=138,3):Z===le?(X=6,3):(X=7,4))}function oe(F,K,ee){var ie,Z,$=-1,le=K[1],re=0,X=7,ne=4;for(le===0&&(X=138,ne=3),ie=0;ie<=ee;ie++)if(Z=le,le=K[2*(ie+1)+1],!(++re<X&&Z===le)){if(re<ne)for(;ce(F,Z,F.bl_tree),--re!=0;);else Z!==0?(Z!==$&&(ce(F,Z,F.bl_tree),re--),ce(F,w,F.bl_tree),ae(F,re-3,2)):re<=10?(ce(F,S,F.bl_tree),ae(F,re-3,3)):(ce(F,k,F.bl_tree),ae(F,re-11,7));$=Z,ne=(re=0)===le?(X=138,3):Z===le?(X=6,3):(X=7,4)}}l(A);var J=!1;function I(F,K,ee,ie){ae(F,(c<<1)+(ie?1:0),3),function(Z,$,le,re){Ee(Z),he(Z,le),he(Z,~le),o.arraySet(Z.pending_buf,Z.window,$,le,Z.pending),Z.pending+=le}(F,K,ee)}i._tr_init=function(F){J||(function(){var K,ee,ie,Z,$,le=new Array(y+1);for(Z=ie=0;Z<d-1;Z++)for(G[Z]=ie,K=0;K<1<<C[Z];K++)_[ie++]=Z;for(_[ie-1]=Z,Z=$=0;Z<16;Z++)for(A[Z]=$,K=0;K<1<<P[Z];K++)D[$++]=Z;for($>>=7;Z<p;Z++)for(A[Z]=$<<7,K=0;K<1<<P[Z]-7;K++)D[256+$++]=Z;for(ee=0;ee<=y;ee++)le[ee]=0;for(K=0;K<=143;)N[2*K+1]=8,K++,le[8]++;for(;K<=255;)N[2*K+1]=9,K++,le[9]++;for(;K<=279;)N[2*K+1]=7,K++,le[7]++;for(;K<=287;)N[2*K+1]=8,K++,le[8]++;for(Re(N,f+1,le),K=0;K<p;K++)T[2*K+1]=5,T[2*K]=Ae(K,5);U=new q(N,C,h+1,f,y),O=new q(T,P,0,p,y),W=new q(new Array(0),E,0,g,b)}(),J=!0),F.l_desc=new B(F.dyn_ltree,U),F.d_desc=new B(F.dyn_dtree,O),F.bl_desc=new B(F.bl_tree,W),F.bi_buf=0,F.bi_valid=0,ke(F)},i._tr_stored_block=I,i._tr_flush_block=function(F,K,ee,ie){var Z,$,le=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=function(re){var X,ne=4093624447;for(X=0;X<=31;X++,ne>>>=1)if(1&ne&&re.dyn_ltree[2*X]!==0)return a;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return s;for(X=32;X<h;X++)if(re.dyn_ltree[2*X]!==0)return s;return a}(F)),Dt(F,F.l_desc),Dt(F,F.d_desc),le=function(re){var X;for(j(re,re.dyn_ltree,re.l_desc.max_code),j(re,re.dyn_dtree,re.d_desc.max_code),Dt(re,re.bl_desc),X=g-1;3<=X&&re.bl_tree[2*R[X]+1]===0;X--);return re.opt_len+=3*(X+1)+5+5+4,X}(F),Z=F.opt_len+3+7>>>3,($=F.static_len+3+7>>>3)<=Z&&(Z=$)):Z=$=ee+5,ee+4<=Z&&K!==-1?I(F,K,ee,ie):F.strategy===4||$===Z?(ae(F,2+(ie?1:0),3),Ot(F,N,T)):(ae(F,4+(ie?1:0),3),function(re,X,ne,se){var me;for(ae(re,X-257,5),ae(re,ne-1,5),ae(re,se-4,4),me=0;me<se;me++)ae(re,re.bl_tree[2*R[me]+1],3);oe(re,re.dyn_ltree,X-1),oe(re,re.dyn_dtree,ne-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,le+1),Ot(F,F.dyn_ltree,F.dyn_dtree)),ke(F),ie&&Ee(F)},i._tr_tally=function(F,K,ee){return F.pending_buf[F.d_buf+2*F.last_lit]=K>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&K,F.pending_buf[F.l_buf+F.last_lit]=255&ee,F.last_lit++,K===0?F.dyn_ltree[2*ee]++:(F.matches++,K--,F.dyn_ltree[2*(_[ee]+h+1)]++,F.dyn_dtree[2*V(K)]++),F.last_lit===F.lit_bufsize-1},i._tr_align=function(F){ae(F,2,3),ce(F,x,N),function(K){K.bi_valid===16?(he(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)}(F)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(o){(function(a,s){if(!a.setImmediate){var l,c,d,h,f=1,p={},g=!1,m=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(w){process.nextTick(function(){b(w)})}:function(){if(a.postMessage&&!a.importScripts){var w=!0,S=a.onmessage;return a.onmessage=function(){w=!1},a.postMessage("","*"),a.onmessage=S,w}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(w){a.postMessage(h+w,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(w){b(w.data)},function(w){d.port2.postMessage(w)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(w){var S=m.createElement("script");S.onreadystatechange=function(){b(w),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(w){setTimeout(b,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var S=new Array(arguments.length-1),k=0;k<S.length;k++)S[k]=arguments[k+1];var C={callback:w,args:S};return p[f]=C,l(f),f++},y.clearImmediate=v}function v(w){delete p[w]}function b(w){if(g)setTimeout(b,0,w);else{var S=p[w];if(S){g=!0;try{(function(k){var C=k.callback,P=k.args;switch(P.length){case 0:C();break;case 1:C(P[0]);break;case 2:C(P[0],P[1]);break;case 3:C(P[0],P[1],P[2]);break;default:C.apply(s,P)}})(S)}finally{v(w),g=!1}}}}function x(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(h)===0&&b(+w.data.slice(h.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Oo<"u"?Oo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(l5);var GX=l5.exports;const qX=id(GX);function KX(t){let e="",r=t;for(;r>=0;)e=String.fromCharCode(r%26+65)+e,r=Math.floor(r/26)-1;return e}function XX(t,e){return`${KX(t)}${e+1}`}async function ZX(t,e,r="design"){const i=Math.ceil(e.width/1e3),o=Math.ceil(e.length/1e3);console.log(`[SLICER] Creating ${i}${o} grid (${i*o} tiles) for ${e.width}mm  ${e.length}mm design`);const l=new DOMParser().parseFromString(t,"image/svg+xml").querySelector("svg");if(!l)throw new Error("Invalid SVG content");const c=l.getAttribute("viewBox");let d,h;if(c){const C=c.split(/\s+/).map(Number);d=C[2],h=C[3]}else d=parseFloat(l.getAttribute("width"))||1024,h=parseFloat(l.getAttribute("height"))||1024;console.log(`[SLICER] SVG internal dimensions: ${d}  ${h}`);const f=d/e.width,p=h/e.length,g=1e3*f,m=1e3*p;console.log(`[SLICER] Tile size in SVG units: ${g}  ${m}`);const y=l.innerHTML,v=l.getAttribute("xmlns")||"http://www.w3.org/2000/svg",b=new qX,x=b.folder("tiles"),w=[];for(let C=0;C<o;C++){const P=[];for(let E=0;E<i;E++){const R=XX(E,C);P.push(R);const N=E*g,T=C*m,D=`${N} ${T} ${g} ${m}`,_=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="${v}" viewBox="${D}" width="1000mm" height="1000mm">
  <defs>
    <clipPath id="tile-clip">
      <rect x="${N}" y="${T}" width="${g}" height="${m}"/>
    </clipPath>
  </defs>
  <g clip-path="url(#tile-clip)">
${y}
  </g>
</svg>`,G=`${c5(r)}_${R}.svg`;x.file(G,_)}w.push(P)}const S=YX(w,e,r);b.file("layout-guide.txt",S);const k=await b.generateAsync({type:"blob"});return console.log(`[SLICER] Created ZIP with ${i*o} tiles`),k}function YX(t,e,r){const n=t.length,i=t[0].length;let o=`TPV Studio - Tile Layout Guide
================================

Design: ${r}
Total Size: ${e.width}mm  ${e.length}mm (${e.width/1e3}m  ${e.length/1e3}m)
Tile Size: 1000mm  1000mm (1m  1m)
Grid: ${i} columns  ${n} rows (${i*n} tiles)

Layout (view from above):
-------------------------

`;const a=6;o+=""+("".repeat(a)+"").repeat(i-1)+"".repeat(a)+`
`;for(let s=0;s<n;s++){o+="";for(let l=0;l<i;l++){const c=t[s][l],d=a-c.length,h=Math.floor(d/2),f=d-h;o+=" ".repeat(h)+c+" ".repeat(f)+""}o+=`
`,s<n-1?o+=""+("".repeat(a)+"").repeat(i-1)+"".repeat(a)+`
`:o+=""+("".repeat(a)+"").repeat(i-1)+"".repeat(a)+`
`}return o+=`
Installation Notes:
-------------------
- Each tile is exactly 1m  1m
- Tiles are named by column (A-Z) and row (1-${n})
- Start from top-left corner (A1) when laying out
- Tiles align perfectly when placed edge-to-edge
- Edge tiles may contain partial content if design isn't exactly divisible by 1m

Generated by TPV Studio
`,o}function c5(t){return t.replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g,"-").substring(0,50)}function JX(t,e){const r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}async function QX(t,e,r="design"){try{const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch SVG: ${n.statusText}`);const i=await n.text(),o=await ZX(i,e,r),a=`${c5(r)}-tiles-1mx1m.zip`;return JX(o,a),console.log(`[SLICER] Downloaded ${a}`),!0}catch(n){throw console.error("[SLICER] Failed to download tiles:",n),n}}function $X({loadedDesign:t,onDesignSaved:e}){var Gd;const r=dN(),{inputMode:n,prompt:i,lengthMM:o,widthMM:a,arMapping:s,uploadedFileUrl:l,result:c,jobId:d,blendRecipes:h,colorMapping:f,blendSvgUrl:p,blendEditedColors:g,solidRecipes:m,solidColorMapping:y,solidSvgUrl:v,solidEditedColors:b,viewMode:x,showFinalRecipes:w,showSolidSummary:S,regionOverrides:k,originalTaggedSvg:C,regionOverridesHistory:P,historyIndex:E,designName:R,currentDesignId:N,hasUnsavedChanges:T,resetDesign:D}=r,_=r.setInputMode,G=r.setPrompt,U=r.setDimensions,O=r.setArMapping;r.setGenerationResult;const W=r.setResult,A=r.setJobId;r.setBlendState;const q=r.setBlendRecipes,B=r.setColorMapping,V=r.setBlendSvgUrl;r.setSolidState;const he=r.setSolidRecipes,ae=r.setSolidColorMapping,ce=r.setSolidSvgUrl;r.updateBlendSvgUrl,r.updateSolidSvgUrl;const Ae=r.setBlendEditedColors,Re=r.setSolidEditedColors,ke=r.setViewMode,Ee=r.setShowFinalRecipes,Ze=r.setShowSolidSummary,ot=r.setRegionOverrides;r.addRegionOverride;const Ot=r.setOriginalTaggedSvg,Dt=r.setRegionOverridesHistory,j=r.setHistoryIndex;r.canUndo,r.canRedo,r.undo,r.redo;const oe=r.setDesignName,J=r.setCurrentDesignId,I=r.loadDesign,F=te=>U(te,o),K=te=>U(a,te),[ee,ie]=H.useState(null),[Z,$]=H.useState(null),[le,re]=H.useState(!1),[X,ne]=H.useState(!1),[se,me]=H.useState(null),[_e,be]=H.useState(null),[Je,pe]=H.useState(""),[it,rt]=H.useState(null),[st,Ut]=H.useState(!1),[bt,Ue]=H.useState(null),[lt,It]=H.useState(!1),[ct,Xt]=H.useState(null),[En,Ad]=H.useState([]),[cc,Nd]=H.useState(!1),[uc,sr]=H.useState(!1),[cn,Fi]=H.useState(null),[dc,ds]=H.useState(!1),[Fd,Dd]=H.useState(!1),[Id,hs]=H.useState(!1),[Md,lr]=H.useState(null),[Ld,At]=H.useState(!1),[zd,Et]=H.useState(null),[gi,Jr]=H.useState(null),[ho,fs]=H.useState(null),fo=H.useRef(null);H.useEffect(()=>{(v||p)&&fo.current&&!uc&&!st&&setTimeout(()=>{var te;(te=fo.current)==null||te.scrollIntoView({behavior:"smooth",block:"start"})},300)},[v,p,uc,st]),H.useEffect(()=>{(async()=>{try{const ue=await Km({limit:1,offset:0});fs(ue.designs.length>0),console.log("[INSPIRE] Existing designs check:",ue.designs.length>0?"User has designs":"No designs found")}catch(ue){console.error("[INSPIRE] Failed to check for existing designs:",ue),fs(!0)}})()},[]),H.useEffect(()=>{n==="image"||n==="svg"?(U(null,null),console.log("[DIMENSION] Reset dimensions for upload mode:",n)):n==="prompt"&&(a===null||o===null)&&(U(5e3,5e3),console.log("[DIMENSION] Restored default dimensions for prompt mode"))},[n,U]),H.useEffect(()=>()=>{p&&p.startsWith("blob:")&&URL.revokeObjectURL(p),v&&v.startsWith("blob:")&&URL.revokeObjectURL(v)},[]),H.useEffect(()=>{const te=ue=>{ue.key==="Escape"&&lt&&(It(!1),Xt(null))};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[lt]),H.useEffect(()=>{En.length>0&&!cc&&vc()},[En,cc]),H.useEffect(()=>{if(t){console.log("[INSPIRE] Loading design data:",t);const te=hX(t);console.log("[INSPIRE] Restored state:",te),I(te),t.name&&oe(t.name),t.id&&J(t.id),console.log("[INSPIRE] Loaded design:",t.name),setTimeout(async()=>{var ue;if((ue=te.result)!=null&&ue.svg_url){console.log("[INSPIRE] Regenerating SVGs from loaded design");let xe=null;try{const nt=await(await fetch(te.result.svg_url)).text();xe=z2(nt),Ot(xe),console.log("[INSPIRE] Tagged SVG with region IDs for loaded design")}catch(Se){console.error("[INSPIRE] Failed to tag SVG regions:",Se)}try{te.blendRecipes&&te.colorMapping&&await cr(te.result.svg_url,te.colorMapping,te.blendRecipes,te.blendEditedColors,xe),te.solidRecipes&&te.solidColorMapping&&await mo(te.result.svg_url,te.solidColorMapping,te.solidRecipes,te.solidEditedColors,xe)}catch(Se){console.error("[INSPIRE] Failed to regenerate SVGs:",Se),be("Failed to restore design preview. Please try reloading.")}}},100)}},[t,I,oe,J,Ot]);const hc=te=>{var nt;const ue=(nt=te.target.files)==null?void 0:nt[0];if(!ue){ie(null);return}const Se=W2(ue,{maxSizeMB:10,allowedTypes:n==="image"?["image/png","image/jpeg"]:["image/svg+xml"]});if(!Se.valid){be(Se.error),ie(null);return}ie(ue),be(null)},fc=te=>{te.preventDefault(),te.stopPropagation(),re(!0)},Di=te=>{te.preventDefault(),te.stopPropagation(),te.currentTarget===te.target&&re(!1)},ca=te=>{te.preventDefault(),te.stopPropagation()},mi=te=>{te.preventDefault(),te.stopPropagation(),re(!1);const ue=te.dataTransfer.files;if(ue&&ue.length>0){const xe=ue[0],nt=W2(xe,{maxSizeMB:10,allowedTypes:n==="image"?["image/png","image/jpeg"]:["image/svg+xml"]});if(!nt.valid){be(nt.error),ie(null);return}ie(xe),be(null)}},pc=async()=>{var te,ue;if(n==="prompt"&&!i.trim()){be("Please enter a design description");return}if((n==="image"||n==="svg")&&!ee){be("Please select a file to upload");return}be(null),ne(!0),me(null),W(null),A(null),pe("Initialising..."),rt(null);try{let xe;if(n==="svg"){pe("Uploading SVG file..."),$("Uploading...");const je=await H2(ee);if(!je.success)throw new Error(je.error||"Failed to upload file");if(pe("Processing SVG..."),$(null),xe=await ba.processUploadedSVG({svg_url:je.url}),!xe.success)throw new Error(xe.error||"Failed to process SVG");A(xe.jobId),pe(" SVG uploaded successfully!"),ne(!1);const Fe=await ba.getRecraftStatus(xe.jobId);me(Fe),W(Fe.result),(te=Fe.result)!=null&&te.svg_url&&await ms(Fe.result.svg_url,xe.jobId);return}if(n==="image"){pe("Uploading image..."),$("Uploading...");const je=await H2(ee);if(!je.success)throw new Error(je.error||"Failed to upload file");if(pe("Starting vectorisation..."),$(null),xe=await ba.vectorizeImage({image_url:je.url}),!xe.success)throw new Error(xe.error||"Failed to start vectorisation");pe(" AI is vectorising your image...")}else{const je=HX(o,a);if(O(je),console.log("[TPV-STUDIO] AR Mapping:",je),console.log("[TPV-STUDIO] Layout:",WX(je)),VX(je)?pe(`Generating ${je.canonical.name} design panel...`):pe("Initialising..."),xe=await ba.generateRecraft({prompt:i.trim(),lengthMM:je.recraft.height,widthMM:je.recraft.width}),!xe.success)throw new Error(xe.error||"Failed to start generation");pe(" AI is creating your design...")}A(xe.jobId),pe("Request submitted, waiting for processing...");let Se=null,nt=Date.now();await ba.waitForRecraftCompletion(xe.jobId,je=>{var at,tt;me(je);const Fe=Math.floor((Date.now()-nt)/1e3);if(je.status==="queued"){const Nt=[` Preparing your canvas... (${Fe}s)`,` Warming up the AI brushes... (${Fe}s)`,` Queueing your masterpiece... (${Fe}s)`,` Mixing digital paints... (${Fe}s)`,` AI is contemplating your vision... (${Fe}s)`,` Selecting the perfect colours... (${Fe}s)`,` Calculating vector paths... (${Fe}s)`,` Almost ready to create... (${Fe}s)`],Mt=Math.floor(Fe/4)%Nt.length;pe(Nt[Mt])}else if(je.status==="running")if(Se!=="running")pe(" AI is creating your design..."),Se="running";else{const Nt=[` Creating vector shapes... (${Fe}s)`,` Applying colours and patterns... (${Fe}s)`,` Refining design details... (${Fe}s)`,` Finalising artwork... (${Fe}s)`],Mt=Math.floor(Fe/5)%Nt.length;pe(Nt[Mt])}else if(je.status==="retrying"){const Nt=((at=je.recraft)==null?void 0:at.attempt_current)||0,Mt=((tt=je.recraft)==null?void 0:tt.attempt_max)||3;pe(` Retrying generation (attempt ${Nt}/${Mt})...`)}});const Ne=await ba.getRecraftStatus(xe.jobId);me(Ne),W(Ne.result),Ne.status==="completed"&&(pe(" Design ready!"),ne(!1),(ue=Ne.result)!=null&&ue.svg_url&&await ms(Ne.result.svg_url,xe.jobId))}catch(xe){console.error("Generation failed:",xe),be(xe.message),pe(""),ne(!1)}},gc=()=>{const te=x==="solid"?v:p,ue=x==="solid"?"tpv-solid":"tpv-blend";if(te){const xe=document.createElement("a");xe.href=te,xe.download=`${ue}-${Date.now()}.svg`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)}},Xn=async te=>{try{const xe=await(await fetch(te)).text(),Ne=new DOMParser().parseFromString(xe,"image/svg+xml").querySelector("svg");if(!Ne)return null;let je,Fe;const at=Ne.getAttribute("viewBox");if(at){const Nt=at.split(/\s+/).map(Number);je=Nt[2],Fe=Nt[3]}else je=parseFloat(Ne.getAttribute("width"))||1024,Fe=parseFloat(Ne.getAttribute("height"))||1024;const tt=je/Fe;return console.log(`[DIMENSION] Detected aspect ratio: ${tt.toFixed(2)} (${je}${Fe})`),tt}catch(ue){return console.error("[DIMENSION] Failed to detect aspect ratio:",ue),null}},ps=(te,ue)=>{console.log(`[DIMENSION] User confirmed dimensions: ${te}mm  ${ue}mm`),F(te),K(ue),gi==="pdf"?setTimeout(()=>Ii(te,ue),100):gi==="tiles"?setTimeout(()=>mc(te,ue),100):gi==="insitu"?setTimeout(()=>hs(!0),100):gi==="save"&&setTimeout(()=>ds(!0),100),Jr(null)},ua=async()=>{const te=x==="solid"?v:p;if((n==="image"||n==="svg")&&(!a||!o)){console.log("[DIMENSION] No dimensions set for image/SVG upload, showing modal...");const ue=await Xn(te);if(ue){Et(ue),Jr("insitu"),At(!0);return}else{Et(1),Jr("insitu"),At(!0);return}}hs(!0)},Bd=()=>{const te=x==="solid"?v:p,ue=x==="solid"?"tpv-solid":"tpv-blend";if(te){const xe=new Image;xe.onload=()=>{const Se=document.createElement("canvas");Se.width=xe.naturalWidth||1e3,Se.height=xe.naturalHeight||1e3,Se.getContext("2d").drawImage(xe,0,0),Se.toBlob(Ne=>{const je=URL.createObjectURL(Ne),Fe=document.createElement("a");Fe.href=je,Fe.download=`${ue}-${Date.now()}.png`,document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe),URL.revokeObjectURL(je)})},xe.src=te}},Ud=()=>{T()&&!window.confirm(`Start a new design?

You have unsaved changes that will be lost.`)||(D(),ie(null),ne(!1),me(null),be(null),pe(""),rt(null),Ut(!1),Ue(null),It(!1),Xt(null),sr(!1),Fi(null))},y0=async()=>{const te=x==="solid"?v:p;if((n==="image"||n==="svg")&&(!a||!o)){console.log("[DIMENSION] No dimensions set for image/SVG upload, showing modal before save...");const ue=await Xn(te);if(ue){Et(ue),Jr("save"),At(!0);return}else{Et(1),Jr("save"),At(!0);return}}ds(!0)},[gs,po]=H.useState(!1),go=async()=>{const te=x==="solid"?v:p;if((n==="image"||n==="svg")&&(!a||!o)){console.log("[DIMENSION] No dimensions set for image/SVG upload, showing modal...");const ue=await Xn(te);if(ue){Et(ue),Jr("pdf"),At(!0);return}else{Et(1),Jr("pdf"),At(!0);return}}await Ii(a,o)},Ii=async(te,ue)=>{const xe=x==="solid"?v:p,Se=x==="solid"?m:h,nt=x==="solid"?"tpv-solid":"tpv-blend";if(!xe||!Se){be("Cannot generate PDF: missing SVG or recipes");return}po(!0),be(null);try{const je=await(await fetch(xe)).text(),Fe=new AbortController,at=setTimeout(()=>Fe.abort(),3e4),tt=await Xi.getSession(),Nt={"Content-Type":"application/json"};tt!=null&&tt.access_token&&(Nt.Authorization=`Bearer ${tt.access_token}`);const Mt=await fetch("/api/export-pdf",{method:"POST",headers:Nt,signal:Fe.signal,body:JSON.stringify({svgString:je,designName:R||i||"TPV Design",projectName:"TPV Studio",dimensions:{widthMM:te,lengthMM:ue},recipes:Se,mode:x,designId:d||""})});if(clearTimeout(at),!Mt.ok){const ma=Mt.headers.get("content-type");if(ma&&ma.includes("application/json")){const yc=await Mt.json();throw new Error(yc.message||"PDF generation failed")}else{const yc=await Mt.text();throw console.error("PDF API error response:",yc),new Error(`Server error: ${Mt.status}`)}}const Ht=await Mt.blob(),Ft=URL.createObjectURL(Ht),Tt=document.createElement("a");Tt.href=Ft,Tt.download=`${nt}-${Date.now()}.pdf`,document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt),URL.revokeObjectURL(Ft)}catch(Ne){console.error("PDF download error:",Ne),Ne.name==="AbortError"?be("PDF generation timed out. Please try again."):be(`PDF generation failed: ${Ne.message}`)}finally{po(!1)}},Hd=async()=>{const te=x==="solid"?v:p;if(!te){be("No SVG available to slice");return}if((n==="image"||n==="svg")&&(!a||!o)){console.log("[DIMENSION] No dimensions set for image/SVG upload, showing modal...");const ue=await Xn(te);if(ue){Et(ue),Jr("tiles"),At(!0);return}else{Et(1),Jr("tiles"),At(!0);return}}await mc(a,o)},mc=async(te,ue)=>{const xe=x==="solid"?v:p;try{await QX(xe,{width:te,length:ue},R||"tpv-design")}catch(Se){console.error("Tile download error:",Se),be(`Failed to download tiles: ${Se.message}`)}},ms=async(te=null,ue=null)=>{const xe=te||(c==null?void 0:c.svg_url),Se=ue||d;if(!xe){be("No SVG available to analyse");return}V(null),q(null),B(null),console.log("[TPV-STUDIO] Cleared old blend state, starting new blend generation"),be(null),pe(" Extracting colours from design..."),await new Promise(nt=>setTimeout(nt,100));try{const nt=await fetch("/api/blend-recipes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({svg_url:xe,job_id:Se,max_colors:15,max_components:2})}),Ne=await nt.json();if(!nt.ok)throw new Error(Ne.error||"Failed to generate blend recipes");if(Ne.success){pe(" Matching TPV granule colours..."),await new Promise(at=>setTimeout(at,300)),q(Ne.recipes);const je=PX(Ne.recipes);console.log("[TPV-STUDIO] Color mapping built with",je.size,"entries:"),Array.from(je.entries()).forEach(([at,tt])=>{console.log(`  ${at} -> ${tt.blendHex}`)}),B(je);let Fe=null;try{const tt=await(await fetch(xe)).text();Fe=z2(tt),Ot(Fe),console.log("[TPV-STUDIO] Tagged SVG with region IDs for per-element editing")}catch(at){console.error("[TPV-STUDIO] Failed to tag SVG regions:",at)}try{pe(" Generating TPV blend preview..."),await new Promise(Nt=>setTimeout(Nt,200)),console.log("[TPV-STUDIO] Generating recoloured SVG from:",xe),console.log("[TPV-STUDIO] Using mapping with",je.size,"colors");const{dataUrl:at,stats:tt}=await Ps(xe,je,Fe);V(at),pe(" TPV blend ready!"),console.log("[TPV-STUDIO] Recolour stats:",{totalColors:tt.totalColors,colorsReplaced:tt.colorsReplaced,colorsNotMapped:Array.from(tt.colorsNotMapped)}),tt.colorsNotMapped.size>0&&console.warn("[TPV-STUDIO] Some colors were not mapped:",Array.from(tt.colorsNotMapped)),ys(xe,Se,Fe)}catch(at){console.error("[TPV-STUDIO] Failed to generate recoloured SVG:",at),be(`Recipes generated successfully, but SVG recolouring failed: ${at.message}`)}}else throw new Error(Ne.error||"Unknown error generating recipes")}catch(nt){console.error("Blend generation failed:",nt),be(nt.message),pe("")}},vs=async()=>{Ut(!1),Ue(null),sr(!1),Fi(null),x==="solid"?Re(new Map):Ae(new Map),c!=null&&c.svg_url&&await ms(c.svg_url,d)},Wd=async te=>{var ue;if(!R){if(!i||n!=="prompt"){ee&&oe(`TPV Design  ${ee.name.replace(/\.[^/.]+$/,"")}`);return}Dd(!0);try{const xe=(te==null?void 0:te.slice(0,6).map(nt=>{var je,Fe;const Ne=(Fe=(je=nt.chosenRecipe)==null?void 0:je.components)==null?void 0:Fe[0];return(Ne==null?void 0:Ne.name)||null}).filter(Boolean))||[],Se=await ba.generateDesignName({prompt:i,colors:xe,dimensions:{widthMM:a,lengthMM:o}});Se.success&&((ue=Se.names)==null?void 0:ue.length)>0?oe(Se.names[0]):oe(da(i))}catch(xe){console.error("[TPV-STUDIO] Name generation failed:",xe),oe(da(i))}finally{Dd(!1)}}},da=te=>te?`TPV Design  ${te.split(/[,.]/)[0].trim().slice(0,40)}`:"TPV Playground Design",ys=async(te=null,ue=null,xe=null)=>{const Se=te||(c==null?void 0:c.svg_url),nt=ue||d,Ne=xe||C;if(Se)try{console.log("[TPV-STUDIO] Generating solid color version...");const je=await fetch("/api/solid-recipes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({svg_url:Se,job_id:nt,max_colors:15})}),Fe=await je.json();if(!je.ok)throw new Error(Fe.error||"Failed to generate solid recipes");if(Fe.success){he(Fe.recipes);const at=new Map(Object.entries(Fe.colorMapping||{}));console.log("[TPV-STUDIO] Using API colorMapping with",at.size,"entries"),ae(at);try{const{dataUrl:tt,stats:Nt}=await Ps(Se,at,Ne);ce(tt),console.log("[TPV-STUDIO] Solid color SVG generated:",Nt),Nt.colorsNotMapped&&Nt.colorsNotMapped.size>0&&console.warn("[TPV-STUDIO] Unmapped colors in solid mode:",Array.from(Nt.colorsNotMapped)),Wd(Fe.recipes)}catch(tt){console.error("[TPV-STUDIO] Failed to generate solid SVG:",tt)}}}catch(je){console.error("[TPV-STUDIO] Solid generation failed:",je)}},Tn=(te,ue="palette")=>{if(console.log("[TPV-STUDIO] Color clicked:",te,"source:",ue,"in mode:",x),lt&&ct&&ue==="palette"){bs(ct.regionId,te.hex),It(!1),Xt(null);return}ue==="palette"&&(x==="blend"?(Fi(te),sr(!0),Ee(!1)):(Ue(te),Ut(!0),Ze(!1)))},Mi=te=>{console.log("[TPV-STUDIO] Region clicked:",te),lt?(bs(ct.regionId,te.sourceColor),It(!1),Xt(null)):(It(!0),Xt(te))},bs=(te,ue)=>{console.log("[TPV-STUDIO] Queuing region recolor:",te,"->",ue),Ad(xe=>[...xe,{regionId:te,newHex:ue.toLowerCase(),viewMode:x}])},vc=async()=>{if(cc||En.length===0)return;Nd(!0);const te=En[0];console.log("[TPV-STUDIO] Processing queued region recolor:",te.regionId,"->",te.newHex);try{const ue=new Map(k);ue.set(te.regionId,te.newHex),te.viewMode==="blend"?await ga(null,null,ue):await xs(null,null,ue),ot(ue),Dt(xe=>{const Se=xe.slice(0,E+1);return Se.push(new Map(ue)),Se.length>50&&Se.shift(),Se}),j(xe=>{const Se=P.slice(0,xe+1);return Se.push(new Map(ue)),Math.min(Se.length-1,49)}),console.log("[TPV-STUDIO] Completed region recolor for:",te.regionId)}catch(ue){console.error("[TPV-STUDIO] Failed to process region recolor:",ue)}finally{Ad(ue=>ue.slice(1)),Nd(!1)}},Vd=()=>{console.log("[TPV-STUDIO] Eyedropper cancelled"),It(!1),Xt(null)},ha=async()=>{if(E<=0)return;const te=E-1,ue=P[te];console.log("[TPV-STUDIO] Undoing region override to index:",te),ot(new Map(ue)),j(te),x==="blend"?await ga(null,null,ue):await xs(null,null,ue)},fa=async()=>{if(E>=P.length-1)return;const te=E+1,ue=P[te];console.log("[TPV-STUDIO] Redoing region override to index:",te),ot(new Map(ue)),j(te),x==="blend"?await ga(null,null,ue):await xs(null,null,ue)},b0=async te=>{if(bt)if(console.log("[TPV-STUDIO] Color changed:",bt.hex,"->",te,"in mode:",x),x==="solid"){const ue=new Map(b),xe=m.find(nt=>nt.targetColor.hex.toLowerCase()===bt.hex.toLowerCase()),Se=(xe==null?void 0:xe.mergedOriginalColors)||[bt.originalHex.toLowerCase()];console.log("[TPV-STUDIO] Updating",Se.length,"merged colors:",Se),Se.forEach(nt=>{ue.set(nt,{newHex:te.toLowerCase()})}),Re(ue),Ue({...bt,hex:te,blendHex:te}),await xs(ue,te)}else{const ue=new Map(g);ue.set(bt.originalHex.toLowerCase(),{newHex:te.toLowerCase()}),Ae(ue),Ue({...bt,hex:te,blendHex:te}),await ga(ue,te)}},pa=H.useCallback(async({blendHex:te,parts:ue,recipe:xe})=>{if(!cn)return;console.log("[TPV-STUDIO] Mixer blend changed:",cn.originalHex,"->",te,"recipe:",xe);const Se=new Map(g);Se.set(cn.originalHex.toLowerCase(),{newHex:te.toLowerCase(),recipe:xe,parts:ue}),Ae(Se),Fi({...cn,hex:te,blendHex:te}),await ga(Se,te)},[cn,g,c,f]),ga=async(te=null,ue=null,xe=null)=>{if(!(!(c!=null&&c.svg_url)||!f||!h))try{const Se=new Map(f),nt=te||g;nt.forEach((Ht,Ft)=>{if(Ht.newHex){const Tt=Ft.toLowerCase();Se.set(Tt,{...Se.get(Tt),blendHex:Ht.newHex})}});const Ne=h.map(Ht=>{const Ft=nt.get(Ht.originalColor.hex.toLowerCase());if(Ft!=null&&Ft.newHex){const Tt={...Ht,targetColor:{...Ht.targetColor,hex:Ft.newHex},blendColor:{...Ht.blendColor,hex:Ft.newHex}};return Ft.recipe&&Ft.recipe.components&&(Tt.chosenRecipe={...Ht.chosenRecipe,components:Ft.recipe.components,deltaE:0,quality:"Excellent"}),Tt}return Ht}),{svgText:je,stats:Fe}=await Ps(c.svg_url,Se,C),at=xe!==null?xe:k,tt=B2(je,at);p&&p.startsWith("blob:")&&(URL.revokeObjectURL(p),console.log("[TPV-STUDIO] Revoked old blend blob URL"));const Nt=new Blob([tt],{type:"image/svg+xml"}),Mt=URL.createObjectURL(Nt);console.log("[TPV-STUDIO] Created new blend blob URL, SVG length:",tt.length),V(Mt),B(Se),q(Ne),console.log("[TPV-STUDIO] Blend SVG regenerated with edits:",Fe),at.size>0&&console.log("[TPV-STUDIO] Applied",at.size,"region overrides")}catch(Se){console.error("[TPV-STUDIO] Failed to regenerate blend SVG:",Se)}},xs=async(te=null,ue=null,xe=null)=>{if(!(!(c!=null&&c.svg_url)||!y||!m))try{const Se=new Map(y),nt=te||b;nt.forEach((Ht,Ft)=>{if(Ht.newHex){const Tt=Ft.toLowerCase();Se.set(Tt,{...Se.get(Tt),blendHex:Ht.newHex})}});const Ne=m.map(Ht=>{const Ft=nt.get(Ht.originalColor.hex.toLowerCase());if(Ft!=null&&Ft.newHex){const Tt=Ri.find(ma=>ma.hex.toLowerCase()===Ft.newHex.toLowerCase());return Tt?{...Ht,targetColor:{...Ht.targetColor,hex:Ft.newHex},blendColor:{hex:Ft.newHex,rgb:Tt.rgb,lab:Tt.lab},chosenRecipe:{components:[{code:Tt.code,name:Tt.name,hex:Tt.hex,rgb:Tt.rgb,lab:Tt.lab,ratio:1}],blendColor:{hex:Tt.hex,rgb:Tt.rgb,lab:Tt.lab},deltaE:0,quality:"Perfect"}}:{...Ht,targetColor:{...Ht.targetColor,hex:Ft.newHex},blendColor:{...Ht.blendColor,hex:Ft.newHex}}}return Ht}),{svgText:je,stats:Fe}=await Ps(c.svg_url,Se,C),at=xe!==null?xe:k,tt=B2(je,at);v&&v.startsWith("blob:")&&(URL.revokeObjectURL(v),console.log("[TPV-STUDIO] Revoked old solid blob URL"));const Nt=new Blob([tt],{type:"image/svg+xml"}),Mt=URL.createObjectURL(Nt);console.log("[TPV-STUDIO] Created new solid blob URL, SVG length:",tt.length),ce(Mt),ae(Se),he(Ne),console.log("[TPV-STUDIO] Solid SVG regenerated with edits:",Fe),at.size>0&&console.log("[TPV-STUDIO] Applied",at.size,"region overrides")}catch(Se){console.error("[TPV-STUDIO] Failed to regenerate solid SVG:",Se)}},cr=async(te,ue,xe,Se,nt=null)=>{try{console.log("[INSPIRE] Regenerating blend SVG from state");const Ne=new Map(ue);Se&&Se.size>0&&Se.forEach((Fe,at)=>{const tt=at.toLowerCase();Ne.has(tt)&&Ne.set(tt,{...Ne.get(tt),blendHex:Fe.newHex})});const{dataUrl:je}=await Ps(te,Ne,nt);V(je),console.log("[INSPIRE] Blend SVG regenerated")}catch(Ne){console.error("[INSPIRE] Failed to regenerate blend SVG:",Ne)}},mo=async(te,ue,xe,Se,nt=null)=>{try{console.log("[INSPIRE] Regenerating solid SVG from state");const Ne=new Map(ue);Se&&Se.size>0&&Se.forEach((Fe,at)=>{const tt=at.toLowerCase();Ne.has(tt)&&Ne.set(tt,{...Ne.get(tt),blendHex:Fe.newHex})});const{dataUrl:je}=await Ps(te,Ne,nt);ce(je),console.log("[INSPIRE] Solid SVG regenerated")}catch(Ne){console.error("[INSPIRE] Failed to regenerate solid SVG:",Ne)}};return u.jsxs("div",{className:"inspire-panel-recraft",children:[u.jsxs("div",{className:"panel-header",children:[u.jsx("h2",{children:"TPV Studio - Vector AI"}),u.jsx("p",{className:"subtitle",children:"AI-powered vector designs for playground surfacing"})]}),!c&&!X&&ho===!1&&u.jsxs("div",{className:"welcome-guidance",children:[u.jsx("div",{className:"welcome-icon",children:""}),u.jsx("h3",{children:"Create Your First Design"}),u.jsx("p",{children:"Choose how you'd like to create your TPV design below. You can describe what you want, upload an image to convert, or process an existing SVG file. Once generated, you'll be able to edit colours, export PDFs with specifications, and preview designs on-site."})]}),u.jsxs("div",{className:"input-mode-tabs",children:[u.jsxs("button",{className:`input-mode-tab ${n==="prompt"?"active":""}`,onClick:()=>{_("prompt"),ie(null),be(null)},disabled:X,children:[u.jsxs("svg",{className:"mode-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M12 3l1.545 4.635L18.18 9.18l-4.635 1.545L12 15.36l-1.545-4.635L5.82 9.18l4.635-1.545L12 3z"}),u.jsx("path",{d:"M5 21l1.5-4.5L2 15l4.5-1.5L8 9l1.5 4.5L14 15l-4.5 1.5L8 21z",opacity:"0.5"})]}),u.jsx("span",{className:"mode-title",children:"Text Prompt"}),u.jsx("span",{className:"mode-description",children:"Describe your design"})]}),u.jsxs("button",{className:`input-mode-tab ${n==="image"?"active":""}`,onClick:()=>{_("image"),G(""),be(null)},disabled:X,children:[u.jsxs("svg",{className:"mode-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),u.jsx("path",{d:"M21 15l-5-5L5 21"})]}),u.jsx("span",{className:"mode-title",children:"Upload Image"}),u.jsx("span",{className:"mode-description",children:"Vectorise PNG/JPG"})]}),u.jsxs("button",{className:`input-mode-tab ${n==="svg"?"active":""}`,onClick:()=>{_("svg"),G(""),be(null)},disabled:X,children:[u.jsx("svg",{className:"mode-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),u.jsx("span",{className:"mode-title",children:"Upload SVG"}),u.jsx("span",{className:"mode-description",children:"Process existing vector"})]})]}),u.jsxs("div",{className:"form-section",children:[n==="prompt"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"prompt",children:"Design Description"}),u.jsx("textarea",{id:"prompt",value:i,onChange:te=>G(te.target.value),placeholder:"e.g., calm ocean theme with big fish silhouettes and waves",rows:4,disabled:X,className:"prompt-input"}),u.jsx("p",{className:"helper-text",children:"Describe the design you want to generate. The AI will create a vector illustration based on your description. Perfect for creating completely new designs from scratch - just describe colors, themes, and elements you want."})]}),n==="image"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"image-upload",children:"Upload Image (PNG/JPG)"}),u.jsxs("div",{className:`drop-zone ${le?"dragging":""} ${ee?"has-file":""}`,onDragEnter:fc,onDragLeave:Di,onDragOver:ca,onDrop:mi,children:[u.jsx("input",{id:"image-upload",type:"file",accept:"image/png,image/jpeg",onChange:hc,disabled:X,className:"file-input-hidden"}),u.jsx("label",{htmlFor:"image-upload",className:"drop-zone-content",children:ee?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"upload-icon success",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),u.jsx("span",{className:"file-name",children:ee.name}),u.jsx("span",{className:"drop-hint",children:"Click to change file"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"upload-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),u.jsx("polyline",{points:"17 8 12 3 7 8"}),u.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),u.jsx("span",{className:"drop-text",children:"Drag & drop your image here"}),u.jsx("span",{className:"drop-hint",children:"or click to browse"})]})})]}),u.jsx("p",{className:"helper-text",children:"Upload a raster image (PNG or JPG). The AI will convert it to vector format (SVG) suitable for TPV surfacing. Best for converting photos, logos, or artwork into clean vectors that can be manufactured with TPV granules."})]}),n==="svg"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"svg-upload",children:"Upload SVG File"}),u.jsxs("div",{className:`drop-zone ${le?"dragging":""} ${ee?"has-file":""}`,onDragEnter:fc,onDragLeave:Di,onDragOver:ca,onDrop:mi,children:[u.jsx("input",{id:"svg-upload",type:"file",accept:"image/svg+xml",onChange:hc,disabled:X,className:"file-input-hidden"}),u.jsx("label",{htmlFor:"svg-upload",className:"drop-zone-content",children:ee?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"upload-icon success",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),u.jsx("span",{className:"file-name",children:ee.name}),u.jsx("span",{className:"drop-hint",children:"Click to change file"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"upload-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),u.jsx("polyline",{points:"17 8 12 3 7 8"}),u.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),u.jsx("span",{className:"drop-text",children:"Drag & drop your SVG here"}),u.jsx("span",{className:"drop-hint",children:"or click to browse"})]})})]}),u.jsx("p",{className:"helper-text",children:"Upload an existing SVG vector file. It will be processed immediately for TPV colour matching - no AI generation needed. Ideal when you already have a vector design and just need to match colors to available TPV granules."})]}),n==="prompt"&&u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"length",children:"Length (mm)"}),u.jsx("input",{id:"length",type:"number",value:o,onChange:te=>K(parseInt(te.target.value,10)),min:1e3,max:2e4,step:100,disabled:X})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"width",children:"Width (mm)"}),u.jsx("input",{id:"width",type:"number",value:a,onChange:te=>F(parseInt(te.target.value,10)),min:1e3,max:2e4,step:100,disabled:X})]})]}),_e&&u.jsxs("div",{className:"error-message",children:[u.jsx("strong",{children:"Error:"})," ",_e]}),Z&&u.jsx("div",{className:"upload-progress",children:u.jsx("p",{children:Z})}),u.jsx("button",{onClick:pc,disabled:X||n==="prompt"&&!i.trim()||(n==="image"||n==="svg")&&!ee,className:"generate-button",children:X?n==="svg"?"Processing...":"Generating...":n==="prompt"?"Generate Vector Design":n==="image"?"Vectorise & Process":"Process SVG"})]}),X&&u.jsxs("div",{className:"progress-section",children:[u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-bar-fill"})}),u.jsx("p",{className:"progress-message",children:Je})]}),c&&!X&&u.jsxs("div",{className:"results-section",children:[s&&u.jsxs("div",{className:`ar-info ${s.layout.mode}`,children:[u.jsxs("div",{className:"ar-info-header",children:[u.jsx("strong",{children:"Layout:"})," ",s.layout.reason]}),u.jsxs("div",{className:"ar-info-details",children:[u.jsxs("span",{children:["Requested: ",s.user.formatted]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Generated: ",s.canonical.name," panel"]}),s.layout.mode==="framing"&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{className:"layout-note",children:"Panel centred with base colour surround"})]}),s.layout.mode==="tiling"&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{className:"layout-note",children:"Pattern will repeat along length"})]})]})]}),p&&h&&u.jsxs("div",{className:"mode-tabs",children:[u.jsxs("button",{className:`mode-tab ${x==="solid"?"active":""}`,onClick:()=>ke("solid"),disabled:!v,children:[u.jsx("span",{className:"mode-title",children:"Solid Mode"}),u.jsx("span",{className:"mode-description",children:v?"Single TPV colours only":"Generating..."})]}),u.jsxs("button",{className:`mode-tab ${x==="blend"?"active":""}`,onClick:()=>ke("blend"),children:[u.jsx("span",{className:"mode-title",children:"Blend Mode"}),u.jsx("span",{className:"mode-description",children:"Advanced: Mixed granules"})]})]}),x==="blend"&&p&&h&&u.jsx("div",{ref:fo,children:u.jsx(Z1,{blendSvgUrl:p,recipes:h,mode:"blend",onColorClick:Tn,onRegionClick:Mi,onEyedropperCancel:Vd,selectedColor:bt,editedColors:g,onResetAll:vs,designName:R,onNameChange:oe,isNameLoading:Fd,onInSituClick:ua,eyedropperActive:lt,eyedropperRegion:ct,onRegionUndo:ha,onRegionRedo:fa,canUndo:E>0,canRedo:E<P.length-1,regionOverridesCount:k.size})}),x==="solid"&&v&&m&&u.jsx("div",{ref:fo,children:u.jsx(Z1,{blendSvgUrl:v,recipes:m,mode:"solid",onColorClick:Tn,onRegionClick:Mi,onEyedropperCancel:Vd,selectedColor:bt,editedColors:b,onResetAll:vs,designName:R,onNameChange:oe,isNameLoading:Fd,onInSituClick:ua,eyedropperActive:lt,eyedropperRegion:ct,onRegionUndo:ha,onRegionRedo:fa,canUndo:E>0,canRedo:E<P.length-1,regionOverridesCount:k.size})}),uc&&cn&&u.jsxs("div",{className:"mixer-widget-container",children:[u.jsx("div",{className:"mixer-widget-header",children:u.jsx("button",{className:"mixer-close-btn",onClick:()=>{sr(!1),Fi(null)},children:"Close Mixer"})}),u.jsx(uX,{initialRecipe:((Gd=g.get(cn.originalHex.toLowerCase()))==null?void 0:Gd.recipe)||cn.recipe||null,onBlendChange:pa,originalColor:cn.originalHex})]}),p&&u.jsxs("div",{className:"action-buttons",children:[u.jsx("button",{onClick:Ud,className:"new-button",title:"Start a new design",children:" New Design"}),u.jsx("button",{onClick:y0,className:"save-button",title:"Save this design to your gallery for later access",children:" Save Design"}),u.jsx("button",{onClick:gc,className:"download-button svg",title:"Download as scalable vector file (SVG) for further editing or printing",children:x==="solid"?"Download Solid TPV SVG":"Download TPV Blend SVG"}),u.jsx("button",{onClick:Bd,className:"download-button png",title:"Download as high-resolution image file (PNG) for presentations or sharing",children:x==="solid"?"Download Solid TPV PNG":"Download TPV Blend PNG"}),u.jsx("button",{onClick:go,className:"download-button pdf",disabled:gs||!(x==="solid"?m:h),title:x==="solid"?"Export comprehensive PDF with design, TPV colour specifications, and installation instructions":"Export comprehensive PDF with design, granule blend recipes, and mixing instructions",children:gs?"Generating PDF...":x==="solid"?"Export Solid PDF":"Export Blend PDF"}),u.jsx("button",{onClick:Hd,className:"download-button tiles",title:a&&o?`Download ${Math.ceil(a/1e3)*Math.ceil(o/1e3)} tiles (1m1m each) as separate SVG files. Perfect for large installations where each section needs to be manufactured separately.`:"Download design sliced into 1m1m tiles as separate SVG files. Perfect for large installations.",children:"Download Tiles ZIP"})]})]}),x==="blend"&&p&&h&&!w&&u.jsxs("div",{className:"finalize-section",children:[u.jsx("button",{onClick:()=>Ee(!0),className:"finalize-button",children:"View Recipe Details"}),u.jsx("p",{className:"finalize-hint",children:"Click to see detailed blend formulas and quality metrics"})]}),x==="solid"&&v&&m&&!S&&u.jsxs("div",{className:"finalize-section",children:[u.jsx("button",{onClick:()=>Ze(!0),className:"finalize-button",children:"View TPV Colours Used"}),u.jsx("p",{className:"finalize-hint",children:"See which pure TPV colours are used in this design"})]}),w&&h&&u.jsx(hN,{recipes:h,onClose:()=>{Ee(!1)}}),S&&m&&u.jsx(fN,{recipes:m,onClose:()=>{Ze(!1)}}),st&&bt&&u.jsx(RK,{color:bt,mode:x,onColorChange:b0,onClose:()=>{Ut(!1),Ue(null)}}),dc&&u.jsx(pX,{currentState:{inputMode:n,prompt:i,selectedFile:ee,lengthMM:o,widthMM:a,result:c,viewMode:x,blendRecipes:h,solidRecipes:m,colorMapping:f,solidColorMapping:y,solidEditedColors:b,blendEditedColors:g,blendSvgUrl:p,solidSvgUrl:v,arMapping:s,jobId:d,inSituData:Md},existingDesignId:N,initialName:R,onClose:()=>ds(!1),onSaved:(te,ue)=>{ds(!1),fs(!0),ue&&oe(ue),e&&e(ue),console.log("[INSPIRE] Design saved:",te)}}),Id&&u.jsx(TX,{designUrl:x==="solid"?v:p,designDimensions:{width:a,length:o},onClose:()=>hs(!1),onSaved:te=>{console.log("[INSPIRE] In-situ preview saved:",te),lr(te),hs(!1)}}),u.jsx(RX,{isOpen:Ld,onClose:()=>{At(!1),Jr(null)},onConfirm:ps,aspectRatio:zd,defaultLongestSide:5e3}),u.jsx("style",{jsx:!0,children:`
        .inspire-panel-recraft {
          max-width: var(--max-width-xl);
          margin: 0 auto;
          padding: var(--space-4);
        }

        .panel-header {
          text-align: center;
          margin-bottom: var(--space-6);
        }

        .panel-header h2 {
          font-family: var(--font-heading);
          font-size: var(--text-3xl);
          margin: 0 0 var(--space-2) 0;
          color: var(--color-primary);
          font-weight: var(--font-bold);
          letter-spacing: var(--tracking-tight);
        }

        .subtitle {
          color: var(--color-text-secondary);
          font-size: var(--text-base);
          line-height: var(--leading-relaxed);
        }

        /* Welcome Guidance */
        .welcome-guidance {
          background: linear-gradient(135deg, #fff5f0 0%, #fff9f7 100%);
          border: 2px solid #ff6b35;
          border-radius: var(--radius-lg);
          padding: var(--space-6);
          margin-bottom: var(--space-6);
          text-align: center;
        }

        .welcome-icon {
          font-size: 3rem;
          margin-bottom: var(--space-2);
        }

        .welcome-guidance h3 {
          margin: 0 0 var(--space-3);
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
          color: var(--color-primary);
        }

        .welcome-guidance p {
          margin: 0;
          color: var(--color-text-secondary);
          font-size: var(--text-base);
          line-height: var(--leading-relaxed);
          max-width: 600px;
          margin-left: auto;
          margin-right: auto;
        }

        /* Input Mode Tabs - Enhanced cards */
        .input-mode-tabs {
          display: flex;
          gap: var(--space-2);
          margin-bottom: var(--space-4);
          background: var(--color-bg-subtle);
          padding: var(--space-1);
          border-radius: var(--radius-lg);
        }

        .input-mode-tab {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-2);
          padding: var(--space-4);
          background: var(--color-bg-card);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .input-mode-tab:hover:not(:disabled) {
          border-color: var(--color-primary);
          transform: translateY(-2px);
          box-shadow: var(--shadow-md);
        }

        .input-mode-tab.active {
          background: linear-gradient(135deg, var(--color-bg-subtle) 0%, var(--color-bg-card) 100%);
          border-color: var(--color-primary);
          box-shadow: var(--shadow-glow);
        }

        .input-mode-tab:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .mode-icon {
          width: 32px;
          height: 32px;
          color: var(--color-text-secondary);
          transition: all var(--transition-base);
        }

        .input-mode-tab:hover:not(:disabled) .mode-icon {
          color: var(--color-primary);
          transform: scale(1.1);
        }

        .input-mode-tab.active .mode-icon {
          color: var(--color-primary);
        }

        .input-mode-tab .mode-title {
          font-family: var(--font-heading);
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          color: var(--color-text-primary);
          margin-top: var(--space-1);
        }

        .input-mode-tab .mode-description {
          font-size: var(--text-sm);
          color: var(--color-text-secondary);
          text-align: center;
          line-height: var(--leading-snug);
        }

        .input-mode-tab.active .mode-title {
          color: var(--color-primary);
          font-weight: var(--font-bold);
        }

        /* Helper text */
        .helper-text {
          margin-top: var(--space-1);
          font-size: var(--text-sm);
          color: var(--color-text-tertiary);
          font-style: normal;
          line-height: var(--leading-snug);
        }

        /* Drag & Drop File Upload */
        .file-input-hidden {
          position: absolute;
          width: 1px;
          height: 1px;
          padding: 0;
          margin: -1px;
          overflow: hidden;
          clip: rect(0, 0, 0, 0);
          white-space: nowrap;
          border: 0;
        }

        .drop-zone {
          position: relative;
          width: 100%;
          min-height: 180px;
          border: 2px dashed var(--color-border);
          border-radius: var(--radius-lg);
          background: var(--color-bg-subtle);
          transition: all var(--transition-base);
        }

        .drop-zone.dragging {
          border-color: var(--color-primary);
          background: var(--color-primary-light);
          background: linear-gradient(135deg, rgba(30, 74, 122, 0.05) 0%, rgba(30, 74, 122, 0.1) 100%);
          box-shadow: var(--shadow-glow);
        }

        .drop-zone.has-file {
          border-color: var(--color-success);
          background: var(--color-success-light);
        }

        .drop-zone-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: var(--space-2);
          padding: var(--space-6);
          cursor: pointer;
          min-height: 180px;
        }

        .upload-icon {
          width: 48px;
          height: 48px;
          color: var(--color-text-secondary);
          transition: all var(--transition-base);
        }

        .upload-icon.success {
          color: var(--color-success);
        }

        .drop-zone:hover .upload-icon {
          color: var(--color-primary);
          transform: scale(1.1);
        }

        .drop-zone.has-file:hover .upload-icon.success {
          color: var(--color-success);
        }

        .drop-text {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          color: var(--color-text-primary);
        }

        .file-name {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          color: var(--color-success);
          max-width: 100%;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .drop-hint {
          font-size: var(--text-sm);
          color: var(--color-text-tertiary);
        }

        .drop-zone.dragging .drop-text,
        .drop-zone.dragging .drop-hint {
          color: var(--color-primary);
        }

        .upload-progress {
          padding: var(--space-2);
          background: var(--color-info-light);
          border: 1px solid var(--color-info);
          border-radius: var(--radius-md);
          color: var(--color-info);
          margin-bottom: var(--space-2);
          text-align: center;
          font-size: var(--text-sm);
        }

        .form-section {
          background: var(--color-bg-card);
          padding: var(--space-4);
          border-radius: var(--radius-lg);
          margin-bottom: var(--space-4);
          border: 1px solid var(--color-border);
          box-shadow: var(--shadow-xs);
        }

        .form-group {
          margin-bottom: var(--space-4);
        }

        .form-group label {
          display: block;
          margin-bottom: var(--space-2);
          font-weight: var(--font-semibold);
          color: var(--color-text-primary);
          font-size: var(--text-sm);
        }

        .prompt-input {
          width: 100%;
          padding: var(--space-3);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          font-family: inherit;
          font-size: var(--text-base);
          background: var(--color-bg-card);
          color: var(--color-text-primary);
          transition: border-color var(--transition-base);
        }

        .prompt-input:focus {
          outline: none;
          border-color: var(--color-primary);
          box-shadow: var(--shadow-glow);
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: var(--space-3);
        }

        input[type="number"] {
          width: 100%;
          padding: var(--space-2);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          background: var(--color-bg-card);
          color: var(--color-text-primary);
          font-size: var(--text-base);
          transition: border-color var(--transition-base);
        }

        input[type="number"]:focus {
          outline: none;
          border-color: var(--color-primary);
          box-shadow: var(--shadow-glow);
        }

        .error-message {
          padding: var(--space-3);
          background: var(--color-error-light);
          border: 1px solid var(--color-error);
          border-radius: var(--radius-md);
          color: var(--color-error);
          margin-bottom: var(--space-4);
          font-size: var(--text-sm);
        }

        .generate-button {
          width: 100%;
          padding: var(--space-4);
          background: var(--color-accent);
          color: white;
          border: none;
          border-radius: var(--radius-md);
          font-size: var(--text-lg);
          font-weight: var(--font-semibold);
          cursor: pointer;
          transition: all var(--transition-base);
          box-shadow: var(--shadow-sm);
        }

        .generate-button:hover:not(:disabled) {
          background: var(--color-accent-hover);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(255, 107, 53, 0.3);
        }

        .generate-button:disabled {
          background: var(--color-bg-subtle);
          color: var(--color-text-tertiary);
          cursor: not-allowed;
          transform: none;
          box-shadow: none;
        }

        .progress-section {
          padding: var(--space-4);
          background: var(--color-info-light);
          border-radius: var(--radius-lg);
          margin-bottom: var(--space-4);
          border: 1px solid var(--color-info);
        }

        .progress-bar {
          height: 4px;
          background: var(--color-border);
          border-radius: var(--radius-full);
          overflow: hidden;
          margin-bottom: var(--space-3);
        }

        .progress-bar-fill {
          height: 100%;
          background: var(--color-accent);
          animation: progress 2s ease-in-out infinite;
        }

        @keyframes progress {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }

        .progress-message {
          text-align: center;
          color: var(--color-text-secondary);
          font-weight: var(--font-medium);
          font-size: var(--text-base);
        }

        .results-section {
          background: var(--color-bg-card);
          padding: var(--space-4);
          border-radius: var(--radius-lg);
          border: 1px solid var(--color-border);
          box-shadow: var(--shadow-sm);
        }

        .results-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: var(--space-3);
        }

        .results-header h3 {
          font-family: var(--font-heading);
          margin: 0;
          color: var(--color-primary);
          font-size: var(--text-xl);
          font-weight: var(--font-bold);
        }

        /* Aspect Ratio Info */
        .ar-info {
          padding: var(--space-3) var(--space-4);
          border-radius: var(--radius-md);
          margin-bottom: var(--space-3);
          font-size: var(--text-sm);
        }

        .ar-info.full {
          background: var(--color-success-light);
          border: 1px solid var(--color-success);
        }

        .ar-info.framing {
          background: var(--color-warning-light);
          border: 1px solid var(--color-warning);
        }

        .ar-info.tiling {
          background: var(--color-info-light);
          border: 1px solid var(--color-info);
        }

        .ar-info-header {
          color: var(--color-text-primary);
          margin-bottom: var(--space-2);
          font-weight: var(--font-semibold);
        }

        .ar-info-details {
          display: flex;
          flex-wrap: wrap;
          gap: var(--space-2);
          align-items: center;
          color: var(--color-text-secondary);
          font-size: var(--text-sm);
        }

        .ar-info-details span {
          white-space: nowrap;
        }

        .layout-note {
          color: var(--color-accent);
          font-weight: var(--font-medium);
        }

        /* Mode Toggle Tabs */
        .mode-tabs {
          display: flex;
          gap: var(--space-2);
          margin-bottom: var(--space-4);
          background: var(--color-bg-subtle);
          padding: var(--space-1);
          border-radius: var(--radius-lg);
        }

        .mode-tab {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: var(--space-1);
          padding: var(--space-3);
          background: var(--color-bg-card);
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          cursor: pointer;
          transition: all var(--transition-base);
        }

        .mode-tab:hover:not(:disabled) {
          border-color: var(--color-accent);
          transform: translateY(-2px);
          box-shadow: var(--shadow-md);
        }

        .mode-tab.active {
          background: var(--color-accent);
          border-color: var(--color-accent);
          box-shadow: var(--shadow-glow-accent);
        }

        .mode-tab:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .mode-title {
          font-family: var(--font-heading);
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          color: var(--color-primary);
        }

        .mode-description {
          font-size: var(--text-sm);
          color: var(--color-text-secondary);
          text-align: center;
        }

        .mode-tab.active .mode-title {
          color: white;
          font-weight: var(--font-bold);
        }

        .mode-tab.active .mode-description {
          color: rgba(255, 255, 255, 0.9);
        }

        .svg-preview {
          margin: var(--space-3) 0;
          border: 1px solid var(--color-border);
          border-radius: var(--radius-md);
          background: var(--color-bg-subtle);
          padding: var(--space-3);
        }

        .design-preview {
          width: 100%;
          height: auto;
          display: block;
        }

        .action-buttons {
          display: flex;
          gap: var(--space-2);
          margin-top: var(--space-4);
        }

        .download-button,
        .blend-button,
        .new-generation-button,
        .save-button {
          flex: 1;
          padding: var(--space-3);
          border: none;
          border-radius: var(--radius-md);
          font-weight: var(--font-semibold);
          font-size: var(--text-base);
          cursor: pointer;
          transition: all var(--transition-base);
          box-shadow: var(--shadow-sm);
        }

        .download-button.svg {
          background: var(--color-primary);
          color: white;
        }

        .download-button.svg:hover {
          background: var(--color-primary-hover);
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .download-button.png {
          background: var(--color-success);
          color: white;
        }

        .download-button.png:hover {
          background: var(--color-success-hover);
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .download-button.pdf {
          background: var(--color-info);
          color: white;
        }

        .download-button.pdf:hover:not(:disabled) {
          background: #2563eb;
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .download-button.pdf:disabled {
          background: var(--color-text-tertiary);
          cursor: not-allowed;
          transform: none;
        }

        .download-button.tiles {
          background: #8b5cf6;
          color: white;
        }

        .download-button.tiles:hover {
          background: #7c3aed;
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .blend-button {
          background: var(--color-accent);
          color: white;
        }

        .blend-button:hover:not(:disabled) {
          background: var(--color-accent-hover);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(255, 107, 53, 0.3);
        }

        .blend-button:disabled {
          background: var(--color-bg-subtle);
          color: var(--color-text-tertiary);
          cursor: not-allowed;
          transform: none;
          box-shadow: none;
        }

        .new-generation-button {
          background: var(--color-bg-subtle);
          color: var(--color-text-primary);
          border: 1px solid var(--color-border);
        }

        .new-generation-button:hover {
          background: var(--color-border);
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .save-button {
          background: #10b981;
          color: white;
        }

        .save-button:hover {
          background: #059669;
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        /* Finalize Section */
        .finalize-section {
          background: var(--color-accent-light);
          border: 2px solid var(--color-accent);
          border-radius: var(--radius-lg);
          padding: var(--space-4);
          margin-top: var(--space-4);
          text-align: center;
        }

        .finalize-button {
          width: 100%;
          max-width: 400px;
          padding: var(--space-4);
          background: var(--color-accent);
          color: white;
          border: none;
          border-radius: var(--radius-md);
          font-size: var(--text-lg);
          font-weight: var(--font-semibold);
          cursor: pointer;
          transition: all var(--transition-base);
          box-shadow: var(--shadow-sm);
        }

        .finalize-button:hover {
          background: var(--color-accent-hover);
          transform: translateY(-1px);
          box-shadow: var(--shadow-md);
        }

        .finalize-hint {
          margin: var(--space-3) 0 0 0;
          color: var(--color-text-secondary);
          font-size: var(--text-sm);
        }

        /* Mixer Widget Container Styles */
        .mixer-widget-container {
          margin-top: var(--space-4);
          background: white;
          border-radius: 12px;
          padding: var(--space-4);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .mixer-widget-header {
          display: flex;
          justify-content: flex-end;
          margin-bottom: var(--space-3);
          padding-bottom: var(--space-3);
          border-bottom: 2px solid var(--color-border);
        }

        .mixer-close-btn {
          padding: var(--space-2) var(--space-4);
          background: var(--color-primary);
          color: white;
          border: none;
          border-radius: 8px;
          font-weight: 600;
          font-size: var(--text-sm);
          cursor: pointer;
          transition: all 0.2s;
        }

        .mixer-close-btn:hover {
          background: #2563eb;
          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
          transform: translateY(-1px);
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
          .inspire-panel-recraft {
            padding: var(--space-2);
          }

          .panel-header {
            margin-bottom: var(--space-4);
          }

          .panel-header h2 {
            font-size: var(--text-xl);
          }

          .subtitle {
            font-size: var(--text-sm);
          }

          .welcome-guidance {
            padding: var(--space-4);
            margin-bottom: var(--space-4);
          }

          .welcome-icon {
            font-size: 2rem;
          }

          .welcome-guidance h3 {
            font-size: var(--text-lg);
          }

          .welcome-guidance p {
            font-size: var(--text-sm);
          }

          /* Stack input mode tabs vertically on mobile */
          .input-mode-tabs {
            flex-direction: column;
            gap: var(--space-1);
          }

          .input-mode-tab {
            flex-direction: row;
            justify-content: flex-start;
            padding: var(--space-3);
            min-height: 44px;
          }

          .mode-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
          }

          .input-mode-tab .mode-title {
            font-size: var(--text-sm);
            margin-top: 0;
          }

          .input-mode-tab .mode-description {
            display: none;
          }

          /* Form sections */
          .form-section {
            padding: var(--space-3);
          }

          .form-group label {
            font-size: var(--text-xs);
          }

          /* Stack form rows on mobile */
          .form-row {
            grid-template-columns: 1fr;
            gap: var(--space-2);
          }

          /* Drop zone adjustments */
          .drop-zone {
            min-height: 140px;
          }

          .drop-zone-content {
            padding: var(--space-4);
            min-height: 140px;
          }

          .upload-icon {
            width: 36px;
            height: 36px;
          }

          .drop-text {
            font-size: var(--text-sm);
          }

          /* Generate button */
          .generate-button {
            padding: var(--space-3);
            font-size: var(--text-base);
            min-height: 44px;
          }

          /* Results section - minimal padding for max image width */
          .results-section {
            padding: var(--space-2);
            border-radius: var(--radius-md);
          }

          .results-header h3 {
            font-size: var(--text-lg);
          }

          /* Mode tabs */
          .mode-tabs {
            flex-direction: column;
            gap: var(--space-1);
          }

          .mode-tab {
            flex-direction: row;
            justify-content: flex-start;
            padding: var(--space-3);
            min-height: 44px;
          }

          .mode-title {
            font-size: var(--text-sm);
          }

          .mode-description {
            display: none;
          }

          /* Action buttons - 2x2 grid on mobile */
          .action-buttons {
            flex-wrap: wrap;
            gap: var(--space-2);
          }

          .download-button,
          .blend-button,
          .new-generation-button,
          .save-button {
            flex: 1 1 calc(50% - var(--space-1));
            min-width: calc(50% - var(--space-1));
            padding: var(--space-2);
            font-size: var(--text-sm);
            min-height: 44px;
          }

          /* AR info */
          .ar-info {
            padding: var(--space-2) var(--space-3);
          }

          .ar-info-details {
            flex-direction: column;
            align-items: flex-start;
            gap: var(--space-1);
          }

          /* Finalize section */
          .finalize-section {
            padding: var(--space-3);
          }

          .finalize-button {
            padding: var(--space-3);
            font-size: var(--text-base);
          }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
          .inspire-panel-recraft {
            padding: var(--space-1);
          }

          .panel-header h2 {
            font-size: var(--text-lg);
          }

          /* Results section - even less padding */
          .results-section {
            padding: var(--space-1);
            margin: 0 calc(-1 * var(--space-1));
            border-radius: 0;
          }

          /* Stack all action buttons vertically */
          .action-buttons {
            flex-direction: column;
          }

          .download-button,
          .blend-button,
          .new-generation-button,
          .save-button {
            flex: 1 1 100%;
            min-width: 100%;
          }

          .input-mode-tab {
            padding: var(--space-2);
          }

          .mode-tab {
            padding: var(--space-2);
          }
        }
      `})]})}const xg={surface:{width_mm:5e4,length_mm:5e4,color:{tpv_code:"RH12",hex:"#006C55",name:"Dark Green"}},courts:{},selectedCourtId:null,tracks:{},selectedTrackId:null,elementOrder:[],customMarkings:[],backgroundZones:[],designName:"Untitled Sports Surface",designDescription:"",designTags:[],history:[],historyIndex:-1,maxHistory:50,showCourtLibrary:!0,showPropertiesPanel:!0,propertiesPanelUserClosed:!1,showColorEditor:!1,snapToGrid:!0,gridSize_mm:100,isSaving:!1,lastSaved:null},vr=Mj(Lj((t,e)=>({...xg,setSurfaceDimensions:(r,n)=>{t(i=>({surface:{...i.surface,width_mm:r,length_mm:n}})),e().addToHistory()},setSurfaceColor:r=>{t(n=>({surface:{...n.surface,color:r}})),e().addToHistory()},addCourt:(r,n)=>{const i=`court-${Date.now()}`,o=d=>({RH01:{tpv_code:"RH01",hex:"#A5362F",name:"Standard Red"},RH02:{tpv_code:"RH02",hex:"#E21F2F",name:"Bright Red"},RH10:{tpv_code:"RH10",hex:"#609B63",name:"Standard Green"},RH11:{tpv_code:"RH11",hex:"#3BB44A",name:"Bright Green"},RH12:{tpv_code:"RH12",hex:"#006C55",name:"Dark Green"},RH20:{tpv_code:"RH20",hex:"#0075BC",name:"Standard Blue"},RH21:{tpv_code:"RH21",hex:"#493D8C",name:"Purple"},RH22:{tpv_code:"RH22",hex:"#47AFE3",name:"Light Blue"},RH23:{tpv_code:"RH23",hex:"#039DC4",name:"Azure"},RH26:{tpv_code:"RH26",hex:"#00A6A3",name:"Turquoise"},RH30:{tpv_code:"RH30",hex:"#E4C4AA",name:"Standard Beige"},RH31:{tpv_code:"RH31",hex:"#E8E3D8",name:"Cream"},RH32:{tpv_code:"RH32",hex:"#8B5F3C",name:"Brown"},RH40:{tpv_code:"RH40",hex:"#E5A144",name:"Mustard Yellow"},RH41:{tpv_code:"RH41",hex:"#FFD833",name:"Bright Yellow"},RH50:{tpv_code:"RH50",hex:"#F15B32",name:"Orange"},RH60:{tpv_code:"RH60",hex:"#59595B",name:"Dark Grey"},RH61:{tpv_code:"RH61",hex:"#939598",name:"Light Grey"},RH65:{tpv_code:"RH65",hex:"#D9D9D6",name:"Pale Grey"},RH70:{tpv_code:"RH70",hex:"#231F20",name:"Black"},RH90:{tpv_code:"RH90",hex:"#E8457E",name:"Funky Pink"}})[d]||{tpv_code:"RH31",hex:"#E8E3D8",name:"Cream"},a={};if(n.defaultLineColor){const d=o(n.defaultLineColor);n.markings.forEach(h=>{a[h.id]=d})}const s={};if(n.defaultLineColor&&n.zones){const d=o(n.defaultLineColor);n.zones.forEach(h=>{s[h.id]=d})}const l=n.defaultSurfaceColor?o(n.defaultSurfaceColor):null,c={id:i,templateId:r,template:n,position:{x:e().surface.width_mm/2-n.dimensions.width_mm/2,y:e().surface.length_mm/2-n.dimensions.length_mm/2},rotation:0,scale:1,lineColorOverrides:a,zoneColorOverrides:s,courtSurfaceColor:l};t(d=>({courts:{...d.courts,[i]:c},elementOrder:[...d.elementOrder,i],selectedCourtId:i,selectedTrackId:null})),e().addToHistory()},removeCourt:r=>{const{[r]:n,...i}=e().courts;t(o=>({courts:i,elementOrder:o.elementOrder.filter(a=>a!==r),selectedCourtId:o.selectedCourtId===r?null:o.selectedCourtId})),e().addToHistory()},updateCourtPosition:(r,n)=>{t(i=>({courts:{...i.courts,[r]:{...i.courts[r],position:n}}}))},updateCourtRotation:(r,n)=>{t(i=>({courts:{...i.courts,[r]:{...i.courts[r],rotation:n}}}))},updateCourtScale:(r,n)=>{t(i=>({courts:{...i.courts,[r]:{...i.courts[r],scale:n}}}))},duplicateCourt:r=>{const n=e().courts[r];if(!n)return;const i=`court-${Date.now()}`,o={...n,id:i,position:{x:n.position.x+500,y:n.position.y+500}};t(a=>({courts:{...a.courts,[i]:o},elementOrder:[...a.elementOrder,i],selectedCourtId:i,selectedTrackId:null})),e().addToHistory()},setLineColor:(r,n,i)=>{t(o=>({courts:{...o.courts,[r]:{...o.courts[r],lineColorOverrides:{...o.courts[r].lineColorOverrides,[n]:i}}}})),e().addToHistory()},setZoneColor:(r,n,i)=>{t(o=>({courts:{...o.courts,[r]:{...o.courts[r],zoneColorOverrides:{...o.courts[r].zoneColorOverrides,[n]:i}}}})),e().addToHistory()},resetCourtColors:r=>{t(n=>({courts:{...n.courts,[r]:{...n.courts[r],lineColorOverrides:{},zoneColorOverrides:{}}}})),e().addToHistory()},setCourtSurfaceColor:(r,n)=>{t(i=>({courts:{...i.courts,[r]:{...i.courts[r],courtSurfaceColor:n}}})),e().addToHistory()},selectCourt:r=>{const{propertiesPanelUserClosed:n}=e();t(n?{selectedCourtId:r,selectedTrackId:null}:{selectedCourtId:r,selectedTrackId:null,showPropertiesPanel:!0})},deselectCourt:()=>{t({selectedCourtId:null,showPropertiesPanel:!1,propertiesPanelUserClosed:!0})},setElementOrder:r=>{t({elementOrder:r})},moveElementUp:r=>{const{elementOrder:n}=e(),i=n.indexOf(r);if(i<n.length-1){const o=[...n];[o[i],o[i+1]]=[o[i+1],o[i]],t({elementOrder:o}),e().addToHistory()}},moveElementDown:r=>{const{elementOrder:n}=e(),i=n.indexOf(r);if(i>0){const o=[...n];[o[i],o[i-1]]=[o[i-1],o[i]],t({elementOrder:o}),e().addToHistory()}},bringToFront:r=>{const{elementOrder:n}=e(),i=n.filter(o=>o!==r);i.push(r),t({elementOrder:i}),e().addToHistory()},sendToBack:r=>{const{elementOrder:n}=e(),i=n.filter(o=>o!==r);i.unshift(r),t({elementOrder:i}),e().addToHistory()},addTrack:(r,n)=>{const i=`track-${Date.now()}`,o=e().surface,a=o.width_mm,s=o.length_mm,l=y=>({RH01:{tpv_code:"RH01",hex:"#A5362F",name:"Standard Red"},RH31:{tpv_code:"RH31",hex:"#E8E3D8",name:"Cream"},RH30:{tpv_code:"RH30",hex:"#E4C4AA",name:"Standard Beige"},RH20:{tpv_code:"RH20",hex:"#0075BC",name:"Standard Blue"},RH12:{tpv_code:"RH12",hex:"#006C55",name:"Dark Green"}})[y]||{tpv_code:y,hex:"#A5362F",name:"Standard Red"},c=n.defaultTrackSurfaceColor?l(n.defaultTrackSurfaceColor):l("RH01"),d=n.trackType==="straight";let h,f,p;const g={enabled:!1,depth_mm:500,style:"staggered",direction:"counterclockwise",startPosition:0};if(d){const y=n.parameters.numLanes,v=n.parameters.laneWidth_mm,b=y*v,x=Math.max(a,s)*.9,w=n.parameters.height_mm||1e5,S=Math.min(w,x);h={...n.parameters,width_mm:b,height_mm:S,cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},laneWidth_mm:v,startingBoxes:{...g,...n.parameters.startingBoxes}},p=90,f={x:a/2-b/2,y:s/2-S/2}}else{const y=a*.9,v=s*.9,b=n.parameters.width_mm||25e3,x=n.parameters.height_mm||15e3,w=y/b,S=v/x,k=Math.min(w,S),C=n.parameters.cornerRadius||{topLeft:3e3,topRight:3e3,bottomLeft:3e3,bottomRight:3e3},P={topLeft:C.topLeft*k,topRight:C.topRight*k,bottomLeft:C.bottomLeft*k,bottomRight:C.bottomRight*k};h={...n.parameters,width_mm:y,height_mm:v,cornerRadius:P,laneWidth_mm:n.parameters.laneWidth_mm,startingBoxes:{...g,...n.parameters.startingBoxes}},p=0,f={x:a/2-y/2,y:s/2-v/2}}const m={id:i,templateId:r,template:n,position:f,rotation:p,parameters:h,trackSurfaceColor:c};t(y=>({tracks:{...y.tracks,[i]:m},elementOrder:[...y.elementOrder,i],selectedTrackId:i,selectedCourtId:null})),e().addToHistory()},removeTrack:r=>{const{[r]:n,...i}=e().tracks;t(o=>({tracks:i,elementOrder:o.elementOrder.filter(a=>a!==r),selectedTrackId:o.selectedTrackId===r?null:o.selectedTrackId})),e().addToHistory()},updateTrackParameters:(r,n)=>{t(i=>{var d;const o=i.tracks[r];if(!o)return i;const a=o.parameters,s={...a,...n},l=((d=o.template)==null?void 0:d.trackType)==="straight";let c=o.position;if(l&&n.numLanes!==void 0&&n.numLanes!==a.numLanes){const h=a.laneWidth_mm,f=a.numLanes*h,p=n.numLanes*h;s.width_mm=p;const g=o.position.x+f/2,m=o.position.y+a.height_mm/2;c={x:g-p/2,y:m-s.height_mm/2}}return{tracks:{...i.tracks,[r]:{...o,parameters:s,position:c}}}}),e().addToHistory()},updateTrackPosition:(r,n)=>{t(i=>({tracks:{...i.tracks,[r]:{...i.tracks[r],position:n}}}))},updateTrackRotation:(r,n)=>{t(i=>({tracks:{...i.tracks,[r]:{...i.tracks[r],rotation:n}}}))},setTrackSurfaceColor:(r,n)=>{t(i=>({tracks:{...i.tracks,[r]:{...i.tracks[r],trackSurfaceColor:n}}})),e().addToHistory()},selectTrack:r=>{const{propertiesPanelUserClosed:n}=e();t(n?{selectedTrackId:r,selectedCourtId:null}:{selectedTrackId:r,selectedCourtId:null,showPropertiesPanel:!0})},deselectTrack:()=>{t({selectedTrackId:null,showPropertiesPanel:!1,propertiesPanelUserClosed:!0})},addCustomMarking:r=>{t(n=>({customMarkings:[...n.customMarkings,{...r,id:`custom-${Date.now()}`}]})),e().addToHistory()},removeCustomMarking:r=>{t(n=>({customMarkings:n.customMarkings.filter(i=>i.id!==r)})),e().addToHistory()},addBackgroundZone:r=>{t(n=>({backgroundZones:[...n.backgroundZones,{...r,id:`zone-${Date.now()}`}]})),e().addToHistory()},removeBackgroundZone:r=>{t(n=>({backgroundZones:n.backgroundZones.filter(i=>i.id!==r)})),e().addToHistory()},setDesignName:r=>{t({designName:r})},setDesignDescription:r=>{t({designDescription:r})},setDesignTags:r=>{t({designTags:r})},addToHistory:()=>{const r=e(),n={surface:r.surface,courts:r.courts,tracks:r.tracks,elementOrder:r.elementOrder,customMarkings:r.customMarkings,backgroundZones:r.backgroundZones};t(i=>{const o=i.history.slice(0,i.historyIndex+1);return o.push(n),o.length>i.maxHistory&&o.shift(),{history:o,historyIndex:o.length-1}})},undo:()=>{const{history:r,historyIndex:n}=e();if(n>0){const i=r[n-1];t({...i,historyIndex:n-1})}},redo:()=>{const{history:r,historyIndex:n}=e();if(n<r.length-1){const i=r[n+1];t({...i,historyIndex:n+1})}},canUndo:()=>e().historyIndex>0,canRedo:()=>e().historyIndex<e().history.length-1,toggleCourtLibrary:()=>{t(r=>({showCourtLibrary:!r.showCourtLibrary}))},togglePropertiesPanel:()=>{t(r=>({showPropertiesPanel:!r.showPropertiesPanel,propertiesPanelUserClosed:!!r.showPropertiesPanel}))},toggleColorEditor:()=>{t(r=>({showColorEditor:!r.showColorEditor}))},toggleSnapToGrid:()=>{t(r=>({snapToGrid:!r.snapToGrid}))},setGridSize:r=>{t({gridSize_mm:r})},setSaving:r=>{t({isSaving:r})},setLastSaved:r=>{t({lastSaved:r})},loadDesign:r=>{let n=r.elementOrder;!n&&(r.courtOrder||r.trackOrder)&&(n=[...r.trackOrder||[],...r.courtOrder||[]]),t({surface:r.surface||xg.surface,courts:r.courts||{},tracks:r.tracks||{},elementOrder:n||[],customMarkings:r.customMarkings||[],backgroundZones:r.backgroundZones||[],designName:r.name||"Untitled Sports Surface",designDescription:r.description||"",designTags:r.tags||[],selectedCourtId:null,selectedTrackId:null,history:[],historyIndex:-1}),e().addToHistory()},exportDesignData:()=>{const r=e();return{surface:r.surface,courts:r.courts,tracks:r.tracks,elementOrder:r.elementOrder,customMarkings:r.customMarkings,backgroundZones:r.backgroundZones,name:r.designName,description:r.designDescription,tags:r.designTags}},resetDesign:()=>{t(xg)},hasUnsavedChanges:()=>{const r=e();return Object.keys(r.courts).length>0||Object.keys(r.tracks).length>0}}),{name:"SportsDesignStore"})),u5={"basketball-full":{id:"basketball-full",name:"Basketball (Full Court)",sport:"basketball",standard:"FIBA 2020",category:"court",description:"Official FIBA standard full basketball court with all markings",dimensions:{length_mm:28e3,width_mm:15e3,min_surround_mm:2e3},defaultSurfaceColor:"RH20",defaultLineColor:"RH31",defaultLineWidth_mm:50,markings:[{id:"boundary",name:"Boundary Lines",type:"rectangle",params:{x:0,y:0,width:15e3,height:28e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"boundary"},{id:"center-line",name:"Center Line",type:"line",params:{x1:0,y1:14e3,x2:15e3,y2:14e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"center-circle",name:"Center Circle",type:"circle",params:{cx:7500,cy:14e3,radius:1800},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"three-point-arc-top",name:"Three-Point Arc (Top)",type:"arc",params:{cx:7500,cy:26425,radius:6750,startAngle:192,endAngle:348},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"three-point-arc-bottom",name:"Three-Point Arc (Bottom)",type:"arc",params:{cx:7500,cy:1575,radius:6750,startAngle:12,endAngle:168},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"three-point-line-bottom-left",name:"Three-Point Line Bottom Left",type:"line",params:{x1:900,y1:0,x2:900,y2:2990},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"three-point-line-bottom-right",name:"Three-Point Line Bottom Right",type:"line",params:{x1:14100,y1:0,x2:14100,y2:2990},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"three-point-line-top-left",name:"Three-Point Line Top Left",type:"line",params:{x1:900,y1:25010,x2:900,y2:28e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"three-point-line-top-right",name:"Three-Point Line Top Right",type:"line",params:{x1:14100,y1:25010,x2:14100,y2:28e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"free-throw-line-top",name:"Free Throw Line (Top)",type:"line",params:{x1:5050,y1:22200,x2:9950,y2:22200},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"free-throw-line-bottom",name:"Free Throw Line (Bottom)",type:"line",params:{x1:5050,y1:5800,x2:9950,y2:5800},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"free-throw-circle-top",name:"Free Throw Circle (Top)",type:"circle",params:{cx:7500,cy:22200,radius:1800},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"free-throw-circle-bottom",name:"Free Throw Circle (Bottom)",type:"circle",params:{cx:7500,cy:5800,radius:1800},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"key-lane-top",name:"Key Lane (Top)",type:"rectangle",params:{x:5050,y:22200,width:4900,height:5800},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"key-lane-bottom",name:"Key Lane (Bottom)",type:"rectangle",params:{x:5050,y:0,width:4900,height:5800},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"restricted-area-top",name:"Restricted Area (Top)",type:"arc",params:{cx:7500,cy:28e3,radius:1250,startAngle:180,endAngle:360},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"restricted-area-bottom",name:"Restricted Area (Bottom)",type:"arc",params:{cx:7500,cy:0,radius:1250,startAngle:0,endAngle:180},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"}],zones:[{id:"key-area-top",name:"Key Area (Top)",type:"rectangle",params:{x:5050,y:22200,width:4900,height:5800},defaultColor:"RH20",paintable:!0,area_m2:28.42},{id:"key-area-bottom",name:"Key Area (Bottom)",type:"rectangle",params:{x:5050,y:0,width:4900,height:5800},defaultColor:"RH20",paintable:!0,area_m2:28.42}]},"netball-full":{id:"netball-full",name:"Netball (Full Court)",sport:"netball",standard:"World Netball 2020",category:"court",description:"Official World Netball standard court with goal circles and thirds",dimensions:{length_mm:30500,width_mm:15250,min_surround_mm:3050},defaultSurfaceColor:"RH01",defaultLineColor:"RH31",defaultLineWidth_mm:50,markings:[{id:"boundary",name:"Boundary Lines",type:"rectangle",params:{x:0,y:0,width:15250,height:30500},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"boundary"},{id:"transverse-line-1",name:"Transverse Line 1",type:"line",params:{x1:0,y1:10167,x2:15250,y2:10167},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"transverse-line-2",name:"Transverse Line 2",type:"line",params:{x1:0,y1:20333,x2:15250,y2:20333},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"center-circle",name:"Center Circle",type:"circle",params:{cx:7625,cy:15250,radius:450},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"goal-circle-bottom",name:"Goal Circle (Bottom)",type:"arc",params:{cx:7625,cy:0,radius:4900,startAngle:0,endAngle:180},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"goal-circle-top",name:"Goal Circle (Top)",type:"arc",params:{cx:7625,cy:30500,radius:4900,startAngle:180,endAngle:360},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"}],zones:[]},"tennis-doubles":{id:"tennis-doubles",name:"Tennis (Doubles)",sport:"tennis",standard:"ITF 2020",category:"court",description:"Official ITF standard doubles tennis court with all service boxes",dimensions:{length_mm:23770,width_mm:10970,min_surround_mm:3660},defaultSurfaceColor:"RH22",defaultLineColor:"RH29",defaultLineWidth_mm:50,markings:[{id:"boundary",name:"Boundary Lines",type:"rectangle",params:{x:0,y:0,width:10970,height:23770},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"boundary"},{id:"singles-sideline-left",name:"Singles Sideline (Left)",type:"line",params:{x1:1370,y1:0,x2:1370,y2:23770},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"singles-sideline-right",name:"Singles Sideline (Right)",type:"line",params:{x1:9600,y1:0,x2:9600,y2:23770},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"service-line-bottom",name:"Service Line (Bottom)",type:"line",params:{x1:0,y1:6400,x2:10970,y2:6400},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"service-line-top",name:"Service Line (Top)",type:"line",params:{x1:0,y1:17370,x2:10970,y2:17370},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"center-service-line",name:"Center Service Line",type:"line",params:{x1:5485,y1:6400,x2:5485,y2:17370},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"center-mark-bottom",name:"Center Mark (Bottom)",type:"line",params:{x1:5485,y1:0,x2:5485,y2:100},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"center-mark-top",name:"Center Mark (Top)",type:"line",params:{x1:5485,y1:23670,x2:5485,y2:23770},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"}],zones:[]},"futsal-standard":{id:"futsal-standard",name:"Futsal (5-a-side)",sport:"futsal",standard:"FIFA 2020",category:"court",description:"Official FIFA standard futsal court for international matches",dimensions:{length_mm:4e4,width_mm:2e4,min_surround_mm:1e3},defaultSurfaceColor:"RH50",defaultLineColor:"RH30",defaultLineWidth_mm:80,markings:[{id:"boundary",name:"Boundary Lines",type:"rectangle",params:{x:0,y:0,width:2e4,height:4e4},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"boundary"},{id:"center-line",name:"Center Line",type:"line",params:{x1:0,y1:2e4,x2:2e4,y2:2e4},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"center-circle",name:"Center Circle",type:"circle",params:{cx:1e4,cy:2e4,radius:3e3},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"center-spot",name:"Center Spot",type:"circle",params:{cx:1e4,cy:2e4,radius:100},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"penalty-area-bottom",name:"Penalty Area (Bottom)",type:"arc",params:{cx:1e4,cy:0,radius:6e3,startAngle:0,endAngle:180},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"penalty-area-top",name:"Penalty Area (Top)",type:"arc",params:{cx:1e4,cy:4e4,radius:6e3,startAngle:180,endAngle:360},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"penalty-mark-bottom",name:"Penalty Mark (Bottom)",type:"circle",params:{cx:1e4,cy:6e3,radius:100},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"penalty-mark-top",name:"Penalty Mark (Top)",type:"circle",params:{cx:1e4,cy:34e3,radius:100},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"second-penalty-mark-bottom",name:"Second Penalty Mark (Bottom)",type:"circle",params:{cx:1e4,cy:1e4,radius:100},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"second-penalty-mark-top",name:"Second Penalty Mark (Top)",type:"circle",params:{cx:1e4,cy:3e4,radius:100},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"corner-arc-bl",name:"Corner Arc (Bottom Left)",type:"arc",params:{cx:0,cy:0,radius:250,startAngle:0,endAngle:90},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"corner-arc-br",name:"Corner Arc (Bottom Right)",type:"arc",params:{cx:2e4,cy:0,radius:250,startAngle:90,endAngle:180},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"corner-arc-tl",name:"Corner Arc (Top Left)",type:"arc",params:{cx:0,cy:4e4,radius:250,startAngle:270,endAngle:360},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"},{id:"corner-arc-tr",name:"Corner Arc (Top Right)",type:"arc",params:{cx:2e4,cy:4e4,radius:250,startAngle:180,endAngle:270},defaultColor:"RH31",lineWidth_mm:80,required:!0,category:"court-marking"}],zones:[]},"volleyball-indoor":{id:"volleyball-indoor",name:"Volleyball (Indoor)",sport:"volleyball",standard:"FIVB",category:"court",description:"Official FIVB standard indoor volleyball court with attack lines",dimensions:{length_mm:18e3,width_mm:9e3,min_surround_mm:3e3},defaultSurfaceColor:"RH40",defaultLineColor:"RH29",defaultLineWidth_mm:50,markings:[{id:"boundary",name:"Boundary Lines",type:"rectangle",params:{x:0,y:0,width:9e3,height:18e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"boundary"},{id:"center-line",name:"Center Line",type:"line",params:{x1:0,y1:9e3,x2:9e3,y2:9e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"attack-line-bottom",name:"Attack Line (Bottom)",type:"line",params:{x1:0,y1:6e3,x2:9e3,y2:6e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"attack-line-top",name:"Attack Line (Top)",type:"line",params:{x1:0,y1:12e3,x2:9e3,y2:12e3},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"}],zones:[]},"badminton-full":{id:"badminton-full",name:"Badminton (Full Court)",sport:"badminton",standard:"BWF",category:"court",description:"Official BWF standard full badminton court with singles and doubles lines",dimensions:{length_mm:13400,width_mm:6100,min_surround_mm:1e3},defaultSurfaceColor:"RH26",defaultLineColor:"RH12",defaultLineWidth_mm:40,markings:[{id:"boundary",name:"Boundary Lines (Doubles)",type:"rectangle",params:{x:0,y:0,width:6100,height:13400},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"boundary"},{id:"singles-sideline-left",name:"Singles Sideline (Left)",type:"line",params:{x1:460,y1:0,x2:460,y2:13400},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"court-marking"},{id:"singles-sideline-right",name:"Singles Sideline (Right)",type:"line",params:{x1:5640,y1:0,x2:5640,y2:13400},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"court-marking"},{id:"short-service-line-bottom",name:"Short Service Line (Bottom)",type:"line",params:{x1:0,y1:1980,x2:6100,y2:1980},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"court-marking"},{id:"short-service-line-top",name:"Short Service Line (Top)",type:"line",params:{x1:0,y1:11420,x2:6100,y2:11420},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"court-marking"},{id:"doubles-long-service-line-bottom",name:"Doubles Long Service Line (Bottom)",type:"line",params:{x1:0,y1:760,x2:6100,y2:760},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"court-marking"},{id:"doubles-long-service-line-top",name:"Doubles Long Service Line (Top)",type:"line",params:{x1:0,y1:12640,x2:6100,y2:12640},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"court-marking"},{id:"center-service-line",name:"Center Service Line",type:"line",params:{x1:3050,y1:1980,x2:3050,y2:11420},defaultColor:"RH31",lineWidth_mm:40,required:!0,category:"court-marking"}],zones:[]},"pickleball-standard":{id:"pickleball-standard",name:"Pickleball",sport:"pickleball",standard:"USA Pickleball",category:"court",description:"Official USA Pickleball standard court with non-volley zone (kitchen)",dimensions:{length_mm:13410,width_mm:6100,min_surround_mm:1e3},defaultSurfaceColor:"RH11",defaultLineColor:"RH31",defaultLineWidth_mm:50,markings:[{id:"boundary",name:"Boundary Lines",type:"rectangle",params:{x:0,y:0,width:6100,height:13410},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"boundary"},{id:"non-volley-zone-line-bottom",name:"Non-Volley Zone Line (Bottom)",type:"line",params:{x1:0,y1:2130,x2:6100,y2:2130},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"non-volley-zone-line-top",name:"Non-Volley Zone Line (Top)",type:"line",params:{x1:0,y1:11280,x2:6100,y2:11280},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"center-line",name:"Center Line (Net)",type:"line",params:{x1:0,y1:6705,x2:6100,y2:6705},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"},{id:"center-service-line",name:"Center Service Line",type:"line",params:{x1:3050,y1:0,x2:3050,y2:13410},defaultColor:"RH31",lineWidth_mm:50,required:!0,category:"court-marking"}],zones:[]}};function eZ(){return Object.values(u5)}function tZ(t){return u5[t]||null}function rZ(t,e,r){const{type:n,params:i}=t;switch(n){case"line":return iZ(i,e,r);case"rectangle":return oZ(i,e,r);case"circle":return aZ(i,e,r);case"arc":return sZ(i,e,r);case"polyline":return lZ(i,e,r);default:return console.warn(`Unknown marking type: ${n}`),null}}function nZ(t,e){const{type:r,params:n}=t;switch(r){case"rectangle":return{type:"rect",x:n.x,y:n.y,width:n.width,height:n.height,fill:e};case"circle":return{type:"circle",cx:n.cx,cy:n.cy,r:n.radius,fill:e};case"polygon":return{type:"polygon",points:n.points,fill:e};default:return console.warn(`Unknown zone type: ${r}`),null}}function iZ(t,e,r){return{type:"line",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stroke:e,strokeWidth:r}}function oZ(t,e,r){return{type:"rect",x:t.x,y:t.y,width:t.width,height:t.height,stroke:e,strokeWidth:r,fill:"none"}}function aZ(t,e,r){return{type:"circle",cx:t.cx,cy:t.cy,r:t.radius,stroke:e,strokeWidth:r,fill:"none"}}function sZ(t,e,r){const{cx:n,cy:i,radius:o,startAngle:a,endAngle:s}=t,l=a*Math.PI/180,c=s*Math.PI/180,d=n+o*Math.cos(l),h=i+o*Math.sin(l),f=n+o*Math.cos(c),p=i+o*Math.sin(c),g=s-a>180?1:0;return{type:"path",d:`M ${d} ${h} A ${o} ${o} 0 ${g} 1 ${f} ${p}`,stroke:e,strokeWidth:r,fill:"none"}}function lZ(t,e,r){return{type:"polyline",points:t.points.map(i=>`${i[0]},${i[1]}`).join(" "),stroke:e,strokeWidth:r,fill:"none"}}function V2(t){if(t&&t.startsWith("#"))return t;const e=Ri.find(r=>r.code===t);return e?e.hex:"#000000"}function cZ(t){var a;const{template:e,lineColorOverrides:r,zoneColorOverrides:n}=t;if(!e)return console.error("No template provided for court"),{markings:[],zones:[]};const i=e.markings.map(s=>{var h;const l=((h=r[s.id])==null?void 0:h.hex)||e.defaultLineColor,c=V2(l),d=s.lineWidth_mm||e.defaultLineWidth_mm;return{id:s.id,name:s.name,...rZ(s,c,d)}}).filter(Boolean),o=((a=e.zones)==null?void 0:a.map(s=>{var d;const l=((d=n[s.id])==null?void 0:d.hex)||s.defaultColor,c=V2(l);return{id:s.id,name:s.name,...nZ(s,c)}}).filter(Boolean))||[];return{markings:i,zones:o}}function G2(t,e){return Math.round(t/e)*e}function uZ(t,e){return{x:G2(t.x,e),y:G2(t.y,e)}}function d5(t){let e=t%360;return e<0&&(e+=360),e}function dZ(t,e,r){const{width_mm:n,length_mm:i}=e,{width_mm:o,length_mm:a}=r,s=500,l=-(n-s),c=o-s,d=-(i-s),h=a-s;return{x:Math.max(l,Math.min(t.x,c)),y:Math.max(d,Math.min(t.y,h))}}function hZ(t){const{position:e,rotation:r,scale:n,template:i}=t,o=i.dimensions.width_mm/2,a=i.dimensions.length_mm/2;return`translate(${e.x}, ${e.y}) scale(${n}) rotate(${r}, ${o}, ${a})`}function fZ({court:t,svgRef:e}){const{updateCourtRotation:r,updateCourtScale:n,updateCourtPosition:i,addToHistory:o}=vr(),[a,s]=H.useState(!1),[l,c]=H.useState(!1),[d,h]=H.useState(null),[f,p]=H.useState(null),{template:g,position:m,rotation:y,scale:v}=t,b=g.dimensions.width_mm*v,x=g.dimensions.length_mm*v,w=m.x+g.dimensions.width_mm*v/2,S=m.y+g.dimensions.length_mm*v/2,k=g.dimensions.width_mm/2,C=-1e3,P=(_,G)=>{if(!e.current)return{x:0,y:0};const U=e.current.createSVGPoint();U.x=_,U.y=G;const O=U.matrixTransform(e.current.getScreenCTM().inverse());return{x:O.x,y:O.y}},E=_=>{_.stopPropagation(),s(!0),p({x:_.clientX,y:_.clientY})},R=(_,G)=>{_.stopPropagation(),c(!0),h(G),p({x:_.clientX,y:_.clientY,initialScale:v,initialWidth:b,initialHeight:x,initialPosition:{...m}})};H.useEffect(()=>{if(!a&&!l)return;const _=U=>{if(a){const O=P(U.clientX,U.clientY),W=O.x-w,A=O.y-S;let q=Math.atan2(A,W)*(180/Math.PI)+90;q=d5(q),U.shiftKey&&(q=Math.round(q/15)*15),r(t.id,q)}else if(l&&f){const O=P(U.clientX,U.clientY),W=P(f.x,f.y),A=O.x-W.x,q=O.y-W.y;let B=f.initialScale,V={...m};switch(d){case"se":B=Math.max(.3,f.initialScale+A/g.dimensions.width_mm);break;case"nw":B=Math.max(.3,f.initialScale-A/g.dimensions.width_mm),V.x=f.initialPosition.x+(f.initialWidth-g.dimensions.width_mm*B),V.y=f.initialPosition.y+(f.initialHeight-g.dimensions.length_mm*B);break;case"ne":B=Math.max(.3,f.initialScale+A/g.dimensions.width_mm),V.y=f.initialPosition.y+(f.initialHeight-g.dimensions.length_mm*B);break;case"sw":B=Math.max(.3,f.initialScale-A/g.dimensions.width_mm),V.x=f.initialPosition.x+(f.initialWidth-g.dimensions.width_mm*B);break;case"e":B=Math.max(.3,f.initialScale+A/g.dimensions.width_mm);break;case"w":B=Math.max(.3,f.initialScale-A/g.dimensions.width_mm),V.x=f.initialPosition.x+(f.initialWidth-g.dimensions.width_mm*B);break;case"n":B=Math.max(.3,f.initialScale-q/g.dimensions.length_mm),V.y=f.initialPosition.y+(f.initialHeight-g.dimensions.length_mm*B);break;case"s":B=Math.max(.3,f.initialScale+q/g.dimensions.length_mm);break}B=Math.min(3,Math.max(.3,B)),n(t.id,B),(V.x!==m.x||V.y!==m.y)&&i(t.id,V)}},G=()=>{(a||l)&&o(),s(!1),c(!1),h(null),p(null)};return window.addEventListener("mousemove",_),window.addEventListener("mouseup",G),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",G)}},[a,l,f,w,S,t.id,m,v,d]);const N=[{type:"nw",x:0,y:0,cursor:"nwse-resize"},{type:"n",x:g.dimensions.width_mm/2,y:0,cursor:"ns-resize"},{type:"ne",x:g.dimensions.width_mm,y:0,cursor:"nesw-resize"},{type:"e",x:g.dimensions.width_mm,y:g.dimensions.length_mm/2,cursor:"ew-resize"},{type:"se",x:g.dimensions.width_mm,y:g.dimensions.length_mm,cursor:"nwse-resize"},{type:"s",x:g.dimensions.width_mm/2,y:g.dimensions.length_mm,cursor:"ns-resize"},{type:"sw",x:0,y:g.dimensions.length_mm,cursor:"nesw-resize"},{type:"w",x:0,y:g.dimensions.length_mm/2,cursor:"ew-resize"}],T=300,D=250;return u.jsxs("g",{className:"transform-handles",children:[u.jsxs("g",{className:"rotation-handle",onMouseDown:E,style:{cursor:a?"grabbing":"grab"},children:[u.jsx("line",{x1:k,y1:0,x2:k,y2:C+D,stroke:"#007bff",strokeWidth:30,strokeDasharray:"100 50"}),u.jsx("circle",{cx:k,cy:C,r:D,fill:"white",stroke:"#007bff",strokeWidth:40}),u.jsx("path",{d:`M ${k-D*.4} ${C}
              A ${D*.5} ${D*.5} 0 1 1 ${k+D*.4} ${C}`,fill:"none",stroke:"#007bff",strokeWidth:30,strokeLinecap:"round"}),u.jsx("path",{d:`M ${k+D*.4} ${C}
              L ${k+D*.6} ${C-D*.2}
              M ${k+D*.4} ${C}
              L ${k+D*.6} ${C+D*.2}`,fill:"none",stroke:"#007bff",strokeWidth:30,strokeLinecap:"round"})]}),N.map(_=>u.jsx("rect",{className:`scale-handle scale-handle--${_.type}`,x:_.x-T/2,y:_.y-T/2,width:T,height:T,fill:"white",stroke:"#007bff",strokeWidth:40,rx:30,ry:30,style:{cursor:l&&d===_.type?"grabbing":_.cursor,pointerEvents:"all"},onMouseDown:G=>R(G,_.type)},_.type)),a&&u.jsxs("text",{x:g.dimensions.width_mm/2,y:-1e3-D-200,textAnchor:"middle",fontSize:400,fill:"#007bff",fontWeight:"bold",style:{pointerEvents:"none"},children:[Math.round(y),""]}),l&&u.jsxs("text",{x:g.dimensions.width_mm/2,y:g.dimensions.length_mm+600,textAnchor:"middle",fontSize:400,fill:"#007bff",fontWeight:"bold",style:{pointerEvents:"none"},children:[(v*100).toFixed(0),"%"]})]})}function h5(t){const{width_mm:e,height_mm:r,numLanes:n,laneWidth_mm:i,cornerRadius:o={topLeft:3e3,topRight:3e3,bottomLeft:3e3,bottomRight:3e3},lineWidth_mm:a=50}=t,s=[];if(o.topLeft===0&&o.topRight===0&&o.bottomLeft===0&&o.bottomRight===0){const c=n*i;for(let d=0;d<n;d++){const h=d*i;s.push({laneNumber:d+1,innerPath:null,outerPath:pZ(i,r,d),perimeter:2*r/1e3,isParallel:!0,laneX:h,laneWidth:i})}return{lanes:s,totalWidth:c,totalLength:r,usableWidth:c,usableHeight:r,isStraightTrack:!0}}else for(let c=0;c<n;c++){const d=c*i,h=(c+1)*i,f=Math.max(0,e-h*2),p=Math.max(0,r-h*2),g=Math.max(0,e-d*2),m=Math.max(0,r-d*2),y={topLeft:Math.max(0,o.topLeft-h),topRight:Math.max(0,o.topRight-h),bottomLeft:Math.max(0,o.bottomLeft-h),bottomRight:Math.max(0,o.bottomRight-h)},v={topLeft:Math.max(0,o.topLeft-d),topRight:Math.max(0,o.topRight-d),bottomLeft:Math.max(0,o.bottomLeft-d),bottomRight:Math.max(0,o.bottomRight-d)};s.push({laneNumber:c+1,innerPath:q2(f,p,y,h),outerPath:q2(g,m,v,d),perimeter:gZ(g,m,v),isParallel:!1})}return{lanes:s,totalWidth:e,totalLength:r,usableWidth:e-n*i*2,usableHeight:r-n*i*2}}function q2(t,e,r,n=0){if(t<=0||e<=0)return`M ${n} ${n} L ${n} ${n}`;const i=Math.min(t/2,e/2),o=Math.min(r.topLeft,i),a=Math.min(r.topRight,i),s=Math.min(r.bottomRight,i),l=Math.min(r.bottomLeft,i),c=n,d=n+t,h=n,f=n+e;return`
    M ${c+o} ${h}
    L ${d-a} ${h}
    ${a>0?`A ${a} ${a} 0 0 1 ${d} ${h+a}`:""}
    L ${d} ${f-s}
    ${s>0?`A ${s} ${s} 0 0 1 ${d-s} ${f}`:""}
    L ${c+l} ${f}
    ${l>0?`A ${l} ${l} 0 0 1 ${c} ${f-l}`:""}
    L ${c} ${h+o}
    ${o>0?`A ${o} ${o} 0 0 1 ${c+o} ${h}`:""}
    Z
  `.trim().replace(/\s+/g," ")}function pZ(t,e,r){const n=r*t;return`M ${n} 0 L ${n+t} 0 L ${n+t} ${e} L ${n} ${e} Z`}function gZ(t,e,r){if(t<=0||e<=0)return 0;const n=Math.min(t/2,e/2),i=Math.min(r.topLeft,n),o=Math.min(r.topRight,n),a=Math.min(r.bottomRight,n),s=Math.min(r.bottomLeft,n),l=t-i-o,c=e-o-a,d=t-a-s,h=e-s-i,f=Math.PI*i/2,p=Math.PI*o/2,g=Math.PI*a/2,m=Math.PI*s/2;return(l+c+d+h+f+p+g+m)/1e3}function f5(t){if(!t||!t.lanes||t.lanes.length===0)return[];const e=t.lanes.length-1,r=t.lanes[e].perimeter;return t.lanes.map((n,i)=>n.perimeter-r)}function K2(t,e,r){const{width_mm:n,height_mm:i,laneWidth_mm:o,cornerRadius:a={topLeft:3e3,topRight:3e3,bottomLeft:3e3,bottomRight:3e3}}=r,s=t*o,l=Math.max(0,n-s*2),c=Math.max(0,i-s*2),d=Math.min(l/2,c/2),h=Math.min(Math.max(0,a.topLeft-s),d),f=Math.min(Math.max(0,a.topRight-s),d),p=Math.min(Math.max(0,a.bottomRight-s),d),g=Math.min(Math.max(0,a.bottomLeft-s),d),m=s,y=s+l,v=s,b=s+c,x=[{type:"arc",length:Math.PI*g/2,radius:g,corner:"bottomLeft"},{type:"straight",length:c-g-h,dir:"up"},{type:"arc",length:Math.PI*h/2,radius:h,corner:"topLeft"},{type:"straight",length:l-h-f,dir:"right"},{type:"arc",length:Math.PI*f/2,radius:f,corner:"topRight"},{type:"straight",length:c-f-p,dir:"down"},{type:"arc",length:Math.PI*p/2,radius:p,corner:"bottomRight"},{type:"straight",length:l-p-g,dir:"left"}];let w=e;const S=x.reduce((C,P)=>C+P.length,0);for(;w<0;)w+=S;for(;w>=S;)w-=S;let k=0;for(const C of x){if(w<=k+C.length){const P=w-k,E=C.length>0?P/C.length:0;return C.type==="arc"?mZ(C,E,{left:m,right:y,top:v,bottom:b,tl:h,tr:f,br:p,bl:g}):vZ(C,E,{left:m,right:y,top:v,bottom:b,tl:h,tr:f,br:p,bl:g})}k+=C.length}return{x:m,y:b-g,angle:-Math.PI/2}}function mZ(t,e,r){const{left:n,right:i,top:o,bottom:a,tl:s,tr:l,br:c,bl:d}=r,h=e*(Math.PI/2);switch(t.corner){case"bottomLeft":{const f=n+d,p=a-d,m=Math.PI/2+h;return{x:f+d*Math.cos(m),y:p+d*Math.sin(m),angle:m+Math.PI/2}}case"topLeft":{const f=n+s,p=o+s,m=Math.PI+h;return{x:f+s*Math.cos(m),y:p+s*Math.sin(m),angle:m+Math.PI/2}}case"topRight":{const f=i-l,p=o+l,m=-Math.PI/2+h;return{x:f+l*Math.cos(m),y:p+l*Math.sin(m),angle:m+Math.PI/2}}case"bottomRight":{const f=i-c,p=a-c,m=0+h;return{x:f+c*Math.cos(m),y:p+c*Math.sin(m),angle:m+Math.PI/2}}default:return{x:n,y:o,angle:0}}}function vZ(t,e,r){const{left:n,right:i,top:o,bottom:a,tl:s,tr:l,br:c,bl:d}=r;switch(t.dir){case"up":{const h=a-d,f=o+s;return{x:n,y:h+e*(f-h),angle:-Math.PI/2}}case"right":{const h=n+s,f=i-l;return{x:h+e*(f-h),y:o,angle:0}}case"down":{const h=o+l,f=a-c;return{x:i,y:h+e*(f-h),angle:Math.PI/2}}case"left":{const h=i-c,f=n+d;return{x:h+e*(f-h),y:a,angle:Math.PI}}default:return{x:n,y:o,angle:0}}}function X2(t,e,r){const n=K2(t,e,r),i=K2(t+1,e,r);return{x:(n.x+i.x)/2,y:(n.y+i.y)/2,angle:n.angle,innerX:i.x,innerY:i.y,outerX:n.x,outerY:n.y}}function Z2(t,e,r){const{width_mm:n,height_mm:i,laneWidth_mm:o,cornerRadius:a={topLeft:3e3,topRight:3e3,bottomLeft:3e3,bottomRight:3e3}}=r,s=t*o,l=Math.max(0,n-s*2),c=Math.max(0,i-s*2),d=Math.min(l/2,c/2),h=Math.min(Math.max(0,a.topLeft-s),d),f=Math.min(Math.max(0,a.topRight-s),d),p=Math.min(Math.max(0,a.bottomRight-s),d),g=Math.min(Math.max(0,a.bottomLeft-s),d),m=[{type:"arc",length:Math.PI*g/2,corner:"bottomLeft"},{type:"straight",length:c-g-h,dir:"up"},{type:"arc",length:Math.PI*h/2,corner:"topLeft"},{type:"straight",length:l-h-f,dir:"right"},{type:"arc",length:Math.PI*f/2,corner:"topRight"},{type:"straight",length:c-f-p,dir:"down"},{type:"arc",length:Math.PI*p/2,corner:"bottomRight"},{type:"straight",length:l-p-g,dir:"left"}],y=m.reduce((x,w)=>x+w.length,0);let v=e;for(;v<0;)v+=y;for(;v>=y;)v-=y;let b=0;for(let x=0;x<m.length;x++){if(v<=b+m[x].length){const w=v-b,S=m[x].length>0?w/m[x].length:0;return{segmentIndex:x,t:S,segments:m,totalPerimeter:y}}b+=m[x].length}return{segmentIndex:0,t:0,segments:m,totalPerimeter:y}}function Y2(t,e,r,n){const i=Z2(r,e,n),o=Z2(t,0,n);let a=0;for(let c=0;c<i.segmentIndex;c++)a+=o.segments[c].length;const s=o.segments[i.segmentIndex].length;return a+i.t*s}function yZ({track:t,svgRef:e}){const{updateTrackParameters:r,updateTrackPosition:n,updateTrackRotation:i,addToHistory:o}=vr(),[a,s]=H.useState(!1),[l,c]=H.useState(!1),[d,h]=H.useState(null),[f,p]=H.useState(null),{parameters:g,position:m,rotation:y}=t,v=g.width_mm,b=g.height_mm,x=m.x+v/2,w=m.y+b/2,S=v/2,k=-1e3,C=(T,D)=>{if(!e.current)return{x:0,y:0};const _=e.current.createSVGPoint();_.x=T,_.y=D;const G=_.matrixTransform(e.current.getScreenCTM().inverse());return{x:G.x,y:G.y}},P=T=>{T.stopPropagation(),c(!0),p({x:T.clientX,y:T.clientY})},E=(T,D)=>{T.stopPropagation(),s(!0),h(D);const _=C(T.clientX,T.clientY);p({screenX:T.clientX,screenY:T.clientY,svgX:_.x,svgY:_.y,initialWidth:v,initialHeight:b,initialPosition:{...m},initialCornerRadius:{...g.cornerRadius}})};H.useEffect(()=>{if(!a&&!l)return;const T=_=>{if(l){const ae=C(_.clientX,_.clientY),ce=ae.x-x,Ae=ae.y-w;let Re=Math.atan2(Ae,ce)*(180/Math.PI)+90;Re=d5(Re),_.shiftKey&&(Re=Math.round(Re/15)*15),i(t.id,Re);return}if(!f)return;const G=C(_.clientX,_.clientY),U=G.x-f.svgX,O=G.y-f.svgY;let W=f.initialWidth,A=f.initialHeight,q={...m},B={...f.initialCornerRadius};const V=3e3;switch(d){case"se":W=Math.max(V,f.initialWidth+U),A=Math.max(V,f.initialHeight+O);const ae=Math.min(W/f.initialWidth,A/f.initialHeight);B={topLeft:f.initialCornerRadius.topLeft*ae,topRight:f.initialCornerRadius.topRight*ae,bottomLeft:f.initialCornerRadius.bottomLeft*ae,bottomRight:f.initialCornerRadius.bottomRight*ae};break;case"nw":W=Math.max(V,f.initialWidth-U),A=Math.max(V,f.initialHeight-O),q.x=f.initialPosition.x+(f.initialWidth-W),q.y=f.initialPosition.y+(f.initialHeight-A);const ce=Math.min(W/f.initialWidth,A/f.initialHeight);B={topLeft:f.initialCornerRadius.topLeft*ce,topRight:f.initialCornerRadius.topRight*ce,bottomLeft:f.initialCornerRadius.bottomLeft*ce,bottomRight:f.initialCornerRadius.bottomRight*ce};break;case"ne":W=Math.max(V,f.initialWidth+U),A=Math.max(V,f.initialHeight-O),q.y=f.initialPosition.y+(f.initialHeight-A);const Ae=Math.min(W/f.initialWidth,A/f.initialHeight);B={topLeft:f.initialCornerRadius.topLeft*Ae,topRight:f.initialCornerRadius.topRight*Ae,bottomLeft:f.initialCornerRadius.bottomLeft*Ae,bottomRight:f.initialCornerRadius.bottomRight*Ae};break;case"sw":W=Math.max(V,f.initialWidth-U),A=Math.max(V,f.initialHeight+O),q.x=f.initialPosition.x+(f.initialWidth-W);const Re=Math.min(W/f.initialWidth,A/f.initialHeight);B={topLeft:f.initialCornerRadius.topLeft*Re,topRight:f.initialCornerRadius.topRight*Re,bottomLeft:f.initialCornerRadius.bottomLeft*Re,bottomRight:f.initialCornerRadius.bottomRight*Re};break;case"e":W=Math.max(V,f.initialWidth+U);const ke=W/f.initialWidth;B={topLeft:f.initialCornerRadius.topLeft*ke,topRight:f.initialCornerRadius.topRight*ke,bottomLeft:f.initialCornerRadius.bottomLeft*ke,bottomRight:f.initialCornerRadius.bottomRight*ke};break;case"w":W=Math.max(V,f.initialWidth-U),q.x=f.initialPosition.x+(f.initialWidth-W);const Ee=W/f.initialWidth;B={topLeft:f.initialCornerRadius.topLeft*Ee,topRight:f.initialCornerRadius.topRight*Ee,bottomLeft:f.initialCornerRadius.bottomLeft*Ee,bottomRight:f.initialCornerRadius.bottomRight*Ee};break;case"n":A=Math.max(V,f.initialHeight-O),q.y=f.initialPosition.y+(f.initialHeight-A);const Ze=A/f.initialHeight;B={topLeft:f.initialCornerRadius.topLeft*Ze,topRight:f.initialCornerRadius.topRight*Ze,bottomLeft:f.initialCornerRadius.bottomLeft*Ze,bottomRight:f.initialCornerRadius.bottomRight*Ze};break;case"s":A=Math.max(V,f.initialHeight+O);const ot=A/f.initialHeight;B={topLeft:f.initialCornerRadius.topLeft*ot,topRight:f.initialCornerRadius.topRight*ot,bottomLeft:f.initialCornerRadius.bottomLeft*ot,bottomRight:f.initialCornerRadius.bottomRight*ot};break}const he=Math.min(W,A)/2;B={topLeft:Math.min(B.topLeft,he),topRight:Math.min(B.topRight,he),bottomLeft:Math.min(B.bottomLeft,he),bottomRight:Math.min(B.bottomRight,he)},r(t.id,{width_mm:W,height_mm:A,cornerRadius:B}),(q.x!==m.x||q.y!==m.y)&&n(t.id,q)},D=()=>{(a||l)&&o(),s(!1),c(!1),h(null),p(null)};return window.addEventListener("mousemove",T),window.addEventListener("mouseup",D),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",D)}},[a,f,d,t.id,m,g,r,n,o]);const R=[{type:"nw",x:0,y:0,cursor:"nwse-resize"},{type:"n",x:v/2,y:0,cursor:"ns-resize"},{type:"ne",x:v,y:0,cursor:"nesw-resize"},{type:"e",x:v,y:b/2,cursor:"ew-resize"},{type:"se",x:v,y:b,cursor:"nwse-resize"},{type:"s",x:v/2,y:b,cursor:"ns-resize"},{type:"sw",x:0,y:b,cursor:"nesw-resize"},{type:"w",x:0,y:b/2,cursor:"ew-resize"}],N=400;return u.jsxs("g",{className:"track-resize-handles",children:[u.jsxs("g",{className:"rotation-handle-group",children:[u.jsx("line",{x1:S,y1:0,x2:S,y2:k,stroke:"#0066CC",strokeWidth:30,strokeDasharray:"100 100",opacity:.5,style:{pointerEvents:"none"}}),u.jsx("circle",{className:"rotation-handle",cx:S,cy:k,r:N/2,fill:"white",stroke:"#0066CC",strokeWidth:50,style:{cursor:l?"grabbing":"grab",pointerEvents:"all"},onMouseDown:P}),u.jsx("path",{d:`M ${S-100} ${k-50}
              A 100 100 0 1 1 ${S+100} ${k-50}`,fill:"none",stroke:"#0066CC",strokeWidth:40,strokeLinecap:"round",style:{pointerEvents:"none"}}),u.jsx("path",{d:`M ${S+100} ${k-50}
              L ${S+80} ${k-120}
              L ${S+150} ${k-80}
              Z`,fill:"#0066CC",style:{pointerEvents:"none"}})]}),R.map(T=>u.jsx("rect",{className:`resize-handle resize-handle--${T.type}`,x:T.x-N/2,y:T.y-N/2,width:N,height:N,fill:"white",stroke:"#0066CC",strokeWidth:50,rx:40,ry:40,style:{cursor:a&&d===T.type?"grabbing":T.cursor,pointerEvents:"all"},onMouseDown:D=>E(D,T.type)},T.type)),a&&u.jsxs("text",{x:v/2,y:b+800,textAnchor:"middle",fontSize:400,fill:"#0066CC",fontWeight:"bold",style:{pointerEvents:"none"},children:[(v/1e3).toFixed(1),"m  ",(b/1e3).toFixed(1),"m"]}),l&&u.jsxs("text",{x:v/2,y:-1500,textAnchor:"middle",fontSize:400,fill:"#0066CC",fontWeight:"bold",style:{pointerEvents:"none"},children:[y.toFixed(0),""]})]})}function bZ({geometry:t,parameters:e,boxConfig:r,surfaceColor:n,isStraightTrack:i}){if(!r||!r.enabled)return null;const{depth_mm:o=400,lineWidth_mm:a=50,perLaneOffsets:s=[],style:l="staggered",direction:c="counterclockwise",startPosition:d=0}=r,h=n||"#A5362F",f="#FFFFFF",p=l==="staggered"||l==="both",g=l==="straight"||l==="both";return u.jsx("g",{className:"starting-boxes",children:t.lanes.map((m,y)=>{const v=y+1;return i?xZ(y,v,e,t,o,a,h,f,p,g,s,c):wZ(y,v,e,t,o,a,h,f,p,g,s,c,d)})})}function xZ(t,e,r,n,i,o,a,s,l,c,d,h){const f=t*r.laneWidth_mm,p=r.laneWidth_mm,g=h==="clockwise",m=g?n.totalLength-i:0,y=g?0:n.totalLength-i,v=(d[t]||0)*1e3,b=[];if(l&&!c){const x=g?m-v:m+v;b.push(u.jsx(jh,{x:f,y:x,width:p,height:i,laneNumber:e,boxFillColor:a,lineColor:s,lineWidth:o,flipLine:g},`stagger-${e}`))}else if(c&&!l)b.push(u.jsx(jh,{x:f,y:m,width:p,height:i,laneNumber:e,boxFillColor:a,lineColor:s,lineWidth:o,flipLine:g},`straight-${e}`));else if(l&&c){const x=g?m-v:m+v;b.push(u.jsx(jh,{x:f,y:x,width:p,height:i,laneNumber:e,boxFillColor:a,lineColor:s,lineWidth:o,flipLine:g},`stagger-${e}`)),b.push(u.jsx(jh,{x:f,y,width:p,height:i,laneNumber:e,boxFillColor:a,lineColor:s,lineWidth:o,flipLine:!g},`straight-${e}`))}return u.jsx("g",{children:b},`lane-boxes-${e}`)}function jh({x:t,y:e,width:r,height:n,laneNumber:i,boxFillColor:o,lineColor:a,lineWidth:s,flipLine:l}){const c=l?e+n:e;return u.jsxs("g",{children:[u.jsx("rect",{x:t,y:e,width:r,height:n,fill:o,stroke:"none",pointerEvents:"none"}),u.jsx("line",{x1:t,y1:c,x2:t+r,y2:c,stroke:a,strokeWidth:s,strokeLinecap:"butt",pointerEvents:"none"}),u.jsx("text",{x:t+r/2,y:e+n/2,fontSize:Math.min(r*.4,r*.5),fill:a,textAnchor:"middle",dominantBaseline:"middle",fontWeight:"bold",pointerEvents:"none",opacity:"0.8",children:i})]})}function wZ(t,e,r,n,i,o,a,s,l,c,d,h,f=0){var C,P;const p=h==="clockwise",g=n.lanes.length-1,m=(((C=n.lanes[g])==null?void 0:C.perimeter)||0)*1e3,y=m/2,v=f/100*m,b=Y2(t,v,g,r),w=(((P=n.lanes[t])==null?void 0:P.perimeter)||0)*1e3/2,S=(d[t]||0)*1e3,k=[];if(l&&!c){const E=p?b+w+S:b+S;k.push(u.jsx(Eh,{index:t,laneNumber:e,distance:E,depth_mm:i,parameters:r,boxFillColor:a,lineColor:s,lineWidth:o},`stagger-${e}`))}else if(c&&!l){const E=p?b+w:b;k.push(u.jsx(Eh,{index:t,laneNumber:e,distance:E,depth_mm:i,parameters:r,boxFillColor:a,lineColor:s,lineWidth:o},`straight-${e}`))}else if(l&&c){const E=p?b+w+S:b+S,R=p?v:v+y,N=Y2(t,R,g,r),T=N;k.push(u.jsx(Eh,{index:t,laneNumber:e,distance:E,depth_mm:i,parameters:r,boxFillColor:a,lineColor:s,lineWidth:o},`stagger-${e}`)),k.push(u.jsx(Eh,{index:t,laneNumber:e,distance:T,depth_mm:i,parameters:r,boxFillColor:a,lineColor:s,lineWidth:o},`straight-${e}`))}return u.jsx("g",{children:k},`lane-boxes-${e}`)}function Eh({index:t,laneNumber:e,distance:r,depth_mm:n,parameters:i,boxFillColor:o,lineColor:a,lineWidth:s}){const l=X2(t,r,i),c=l.angle+Math.PI/2,d=i.laneWidth_mm/2,h=l.x+Math.cos(c)*d,f=l.y+Math.sin(c)*d,p=l.x-Math.cos(c)*d,g=l.y-Math.sin(c)*d,m=X2(t,r+n,i),y=m.angle+Math.PI/2,v=m.x+Math.cos(y)*d,b=m.y+Math.sin(y)*d,x=m.x-Math.cos(y)*d,w=m.y-Math.sin(y)*d,S=`
    M ${h} ${f}
    L ${p} ${g}
    L ${x} ${w}
    L ${v} ${b}
    Z
  `.trim().replace(/\s+/g," ");return u.jsxs("g",{children:[u.jsx("path",{d:S,fill:o,stroke:"none",pointerEvents:"none"}),u.jsx("line",{x1:h,y1:f,x2:p,y2:g,stroke:a,strokeWidth:s,strokeLinecap:"butt",pointerEvents:"none"}),u.jsx("text",{x:l.x,y:l.y,fontSize:i.laneWidth_mm*.5,fill:a,textAnchor:"middle",dominantBaseline:"middle",fontWeight:"bold",pointerEvents:"none",opacity:"0.8",transform:`rotate(${l.angle*180/Math.PI+90}, ${l.x}, ${l.y})`,children:e})]})}function SZ({track:t,isSelected:e,onMouseDown:r,onDoubleClick:n,svgRef:i}){var x,w,S;const{parameters:o,position:a,rotation:s,trackSurfaceColor:l}=t,c=h5(o),d=c.lanes.length>0&&c.lanes[0].isParallel===!0,h=c.totalWidth,f=c.totalLength,p=h/2,g=f/2,m=`translate(${a.x}, ${a.y}) rotate(${s}, ${p}, ${g})`,y=(l==null?void 0:l.hex)||"#A5362F",v="#FFFFFF",b=o.lineWidth_mm||50;return console.log("TrackRenderer - trackSurfaceColor:",l),console.log("TrackRenderer - surfaceColor:",y),console.log("TrackRenderer - geometry.lanes.length:",c.lanes.length),u.jsxs("g",{className:`track-element ${e?"track-element--selected":""}`,transform:m,style:{cursor:"move"},children:[u.jsx("rect",{x:"0",y:"0",width:h,height:f,fill:"none",pointerEvents:"all",onMouseDown:r,onDoubleClick:n,style:{cursor:"move"}}),d?c.lanes.map(k=>u.jsx("path",{d:k.outerPath,fill:y,stroke:"none",pointerEvents:"none"},`lane-fill-${k.laneNumber}`)):u.jsx("path",{d:`${c.lanes[0].outerPath} ${c.lanes[c.lanes.length-1].innerPath}`,fill:y,fillRule:"evenodd",stroke:"none",pointerEvents:"none"}),c.lanes.map((k,C)=>u.jsx(kZ,{lane:k,lineColor:v,lineWidth:b,isLastLane:C===c.lanes.length-1,isStraightTrack:d,geometry:c},`stroke-${k.laneNumber}`)),((x=o.startingBoxes)==null?void 0:x.enabled)&&u.jsx(bZ,{geometry:c,parameters:o,boxConfig:{...o.startingBoxes,perLaneOffsets:((w=t.template)==null?void 0:w.trackType)==="curved"?f5(c):[]},surfaceColor:y,isStraightTrack:((S=t.template)==null?void 0:S.trackType)==="straight"}),e&&u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"-10",y:"-10",width:h+20,height:f+20,fill:"none",stroke:"#0066CC",strokeWidth:"80",strokeDasharray:"400 400",opacity:"0.5",pointerEvents:"none"}),u.jsx(yZ,{track:t,svgRef:i})]})]})}function kZ({lane:t,lineColor:e,lineWidth:r,isLastLane:n,isStraightTrack:i,geometry:o}){const{innerPath:a,outerPath:s}=t,l=50;return i?u.jsxs("g",{className:"track-lane-stroke",children:[t.laneNumber===1&&u.jsx("line",{x1:t.laneX,y1:0,x2:t.laneX,y2:o.totalLength,stroke:e,strokeWidth:l,pointerEvents:"none"}),u.jsx("line",{x1:t.laneX+t.laneWidth,y1:0,x2:t.laneX+t.laneWidth,y2:o.totalLength,stroke:e,strokeWidth:l,pointerEvents:"none"})]}):u.jsxs("g",{className:"track-lane-stroke",children:[u.jsx("path",{d:s,fill:"none",stroke:e,strokeWidth:l,pointerEvents:"none"}),n&&u.jsx("path",{d:a,fill:"none",stroke:e,strokeWidth:l,pointerEvents:"none"})]})}const _Z=H.forwardRef(function(e,r){const n=H.useRef(null);H.useImperativeHandle(r,()=>n.current);const[i,o]=H.useState(!1),[a,s]=H.useState(null),[l,c]=H.useState(null),[d,h]=H.useState(null),{surface:f,courts:p,tracks:g,elementOrder:m,selectedCourtId:y,selectedTrackId:v,snapToGrid:b,gridSize_mm:x,selectCourt:w,deselectCourt:S,selectTrack:k,deselectTrack:C,updateCourtPosition:P,updateTrackPosition:E}=vr(),R=(U,O)=>{const W=n.current,A=W.createSVGPoint();A.x=U,A.y=O;const q=A.matrixTransform(W.getScreenCTM().inverse());return{x:q.x,y:q.y}},N=(U,O)=>{U.stopPropagation(),w(O);const W=R(U.clientX,U.clientY),A=p[O];s({x:W.x-A.position.x,y:W.y-A.position.y}),c(O),o(!0)},T=(U,O)=>{U.stopPropagation(),w(O),vr.setState({showPropertiesPanel:!0,propertiesPanelUserClosed:!1})},D=(U,O)=>{U.stopPropagation(),k(O);const W=R(U.clientX,U.clientY),A=g[O];s({x:W.x-A.position.x,y:W.y-A.position.y}),h(O),o(!0)},_=(U,O)=>{U.stopPropagation(),k(O),vr.setState({showPropertiesPanel:!0,propertiesPanelUserClosed:!1})};H.useEffect(()=>{o(!1),c(null),h(null),s(null)},[f.width_mm,f.length_mm]),H.useEffect(()=>{if(!i||!l&&!d)return;const U=W=>{const A=R(W.clientX,W.clientY);let q={x:A.x-a.x,y:A.y-a.y};if(b&&(q=uZ(q,x)),l){const B=p[l],V={width_mm:B.template.dimensions.width_mm*B.scale,length_mm:B.template.dimensions.length_mm*B.scale};q=dZ(q,V,f),P(l,q)}else d&&E(d,q)},O=()=>{if(l||d){const{addToHistory:W}=vr.getState();W()}o(!1),c(null),h(null),s(null)};return window.addEventListener("mousemove",U),window.addEventListener("mouseup",O),()=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",O)}},[i,l,d,a,p,g,b,x,f,P,E]);const G=U=>{U.target===U.currentTarget&&(S(),C())};return u.jsxs("div",{className:"court-canvas",onClick:G,children:[u.jsxs("svg",{ref:n,className:"court-canvas__svg",viewBox:`0 0 ${f.width_mm} ${f.length_mm}`,preserveAspectRatio:"xMidYMid meet",children:[u.jsx("rect",{x:"0",y:"0",width:f.width_mm,height:f.length_mm,fill:f.color.hex,className:"court-canvas__surface"}),m.map(U=>{if(U.startsWith("court-")){const O=p[U];return O?u.jsx(CZ,{court:O,isSelected:U===y,onMouseDown:W=>N(W,U),onDoubleClick:W=>T(W,U),svgRef:n},U):null}if(U.startsWith("track-")){const O=g[U];return O?u.jsx(SZ,{track:O,isSelected:U===v,onMouseDown:W=>D(W,U),onDoubleClick:W=>_(W,U),svgRef:n},U):null}return null})]}),u.jsxs("div",{className:"court-canvas__info",children:[u.jsxs("span",{children:[(f.width_mm/1e3).toFixed(1),"m  ",(f.length_mm/1e3).toFixed(1),"m"]}),b&&u.jsxs("span",{className:"court-canvas__grid-indicator",children:["Grid: ",x,"mm"]})]})]})});function CZ({court:t,isSelected:e,onMouseDown:r,onDoubleClick:n,svgRef:i}){var l;const{markings:o,zones:a}=cZ(t),s=((l=t.courtSurfaceColor)==null?void 0:l.hex)||null;return u.jsxs("g",{className:`court-canvas__court ${e?"court-canvas__court--selected":""}`,transform:hZ(t),style:{cursor:"move"},children:[s&&u.jsx("rect",{x:"0",y:"0",width:t.template.dimensions.width_mm,height:t.template.dimensions.length_mm,fill:s,className:"court-canvas__court-surface"}),u.jsx("rect",{x:"0",y:"0",width:t.template.dimensions.width_mm,height:t.template.dimensions.length_mm,fill:"none",pointerEvents:"all",onMouseDown:r,onDoubleClick:n,style:{cursor:"move"}}),a.map(c=>u.jsx(jZ,{zone:c},c.id)),o.map(c=>u.jsx(EZ,{marking:c},c.id)),e&&u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"0",y:"0",width:t.template.dimensions.width_mm,height:t.template.dimensions.length_mm,fill:"none",stroke:"#007bff",strokeWidth:"100",strokeDasharray:"400 400",className:"court-canvas__selection-outline"}),u.jsx(fZ,{court:t,svgRef:i})]})]})}function jZ({zone:t}){switch(t.type){case"rect":return u.jsx("rect",{x:t.x,y:t.y,width:t.width,height:t.height,fill:t.fill});case"circle":return u.jsx("circle",{cx:t.cx,cy:t.cy,r:t.r,fill:t.fill});case"polygon":return u.jsx("polygon",{points:t.points,fill:t.fill});default:return null}}function EZ({marking:t}){switch(t.type){case"line":return u.jsx("line",{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stroke:t.stroke,strokeWidth:t.strokeWidth});case"rect":return u.jsx("rect",{x:t.x,y:t.y,width:t.width,height:t.height,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill});case"circle":return u.jsx("circle",{cx:t.cx,cy:t.cy,r:t.r,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill});case"path":return u.jsx("path",{d:t.d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill});case"polyline":return u.jsx("polyline",{points:t.points,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill});default:return null}}const p5={"track-flexible":{id:"track-flexible",name:"Running Track",type:"running-track",trackType:"curved",standard:"Flexible Design",category:"track",description:"Flexible running track - adjust size, lanes, and corner radius to fit your surface",parameters:{numLanes:4,laneWidth_mm:1220,width_mm:25e3,height_mm:15e3,cornerRadius:{topLeft:3e3,topRight:3e3,bottomLeft:3e3,bottomRight:3e3},lineWidth_mm:50,startingBoxes:{enabled:!1,depth_mm:400,lineWidth_mm:50}},defaultLineColor:"RH31",defaultTrackSurfaceColor:"RH01",calculatedDimensions:{totalWidth_mm:25e3,totalLength_mm:15e3}},"track-straight":{id:"track-straight",name:"Straight Track",type:"running-track",trackType:"straight",standard:"Sprint Track",category:"track",description:"Straight sprint track - perfect for 60m, 100m, or custom length sprints",parameters:{numLanes:6,laneWidth_mm:1220,width_mm:7320,height_mm:1e5,cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},lineWidth_mm:50,startingBoxes:{enabled:!1,depth_mm:400,lineWidth_mm:50}},defaultLineColor:"RH31",defaultTrackSurfaceColor:"RH01",calculatedDimensions:{totalWidth_mm:7320,totalLength_mm:1e5}}};function TZ(){return Object.values(p5)}function RZ(t){return p5[t]||null}function PZ(){const[t,e]=H.useState(null),[r,n]=H.useState("courts"),{addCourt:i,addTrack:o,courts:a,tracks:s}=vr(),l=Object.keys(a).length,c=Object.keys(s).length,d=eZ(),h=TZ(),f=g=>{const m=tZ(g);m&&i(g,m)},p=g=>{const m=RZ(g);m&&o(g,m)};return u.jsxs("div",{className:"court-library",children:[u.jsxs("div",{className:"court-library__header",children:[u.jsxs("div",{className:"court-library__header-row",children:[u.jsx("h2",{children:r==="courts"?"Court Library":"Track Library"}),u.jsxs("span",{className:"court-library__count",children:[r==="courts"?l:c," on canvas"]})]}),u.jsx("p",{children:r==="courts"?"Select a court to add":"Select a track to add"})]}),u.jsxs("div",{className:"court-library__tabs",children:[u.jsx("button",{className:`court-library__tab ${r==="courts"?"court-library__tab--active":""}`,onClick:()=>{n("courts"),e(null)},children:"Courts"}),u.jsx("button",{className:`court-library__tab ${r==="tracks"?"court-library__tab--active":""}`,onClick:()=>{n("tracks"),e(null)},children:"Tracks"})]}),u.jsxs("div",{className:"court-library__list",children:[r==="courts"&&d.map(g=>u.jsxs("div",{className:`court-library__item ${t===g.id?"court-library__item--selected":""}`,onClick:()=>e(g.id),onDoubleClick:()=>f(g.id),children:[u.jsx("div",{className:"court-library__preview",children:u.jsx(OZ,{template:g})}),u.jsxs("div",{className:"court-library__info",children:[u.jsx("div",{className:"court-library__name",children:g.name}),u.jsxs("div",{className:"court-library__dimensions",children:[(g.dimensions.width_mm/1e3).toFixed(1),"m  ",(g.dimensions.length_mm/1e3).toFixed(1),"m"]}),u.jsx("div",{className:"court-library__standard",children:g.standard})]}),t===g.id&&u.jsx("button",{className:"court-library__add-btn",onClick:m=>{m.stopPropagation(),f(g.id)},children:"+ ADD"})]},g.id)),r==="tracks"&&h.map(g=>u.jsxs("div",{className:`court-library__item ${t===g.id?"court-library__item--selected":""}`,onClick:()=>e(g.id),onDoubleClick:()=>p(g.id),children:[u.jsx("div",{className:"court-library__preview",children:u.jsx(NZ,{template:g})}),u.jsxs("div",{className:"court-library__info",children:[u.jsx("div",{className:"court-library__name",children:g.name}),u.jsxs("div",{className:"court-library__standard",children:[g.parameters.numLanes," Lanes  ",g.standard]}),u.jsx("div",{className:"court-library__note",children:"Scales to fit canvas"})]}),t===g.id&&u.jsx("button",{className:"court-library__add-btn",onClick:m=>{m.stopPropagation(),p(g.id)},children:"+ ADD"})]},g.id))]}),u.jsx("div",{className:"court-library__footer",children:u.jsxs("p",{className:"court-library__hint",children:[" ",r==="courts"?"Double-click a court to add it instantly":"Double-click a track to add it instantly"]})})]})}function OZ({template:t}){const e=t.dimensions.width_mm,r=t.dimensions.length_mm,n=Math.min(62/e,62/r),i=e*n,o=r*n;return u.jsxs("svg",{width:"62",height:"62",viewBox:"0 0 62 62",className:"court-library__svg-preview",children:[u.jsx("rect",{x:(62-i)/2,y:(62-o)/2,width:i,height:o,fill:"#e5e7eb",stroke:"#9ca3af",strokeWidth:"1.5"}),t.markings.map((a,s)=>u.jsx(AZ,{marking:a,scale:n,offsetX:(62-i)/2,offsetY:(62-o)/2},s))]})}function AZ({marking:t,scale:e,offsetX:r,offsetY:n}){const{type:i,params:o}=t;switch(i){case"line":return u.jsx("line",{x1:o.x1*e+r,y1:o.y1*e+n,x2:o.x2*e+r,y2:o.y2*e+n,stroke:"#1e293b",strokeWidth:"1.5"});case"rectangle":return u.jsx("rect",{x:o.x*e+r,y:o.y*e+n,width:o.width*e,height:o.height*e,stroke:"#1e293b",strokeWidth:"1.5",fill:"none"});case"circle":return u.jsx("circle",{cx:o.cx*e+r,cy:o.cy*e+n,r:o.radius*e,stroke:"#1e293b",strokeWidth:"1.5",fill:"none"});case"arc":{const{cx:a,cy:s,radius:l,startAngle:c,endAngle:d}=o,h=c*Math.PI/180,f=d*Math.PI/180,p=(a+l*Math.cos(h))*e+r,g=(s+l*Math.sin(h))*e+n,m=(a+l*Math.cos(f))*e+r,y=(s+l*Math.sin(f))*e+n,v=d-c>180?1:0,b=`M ${p} ${g} A ${l*e} ${l*e} 0 ${v} 1 ${m} ${y}`;return u.jsx("path",{d:b,stroke:"#1e293b",strokeWidth:"1.5",fill:"none"})}default:return null}}function NZ({template:t}){const{parameters:e}=t,r=e.width_mm,n=e.height_mm,i=Math.min(58/r,58/n),o=r*i,a=n*i,s=e.numLanes,l=e.laneWidth_mm*i,c=e.cornerRadius,h=(c.topLeft+c.topRight+c.bottomLeft+c.bottomRight)/4*i,f=(62-o)/2,p=(62-a)/2;return u.jsxs("svg",{width:"62",height:"62",viewBox:"0 0 62 62",className:"court-library__svg-preview",children:[u.jsx("rect",{x:f,y:p,width:o,height:a,rx:h,fill:"#e5e7eb"}),Array.from({length:s}).map((g,m)=>{const y=m*l,v=Math.max(0,h-y);return u.jsx("rect",{x:f+y,y:p+y,width:Math.max(0,o-y*2),height:Math.max(0,a-y*2),rx:v,stroke:"#1e293b",strokeWidth:"1",fill:"none"},m)})]})}function FZ(){var O,W;const{courts:t,tracks:e,selectedCourtId:r,selectedTrackId:n,updateCourtPosition:i,updateCourtRotation:o,updateCourtScale:a,setLineColor:s,setZoneColor:l,setCourtSurfaceColor:c,resetCourtColors:d,removeCourt:h,removeTrack:f,updateTrackParameters:p,addToHistory:g}=vr(),[m,y]=H.useState("transform"),[v,b]=H.useState(null);if(n){const A=e[n];return A?u.jsx(DZ,{track:A,trackId:n}):null}if(!r)return u.jsx("div",{className:"properties-panel properties-panel--empty",children:u.jsxs("div",{className:"properties-panel__empty-state",children:[u.jsx("p",{children:"No element selected"}),u.jsx("span",{className:"properties-panel__hint",children:"Click on a court or track to view and edit its properties"})]})});const x=t[r];if(!x)return null;const{position:w,rotation:S,scale:k,template:C,lineColorOverrides:P,zoneColorOverrides:E}=x,R=(A,q)=>{const B=parseFloat(q);isNaN(B)||i(r,{...w,[A]:B})},N=A=>{const q=parseFloat(A);isNaN(q)||o(r,q)},T=A=>{const q=parseFloat(A);isNaN(q)||q<=0||a(r,q)},D=()=>{window.confirm(`Delete ${C.name}? This action cannot be undone.`)&&h(r)},_=A=>{if(!v)return;if(v.type==="courtSurface"&&A===null){c(r,null),b(null);return}if(!A)return;const q={tpv_code:A.code,hex:A.hex,name:A.name};v.type==="line"?s(r,v.id,q):v.type==="zone"?l(r,v.id,q):v.type==="courtSurface"?c(r,q):v.type==="allLines"&&C.markings.forEach(B=>{s(r,B.id,q)}),b(null)},G=A=>{const q=P[A.id];if(q)return{code:q.tpv_code,hex:q.hex,name:q.name};const B=Ri.find(V=>V.code===C.defaultLineColor);return B?{code:B.code,hex:B.hex,name:B.name}:null},U=A=>{const q=E[A.id];if(q)return{code:q.tpv_code,hex:q.hex,name:q.name};const B=Ri.find(V=>V.code===A.defaultColor);return B?{code:B.code,hex:B.hex,name:B.name}:null};return u.jsxs("div",{className:"properties-panel",children:[u.jsxs("div",{className:"properties-panel__header",children:[u.jsx("h3",{children:"Properties"}),u.jsxs("div",{className:"properties-panel__court-info",children:[u.jsx("span",{className:"court-name",children:C.name}),u.jsx("span",{className:"court-standard",children:C.standard})]})]}),u.jsxs("div",{className:"properties-panel__tabs",children:[u.jsx("button",{className:`tab ${m==="transform"?"tab--active":""}`,onClick:()=>y("transform"),children:"Transform"}),u.jsx("button",{className:`tab ${m==="lines"?"tab--active":""}`,onClick:()=>y("lines"),children:"Lines"}),u.jsx("button",{className:`tab ${m==="zones"?"tab--active":""}`,onClick:()=>y("zones"),children:"Zones"})]}),u.jsxs("div",{className:"properties-panel__content",children:[m==="transform"&&u.jsxs("div",{className:"properties-section",children:[u.jsx("div",{className:"properties-section__header",children:u.jsx("h4",{children:"Transform"})}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Position"}),u.jsxs("div",{className:"property-input-row",children:[u.jsxs("div",{className:"property-input-group",children:[u.jsx("span",{className:"property-label",children:"X"}),u.jsx("input",{type:"number",value:Math.round(w.x),onChange:A=>R("x",A.target.value),step:"100"}),u.jsx("span",{className:"property-unit",children:"mm"})]}),u.jsxs("div",{className:"property-input-group",children:[u.jsx("span",{className:"property-label",children:"Y"}),u.jsx("input",{type:"number",value:Math.round(w.y),onChange:A=>R("y",A.target.value),step:"100"}),u.jsx("span",{className:"property-unit",children:"mm"})]})]})]}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Rotation"}),u.jsxs("div",{className:"property-input-row",children:[u.jsx("input",{type:"range",min:"0",max:"360",value:S,onChange:A=>N(A.target.value),className:"property-slider"}),u.jsxs("div",{className:"property-input-group property-input-group--compact",children:[u.jsx("input",{type:"number",value:Math.round(S),onChange:A=>N(A.target.value),min:"0",max:"360"}),u.jsx("span",{className:"property-unit",children:""})]})]})]}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Scale"}),u.jsxs("div",{className:"property-input-row",children:[u.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:k,onChange:A=>T(A.target.value),className:"property-slider"}),u.jsxs("div",{className:"property-input-group property-input-group--compact",children:[u.jsx("input",{type:"number",value:k.toFixed(2),onChange:A=>T(A.target.value),min:"0.5",max:"2.0",step:"0.1"}),u.jsx("span",{className:"property-unit",children:""})]})]})]}),u.jsxs("div",{className:"property-group property-group--info",children:[u.jsx("label",{children:"Dimensions"}),u.jsx("div",{className:"property-info",children:u.jsxs("span",{children:[(C.dimensions.width_mm*k/1e3).toFixed(1),"m  ",(C.dimensions.length_mm*k/1e3).toFixed(1),"m"]})})]}),u.jsx("div",{className:"property-group property-group--actions",children:u.jsx("button",{className:"btn-delete",onClick:D,title:"Delete court (Delete key)",children:" Delete Court"})})]}),m==="lines"&&u.jsxs("div",{className:"properties-section",children:[u.jsxs("div",{className:"properties-section__header",children:[u.jsx("h4",{children:"Line Markings"}),u.jsx("button",{className:"btn-reset",onClick:()=>d(r),title:"Reset all colours to defaults",children:"Reset"})]}),u.jsxs("div",{className:"color-item color-item--all-lines",children:[u.jsxs("div",{className:"color-item__info",children:[u.jsx("span",{className:"color-item__name",children:"Change All Lines"}),u.jsx("span",{className:"color-item__hint",children:"Set all lines to same colour"})]}),u.jsx("button",{className:"color-item__swatch color-item__swatch--all",onClick:()=>b({type:"allLines"}),title:"Change all line colours at once",children:u.jsx("span",{style:{fontSize:"1rem"},children:""})})]}),u.jsx("div",{className:"color-list",children:C.markings.map(A=>{const q=G(A);return u.jsxs("div",{className:"color-item",children:[u.jsxs("div",{className:"color-item__info",children:[u.jsx("span",{className:"color-item__name",children:A.name}),q&&u.jsx("span",{className:"color-item__code",children:q.code})]}),u.jsx("button",{className:"color-item__swatch",style:{backgroundColor:(q==null?void 0:q.hex)||"#000"},onClick:()=>b({type:"line",id:A.id}),title:(q==null?void 0:q.name)||"Select colour"})]},A.id)})})]}),m==="zones"&&u.jsxs("div",{className:"properties-section",children:[u.jsx("div",{className:"properties-section__header",children:u.jsx("h4",{children:"Fill Colours"})}),u.jsxs("div",{className:"color-item color-item--surface-fill",children:[u.jsxs("div",{className:"color-item__info",children:[u.jsx("span",{className:"color-item__name",children:"Court Surface"}),u.jsx("span",{className:"color-item__hint",children:x.courtSurfaceColor?x.courtSurfaceColor.name:"No Fill (transparent)"}),x.courtSurfaceColor&&u.jsx("span",{className:"color-item__code",children:x.courtSurfaceColor.tpv_code})]}),u.jsx("button",{className:`color-item__swatch ${x.courtSurfaceColor?"":"color-item__swatch--no-fill"}`,style:{backgroundColor:((O=x.courtSurfaceColor)==null?void 0:O.hex)||"transparent"},onClick:()=>b({type:"courtSurface"}),title:((W=x.courtSurfaceColor)==null?void 0:W.name)||"No Fill - Click to select colour"})]}),C.zones&&C.zones.length>0&&u.jsx("div",{className:"properties-section__divider",children:u.jsx("span",{children:"Paint Zones"})}),C.zones&&C.zones.length>0&&u.jsx("div",{className:"color-list",children:C.zones.map(A=>{var B;const q=U(A);return u.jsxs("div",{className:"color-item",children:[u.jsxs("div",{className:"color-item__info",children:[u.jsx("span",{className:"color-item__name",children:A.name}),u.jsxs("span",{className:"color-item__area",children:[((B=A.area_m2)==null?void 0:B.toFixed(1))||0," m"]}),q&&u.jsx("span",{className:"color-item__code",children:q.code})]}),u.jsx("button",{className:"color-item__swatch",style:{backgroundColor:(q==null?void 0:q.hex)||"#000"},onClick:()=>b({type:"zone",id:A.id}),title:(q==null?void 0:q.name)||"Select colour"})]},A.id)})})]})]}),v&&u.jsx("div",{className:"color-picker-modal",onClick:()=>b(null),children:u.jsxs("div",{className:"color-picker-modal__content",onClick:A=>A.stopPropagation(),children:[u.jsxs("div",{className:"color-picker-modal__header",children:[u.jsx("h4",{children:v.type==="allLines"?"Change All Line Colours":v.type==="courtSurface"?"Select Court Fill Colour":"Select TPV Colour"}),u.jsx("button",{onClick:()=>b(null),children:""})]}),u.jsxs("div",{className:"color-picker-grid",children:[v.type==="courtSurface"&&u.jsx("button",{className:"color-picker-swatch color-picker-swatch--no-fill",onClick:()=>_(null),title:"No Fill (transparent)",children:u.jsx("span",{className:"color-picker-swatch__code",children:"None"})}),Ri.map(A=>u.jsx("button",{className:"color-picker-swatch",style:{backgroundColor:A.hex},onClick:()=>_(A),title:`${A.code} - ${A.name}`,children:u.jsx("span",{className:"color-picker-swatch__code",children:A.code})},A.code))]})]})})]})}function DZ({track:t,trackId:e}){var _,G,U;const{updateTrackParameters:r,removeTrack:n,setTrackSurfaceColor:i}=vr(),{parameters:o,template:a,trackSurfaceColor:s}=t,[l,c]=z.useState(!0),[d,h]=z.useState(!1),f=a.trackType==="straight",p=h5(o),g=((_=p.lanes[0])==null?void 0:_.perimeter)||0,m=p.lanes[p.lanes.length-1],y=(m==null?void 0:m.perimeter)||0,v=f?[]:f5(p),b=O=>{const W=parseInt(O);if(!(isNaN(W)||W<1||W>8))if(f){const A=W*o.laneWidth_mm;r(e,{numLanes:W,width_mm:A})}else r(e,{numLanes:W})},x=O=>{const W=parseFloat(O)*1e3;isNaN(W)||W<3e3||r(e,{width_mm:W})},w=O=>{const W=parseFloat(O)*1e3;isNaN(W)||W<3e3||r(e,{height_mm:W})},S=(O,W)=>{const A=parseFloat(W)*1e3;if(isNaN(A)||A<0)return;const q=Math.min(o.width_mm,o.height_mm)/2,B=Math.min(A,q);l?r(e,{cornerRadius:{topLeft:B,topRight:B,bottomLeft:B,bottomRight:B}}):r(e,{cornerRadius:{...o.cornerRadius,[O]:B}})},k=()=>{window.confirm(`Delete ${a.name}? This action cannot be undone.`)&&n(e)},C=O=>{i(e,{tpv_code:O.code,hex:O.hex,name:O.name}),h(!1)},P=O=>{r(e,{startingBoxes:{...o.startingBoxes,enabled:O}})},E=O=>{const W=parseFloat(O)*1e3;isNaN(W)||W<100||r(e,{startingBoxes:{...o.startingBoxes,depth_mm:W}})},R=O=>{r(e,{startingBoxes:{...o.startingBoxes,style:O}})},N=O=>{r(e,{startingBoxes:{...o.startingBoxes,direction:O}})},T=O=>{const W=parseFloat(O);isNaN(W)||W<0||W>100||r(e,{startingBoxes:{...o.startingBoxes,startPosition:W}})},D=(o.cornerRadius.topLeft+o.cornerRadius.topRight+o.cornerRadius.bottomLeft+o.cornerRadius.bottomRight)/4;return u.jsxs("div",{className:"properties-panel",children:[u.jsxs("div",{className:"properties-panel__header",children:[u.jsx("h3",{children:"Track Properties"}),u.jsxs("div",{className:"properties-panel__court-info",children:[u.jsx("span",{className:"court-name",children:a.name}),u.jsx("span",{className:"court-standard",children:a.standard})]})]}),u.jsx("div",{className:"properties-panel__content",children:u.jsxs("div",{className:"properties-section",children:[u.jsx("div",{className:"properties-section__header",children:u.jsx("h4",{children:"Track Parameters"})}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Number of Lanes"}),u.jsxs("div",{className:"property-input-row",children:[u.jsx("input",{type:"range",min:"1",max:"8",value:o.numLanes,onChange:O=>b(O.target.value),className:"property-slider"}),u.jsxs("div",{className:"property-input-group property-input-group--compact",children:[u.jsx("input",{type:"number",value:o.numLanes,onChange:O=>b(O.target.value),min:"1",max:"8"}),u.jsx("span",{className:"property-unit",children:"lanes"})]})]})]}),f?u.jsxs("div",{className:"property-group property-group--info",children:[u.jsx("label",{children:"Track Width"}),u.jsx("div",{className:"property-info",children:u.jsxs("span",{children:[(o.width_mm/1e3).toFixed(1),"m (Auto-calculated from lanes)"]})})]}):u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Track Width"}),u.jsxs("div",{className:"property-input-group",children:[u.jsx("input",{type:"number",value:(o.width_mm/1e3).toFixed(1),onChange:O=>x(O.target.value),min:"3",max:"100",step:"0.5"}),u.jsx("span",{className:"property-unit",children:"m"})]})]}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:f?"Track Length":"Track Height"}),u.jsxs("div",{className:"property-input-group",children:[u.jsx("input",{type:"number",value:(o.height_mm/1e3).toFixed(1),onChange:O=>w(O.target.value),min:"3",max:"100",step:"0.5"}),u.jsx("span",{className:"property-unit",children:"m"})]})]}),!f&&u.jsxs("div",{className:"property-group",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[u.jsx("label",{children:"Corner Radius"}),u.jsx("button",{className:"btn-toggle",onClick:()=>c(!l),style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",background:l?"#0066CC":"#6b7280",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},title:l?"Click to edit corners independently":"Click to lock all corners together",children:l?" Locked":" Independent"})]}),l?u.jsxs("div",{className:"property-input-group",children:[u.jsx("input",{type:"number",defaultValue:(D/1e3).toFixed(2),onBlur:O=>S("topLeft",O.target.value),onKeyDown:O=>O.key==="Enter"&&O.target.blur(),min:"0",max:(Math.min(o.width_mm,o.height_mm)/2e3).toFixed(0),step:"0.5"},`locked-${D}`),u.jsx("span",{className:"property-unit",children:"m"})]}):u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Top Left"}),u.jsxs("div",{className:"property-input-group",children:[u.jsx("input",{type:"number",defaultValue:(o.cornerRadius.topLeft/1e3).toFixed(2),onBlur:O=>S("topLeft",O.target.value),onKeyDown:O=>O.key==="Enter"&&O.target.blur(),min:"0",max:(Math.min(o.width_mm,o.height_mm)/2e3).toFixed(0),step:"0.5"},`tl-${o.cornerRadius.topLeft}`),u.jsx("span",{className:"property-unit",children:"m"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Top Right"}),u.jsxs("div",{className:"property-input-group",children:[u.jsx("input",{type:"number",defaultValue:(o.cornerRadius.topRight/1e3).toFixed(2),onBlur:O=>S("topRight",O.target.value),onKeyDown:O=>O.key==="Enter"&&O.target.blur(),min:"0",max:(Math.min(o.width_mm,o.height_mm)/2e3).toFixed(0),step:"0.5"},`tr-${o.cornerRadius.topRight}`),u.jsx("span",{className:"property-unit",children:"m"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Bottom Left"}),u.jsxs("div",{className:"property-input-group",children:[u.jsx("input",{type:"number",defaultValue:(o.cornerRadius.bottomLeft/1e3).toFixed(2),onBlur:O=>S("bottomLeft",O.target.value),onKeyDown:O=>O.key==="Enter"&&O.target.blur(),min:"0",max:(Math.min(o.width_mm,o.height_mm)/2e3).toFixed(0),step:"0.5"},`bl-${o.cornerRadius.bottomLeft}`),u.jsx("span",{className:"property-unit",children:"m"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Bottom Right"}),u.jsxs("div",{className:"property-input-group",children:[u.jsx("input",{type:"number",defaultValue:(o.cornerRadius.bottomRight/1e3).toFixed(2),onBlur:O=>S("bottomRight",O.target.value),onKeyDown:O=>O.key==="Enter"&&O.target.blur(),min:"0",max:(Math.min(o.width_mm,o.height_mm)/2e3).toFixed(0),step:"0.5"},`br-${o.cornerRadius.bottomRight}`),u.jsx("span",{className:"property-unit",children:"m"})]})]})]})]}),u.jsxs("div",{className:"property-group property-group--info",children:[u.jsx("label",{children:"Lane Width"}),u.jsx("div",{className:"property-info",children:u.jsxs("span",{children:[(o.laneWidth_mm/1e3).toFixed(2),"m (Fixed)"]})})]}),u.jsxs("div",{className:"property-group",children:[u.jsx("label",{children:"Track Surface Colour"}),u.jsxs("div",{className:"color-item",children:[u.jsxs("div",{className:"color-item__info",children:[u.jsx("span",{className:"color-item__name",children:(s==null?void 0:s.name)||"Select Colour"}),s&&u.jsx("span",{className:"color-item__code",children:s.tpv_code})]}),u.jsx("button",{className:"color-item__swatch",style:{backgroundColor:(s==null?void 0:s.hex)||"#A5362F"},onClick:()=>h(!0),title:(s==null?void 0:s.name)||"Select colour"})]})]}),u.jsxs("div",{className:"property-group",children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("input",{type:"checkbox",checked:((G=o.startingBoxes)==null?void 0:G.enabled)||!1,onChange:O=>P(O.target.checked)}),"Show Starting Boxes"]}),((U=o.startingBoxes)==null?void 0:U.enabled)&&u.jsxs("div",{style:{marginTop:"0.75rem"},children:[u.jsxs("div",{className:"property-input-group",style:{marginBottom:"0.75rem"},children:[u.jsx("span",{className:"property-label",style:{fontSize:"0.875rem"},children:"Depth"}),u.jsx("input",{type:"number",value:(o.startingBoxes.depth_mm/1e3).toFixed(2),onChange:O=>E(O.target.value),min:"0.1",max:"1.0",step:"0.05"}),u.jsx("span",{className:"property-unit",children:"m"})]}),!f&&u.jsxs("div",{style:{marginBottom:"0.75rem"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.375rem"},children:"Start Style"}),u.jsxs("select",{value:o.startingBoxes.style||"staggered",onChange:O=>R(O.target.value),style:{width:"100%",padding:"0.5rem",border:"1px solid #e4e9f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"inherit",background:"white"},children:[u.jsx("option",{value:"straight",children:"Straight Start"}),u.jsx("option",{value:"staggered",children:"Staggered Start"}),u.jsx("option",{value:"both",children:"Both (opposite ends)"})]})]}),u.jsxs("div",{style:{marginBottom:"0.75rem"},children:[u.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.375rem"},children:"Direction of Travel"}),u.jsxs("select",{value:o.startingBoxes.direction||"counterclockwise",onChange:O=>N(O.target.value),style:{width:"100%",padding:"0.5rem",border:"1px solid #e4e9f0",borderRadius:"6px",fontSize:"0.875rem",fontFamily:"inherit",background:"white"},children:[u.jsx("option",{value:"counterclockwise",children:"Counterclockwise (Standard)"}),u.jsx("option",{value:"clockwise",children:"Clockwise"})]})]}),!f&&u.jsxs("div",{style:{marginBottom:"0.75rem"},children:[u.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#64748b",marginBottom:"0.375rem"},children:["Start Position (",o.startingBoxes.startPosition||0,"%)"]}),u.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:o.startingBoxes.startPosition||0,onChange:O=>T(O.target.value),className:"property-slider",style:{width:"100%"}}),u.jsx("div",{style:{fontSize:"0.7rem",color:"#94a3b8",marginTop:"0.25rem"},children:"Slide to adjust where the start line appears around the track"})]}),u.jsx("div",{className:"property-info",style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"Boxes use track surface colour with white starting line and lane numbers"}),!f&&v.length>0&&(o.startingBoxes.style==="staggered"||o.startingBoxes.style==="both")&&u.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.5rem",background:"#f8fafc",borderRadius:"4px"},children:[u.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.25rem"},children:"Auto-Calculated Staggers:"}),u.jsx("div",{style:{fontSize:"0.7rem",color:"#64748b",lineHeight:"1.4"},children:v.map((O,W)=>u.jsxs("div",{children:["Lane ",W+1,": ",(O/1e3).toFixed(2),"m"]},W))}),u.jsx("div",{style:{fontSize:"0.65rem",color:"#64748b",marginTop:"0.25rem",fontStyle:"italic"},children:"Outer lanes start ahead to equalize distance"})]})]})]}),u.jsx("div",{className:"property-divider"}),u.jsx("div",{className:"properties-section__header",children:u.jsx("h4",{children:"Calculated Dimensions"})}),u.jsxs("div",{className:"property-group property-group--info",children:[u.jsx("label",{children:"Usable Infield"}),u.jsx("div",{className:"property-info",children:u.jsxs("span",{children:[(p.usableWidth/1e3).toFixed(1),"m  ",(p.usableHeight/1e3).toFixed(1),"m"]})})]}),u.jsxs("div",{className:"property-group property-group--info",children:[u.jsx("label",{children:"Lane 1 Perimeter"}),u.jsx("div",{className:"property-info",children:u.jsxs("span",{children:[g.toFixed(2),"m"]})})]}),o.numLanes>1&&u.jsxs("div",{className:"property-group property-group--info",children:[u.jsxs("label",{children:["Lane ",o.numLanes," Perimeter"]}),u.jsx("div",{className:"property-info",children:u.jsxs("span",{children:[y.toFixed(2),"m"]})})]}),u.jsx("div",{className:"property-group",children:u.jsx("div",{className:"property-hint",style:{fontStyle:"normal",color:"#64748b",fontSize:"0.75rem",marginTop:"1rem"},children:" Tip: Use drag handles on the canvas or edit values here. Corner radius auto-adjusts when locked."})}),u.jsx("div",{className:"property-group property-group--actions",children:u.jsx("button",{className:"btn-delete",onClick:k,title:"Delete track (Delete key)",children:" Delete Track"})})]})}),d&&u.jsx("div",{className:"color-picker-modal",onClick:()=>h(!1),children:u.jsxs("div",{className:"color-picker-modal__content",onClick:O=>O.stopPropagation(),children:[u.jsxs("div",{className:"color-picker-modal__header",children:[u.jsx("h4",{children:"Select Track Surface Colour"}),u.jsx("button",{onClick:()=>h(!1),children:""})]}),u.jsx("div",{className:"color-picker-grid",children:Ri.map(O=>u.jsx("button",{className:"color-picker-swatch",style:{backgroundColor:O.hex},onClick:()=>C(O),title:`${O.code} - ${O.name}`,children:u.jsx("span",{className:"color-picker-swatch__code",children:O.code})},O.code))})]})})]})}function IZ(){const{courts:t,tracks:e,elementOrder:r,selectedCourtId:n,selectedTrackId:i,setElementOrder:o,selectCourt:a,selectTrack:s,bringToFront:l,sendToBack:c,addToHistory:d}=vr(),[h,f]=H.useState(null),[p,g]=H.useState(null),m=[...r].reverse(),y=R=>{var N,T,D;if(R.startsWith("court-")){const _=t[R];return{type:"court",name:((N=_==null?void 0:_.template)==null?void 0:N.name)||"Unknown Court",icon:"",sport:((T=_==null?void 0:_.template)==null?void 0:T.sport)||""}}else if(R.startsWith("track-")){const _=e[R];return{type:"track",name:((D=_==null?void 0:_.template)==null?void 0:D.name)||"Unknown Track",icon:"",sport:"athletics"}}return{type:"unknown",name:"Unknown",icon:"",sport:""}},v=R=>R===n||R===i,b=R=>{R.startsWith("court-")?a(R):R.startsWith("track-")&&s(R)},x=(R,N)=>{f(N),R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("text/plain",N),setTimeout(()=>{R.target.classList.add("layer-item--dragging")},0)},w=R=>{R.target.classList.remove("layer-item--dragging"),f(null),g(null)},S=(R,N)=>{R.preventDefault(),R.dataTransfer.dropEffect="move",N!==h&&g(N)},k=()=>{g(null)},C=(R,N)=>{if(R.preventDefault(),!h||h===N){f(null),g(null);return}const T=[...r],D=T.indexOf(h),_=T.indexOf(N);if(D===-1||_===-1)return;T.splice(D,1);const G=m.indexOf(h),U=m.indexOf(N);G<U,T.splice(_,0,h),o(T),d(),f(null),g(null)},P=(R,N)=>{R.stopPropagation(),l(N)},E=(R,N)=>{R.stopPropagation(),c(N)};return r.length===0?u.jsx("div",{className:"layers-panel layers-panel--empty",children:u.jsxs("div",{className:"layers-panel__empty-state",children:[u.jsx("span",{className:"layers-panel__empty-icon",children:""}),u.jsx("p",{children:"No elements yet"}),u.jsx("span",{className:"layers-panel__empty-hint",children:"Add courts or tracks from the library"})]})}):u.jsxs("div",{className:"layers-panel",children:[u.jsxs("div",{className:"layers-panel__header",children:[u.jsx("h4",{children:"Layers"}),u.jsx("span",{className:"layers-panel__count",children:r.length})]}),u.jsx("div",{className:"layers-panel__hint",children:"Drag to reorder layers. Top = front, bottom = back."}),u.jsx("div",{className:"layers-panel__list",children:m.map((R,N)=>{const T=y(R),D=v(R),_=R===p,G=N===0,U=N===m.length-1;return u.jsxs("div",{className:`layer-item ${D?"layer-item--selected":""} ${_?"layer-item--drag-over":""}`,draggable:!0,onDragStart:O=>x(O,R),onDragEnd:w,onDragOver:O=>S(O,R),onDragLeave:k,onDrop:O=>C(O,R),onClick:()=>b(R),children:[u.jsx("span",{className:"layer-item__handle",title:"Drag to reorder",children:""}),u.jsx("span",{className:"layer-item__name",children:T.name}),u.jsxs("div",{className:"layer-item__actions",children:[u.jsx("button",{className:"layer-item__action",onClick:O=>P(O,R),disabled:G,title:"Bring to Front",children:""}),u.jsx("button",{className:"layer-item__action",onClick:O=>E(O,R),disabled:U,title:"Send to Back",children:""})]})]},R)})}),u.jsx("div",{className:"layers-panel__footer",children:u.jsx("span",{className:"layers-panel__shortcut-hint",children:"Tip: Use [ and ] keys to reorder selected element"})})]})}function MZ(t,e={}){var r,n;return{type:"sports_surface",version:"1.0",name:e.name||t.name||"Untitled Sports Surface",description:e.description||t.description||"",tags:e.tags||t.tags||[],surface:t.surface,courts:LZ(t.courts),tracks:zZ(t.tracks),elementOrder:t.elementOrder||[],customMarkings:t.customMarkings||[],backgroundZones:t.backgroundZones||[],dimensions:{width_mm:((r=t.surface)==null?void 0:r.width_mm)||5e4,length_mm:((n=t.surface)==null?void 0:n.length_mm)||5e4}}}function LZ(t){return t?Object.fromEntries(Object.entries(t).map(([e,r])=>[e,{id:r.id,templateId:r.templateId,template:r.template,position:r.position,rotation:r.rotation,scale:r.scale,lineColorOverrides:r.lineColorOverrides||{},zoneColorOverrides:r.zoneColorOverrides||{},courtSurfaceColor:r.courtSurfaceColor}])):{}}function zZ(t){return t?Object.fromEntries(Object.entries(t).map(([e,r])=>[e,{id:r.id,templateId:r.templateId,template:r.template,position:r.position,rotation:r.rotation,parameters:r.parameters,trackSurfaceColor:r.trackSurfaceColor}])):{}}function BZ(t){var n,i;const e=[];return t.surface||e.push("Surface configuration is required"),(!((n=t.surface)!=null&&n.width_mm)||!((i=t.surface)!=null&&i.length_mm))&&e.push("Surface dimensions are required"),t.courts&&Object.keys(t.courts).length>0||t.tracks&&Object.keys(t.tracks).length>0||e.push("Add at least one court or track to save"),{valid:e.length===0,errors:e}}async function UZ(t,e=400){return new Promise((r,n)=>{try{const i=t.cloneNode(!0);i.querySelectorAll(".court-canvas__court--selected, .transform-handles").forEach(g=>{g.classList.remove("court-canvas__court--selected")}),i.querySelectorAll(".transform-handles").forEach(g=>g.remove());const o=t.getAttribute("viewBox").split(" ").map(Number),a=o[2],s=o[3];let l,c;a>s?(l=e,c=Math.round(s/a*e)):(c=e,l=Math.round(a/s*e)),i.setAttribute("width",l),i.setAttribute("height",c);const d=new XMLSerializer().serializeToString(i),h=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),f=URL.createObjectURL(h),p=new Image;p.onload=()=>{const g=document.createElement("canvas");g.width=l,g.height=c;const m=g.getContext("2d");m.fillStyle="#ffffff",m.fillRect(0,0,l,c),m.drawImage(p,0,0,l,c),g.toBlob(y=>{URL.revokeObjectURL(f),r(y)},"image/png",.9)},p.onerror=g=>{URL.revokeObjectURL(f),n(new Error("Failed to load SVG for thumbnail"))},p.src=f}catch(i){n(i)}})}async function HZ(t){const r=`thumbnails/sports/${`sports-${Date.now()}-${Math.random().toString(36).substr(2,9)}.png`}`,{data:n,error:i}=await br.storage.from("tpv-studio-uploads").upload(r,t,{cacheControl:"3600",contentType:"image/png",upsert:!1});if(i)throw i;const{data:{publicUrl:o}}=br.storage.from("tpv-studio-uploads").getPublicUrl(r);return o}function WZ({existingDesignId:t=null,initialName:e="",svgRef:r=null,onClose:n,onSaved:i}){const o=vr(q=>q.exportDesignData),[a,s]=H.useState(e),[l,c]=H.useState(""),[d,h]=H.useState(""),[f,p]=H.useState(""),[g,m]=H.useState(!1),[y,v]=H.useState([]),[b,x]=H.useState(!1),[w,S]=H.useState(""),[k,C]=H.useState("#1a365d"),[P,E]=H.useState(!1),[R,N]=H.useState(!1),[T,D]=H.useState(!1),[_,G]=H.useState(null);H.useEffect(()=>{U()},[]);const U=async()=>{try{const{projects:q}=await kb();v(q)}catch(q){console.error("Failed to load projects:",q),G("Failed to load projects")}},O=async()=>{if(!w.trim()){G("Project name is required");return}D(!0),G(null);try{const{project:q}=await o5({name:w.trim(),color:k});v([q,...y]),h(q.id),x(!1),S(""),C("#1a365d")}catch(q){console.error("Failed to create project:",q),G(q.message)}finally{D(!1)}},W=async(q=!1)=>{if(!a.trim()){G("Design name is required");return}const B=o(),V=BZ(B);if(!V.valid){G(V.errors.join(", "));return}q?N(!0):E(!0),G(null);try{let he=null;if(r!=null&&r.current)try{console.log("[SPORTS-SAVE] Generating thumbnail...");const Re=await UZ(r.current);console.log("[SPORTS-SAVE] Uploading thumbnail..."),he=await HZ(Re),console.log("[SPORTS-SAVE] Thumbnail uploaded:",he)}catch(Re){console.warn("[SPORTS-SAVE] Thumbnail generation failed, continuing without:",Re)}const ae=MZ(B,{name:a.trim(),description:l.trim()||"",tags:f.split(",").map(Re=>Re.trim()).filter(Re=>Re)});console.log("[SPORTS-SAVE] Serialized design data:",ae);const ce={name:a.trim(),description:l.trim()||null,project_id:d||null,tags:f.split(",").map(Re=>Re.trim()).filter(Re=>Re),is_public:g,design_data:ae,thumbnail_url:he};t&&!q&&(ce.id=t);const Ae=await Ij(ce);i&&i(Ae,a.trim()),n()}catch(he){console.error("Failed to save design:",he),G(he.message)}finally{E(!1),N(!1)}},A=["#1a365d","#ff6b35","#4a90e2","#50c878","#9b59b6","#e74c3c"];return u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"modal-content save-design-modal",onClick:q=>q.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:t?"Update Design":"Save Sports Surface"}),u.jsx("button",{onClick:n,className:"close-button",children:""})]}),u.jsxs("div",{className:"modal-body",children:[_&&u.jsx("div",{className:"error-message",children:_}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-name",children:"Design Name *"}),u.jsx("input",{id:"design-name",type:"text",value:a,onChange:q=>s(q.target.value),placeholder:"e.g., Multi-Sport Court Design",autoFocus:!0,disabled:P||R})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-description",children:"Description"}),u.jsx("textarea",{id:"design-description",value:l,onChange:q=>c(q.target.value),placeholder:"Optional notes about this sports surface design...",rows:3,disabled:P||R})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-project",children:"Project"}),b?u.jsxs("div",{className:"new-project-form",children:[u.jsxs("div",{className:"input-row",children:[u.jsx("input",{type:"text",value:w,onChange:q=>S(q.target.value),placeholder:"Project name...",disabled:T}),u.jsx("div",{className:"color-picker-inline",children:A.map(q=>u.jsx("button",{type:"button",className:`color-swatch ${k===q?"active":""}`,style:{backgroundColor:q},onClick:()=>C(q),disabled:T},q))})]}),u.jsxs("div",{className:"button-row",children:[u.jsx("button",{type:"button",onClick:O,className:"btn-primary btn-small",disabled:T,children:T?"Creating...":"Create"}),u.jsx("button",{type:"button",onClick:()=>x(!1),className:"btn-secondary btn-small",disabled:T,children:"Cancel"})]})]}):u.jsxs("div",{className:"project-selector",children:[u.jsxs("select",{id:"design-project",value:d,onChange:q=>h(q.target.value),disabled:P||R,children:[u.jsx("option",{value:"",children:"No Project"}),y.map(q=>u.jsxs("option",{value:q.id,children:[q.name," (",q.design_count," designs)"]},q.id))]}),u.jsx("button",{type:"button",onClick:()=>x(!0),className:"btn-secondary btn-small",disabled:P||R,children:"+ New Project"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"design-tags",children:"Tags"}),u.jsx("input",{id:"design-tags",type:"text",value:f,onChange:q=>p(q.target.value),placeholder:"e.g., tennis, multi-sport, school (comma-separated)",disabled:P||R}),u.jsx("small",{className:"help-text",children:"Separate tags with commas"})]}),u.jsx("div",{className:"form-group checkbox-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:g,onChange:q=>m(q.target.checked),disabled:P||R}),u.jsx("span",{children:"Make this design public (shareable link)"})]})})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{onClick:n,className:"btn-secondary",disabled:P||R,children:"Cancel"}),t&&u.jsx("button",{onClick:()=>W(!0),className:"btn-secondary",disabled:P||R,children:R?"Saving...":"Save as New"}),u.jsx("button",{onClick:()=>W(!1),className:"btn-primary",disabled:P||R,children:P?"Saving...":t?"Update":"Save Design"})]})]})})}function g5(t,e){var h,f,p,g;if(!t)throw new Error("SVG element not found");const r=t.cloneNode(!0);r.querySelectorAll('.court-canvas__selection-outline, .transform-handles, [class*="selection"], [class*="handle"]').forEach(m=>m.remove()),r.querySelectorAll("[stroke-dasharray]").forEach(m=>{m.getAttribute("stroke-dasharray")&&m.remove()});const o=document.createElementNS("http://www.w3.org/2000/svg","title");o.textContent=(e==null?void 0:e.name)||"Sports Surface Design",r.insertBefore(o,r.firstChild);const a=document.createElementNS("http://www.w3.org/2000/svg","desc");a.textContent=`Generated by TPV Studio - Sports Surface Designer. Dimensions: ${(((h=e==null?void 0:e.surface)==null?void 0:h.width_mm)/1e3).toFixed(1)}m  ${(((f=e==null?void 0:e.surface)==null?void 0:f.length_mm)/1e3).toFixed(1)}m`,r.insertBefore(a,r.firstChild.nextSibling),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const s=((p=e==null?void 0:e.surface)==null?void 0:p.width_mm)||5e4,l=((g=e==null?void 0:e.surface)==null?void 0:g.length_mm)||5e4;r.setAttribute("width",`${s}mm`),r.setAttribute("height",`${l}mm`),r.setAttribute("data-tpv-studio","1.0"),r.setAttribute("data-design-type","sports_surface");let d=new XMLSerializer().serializeToString(r);return d=`<?xml version="1.0" encoding="UTF-8"?>
`+d,d}function VZ(t,e="sports-surface.svg"){const r=new Blob([t],{type:"image/svg+xml"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}async function GZ(t,e,r="sports-surface.png",n=2){return new Promise((i,o)=>{try{const a=g5(t,e),s=document.createElement("canvas"),l=s.getContext("2d"),c=t.getAttribute("viewBox");let d=1200,h=1200;if(c){const[,,m,y]=c.split(" ").map(Number),v=2400,b=y/m;d=Math.min(m/10,v),h=d*b}s.width=d*n,s.height=h*n;const f=new Image,p=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),g=URL.createObjectURL(p);f.onload=()=>{l.fillStyle="#ffffff",l.fillRect(0,0,s.width,s.height),l.drawImage(f,0,0,s.width,s.height),s.toBlob(m=>{if(!m){o(new Error("Failed to create PNG blob"));return}const y=URL.createObjectURL(m),v=document.createElement("a");v.href=y,v.download=r,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g),URL.revokeObjectURL(y),i()},"image/png",.95)},f.onerror=m=>{URL.revokeObjectURL(g),o(new Error("Failed to load SVG for PNG conversion"))},f.src=g}catch(a){o(a)}})}function wg(t,e){const r=(t||"sports-surface").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50),n=new Date().toISOString().split("T")[0];return`${r}_${n}.${e}`}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sv=function(t,e){return sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sv(t,e)};function ye(t,e){sv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qe=function(){return qe=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},qe.apply(this,arguments)};function qZ(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Qe(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?o(d.value):i(d.value).then(s,l)}c((n=n.apply(t,[])).next())})}function $e(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function vt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}var gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zc=new Uint8Array(256);for(var Th=0;Th<gl.length;Th++)Zc[gl.charCodeAt(Th)]=Th;var KZ=function(t){for(var e="",r=t.length,n=0;n<r;n+=3)e+=gl[t[n]>>2],e+=gl[(t[n]&3)<<4|t[n+1]>>4],e+=gl[(t[n+1]&15)<<2|t[n+2]>>6],e+=gl[t[n+2]&63];return r%3===2?e=e.substring(0,e.length-1)+"=":r%3===1&&(e=e.substring(0,e.length-2)+"=="),e},J2=function(t){var e=t.length*.75,r=t.length,n,i=0,o,a,s,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=new Uint8Array(e);for(n=0;n<r;n+=4)o=Zc[t.charCodeAt(n)],a=Zc[t.charCodeAt(n+1)],s=Zc[t.charCodeAt(n+2)],l=Zc[t.charCodeAt(n+3)],c[i++]=o<<2|a>>4,c[i++]=(a&15)<<4|s>>2,c[i++]=(s&3)<<6|l&63;return c},XZ=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,ZZ=function(t){var e=t.trim(),r=e.substring(0,100),n=r.match(XZ);if(!n)return J2(e);var i=n[0],o=e.substring(i.length);return J2(o)},Ge=function(t){return t.charCodeAt(0)},YZ=function(t){return t.codePointAt(0)},wd=function(t,e){return ai(t.toString(16),e,"0").toUpperCase()},Qp=function(t){return wd(t,2)},Ji=function(t){return String.fromCharCode(t)},JZ=function(t){return Ji(parseInt(t,16))},ai=function(t,e,r){for(var n="",i=0,o=e-t.length;i<o;i++)n+=r;return n+t},Rr=function(t,e,r){for(var n=t.length,i=0;i<n;i++)e[r++]=t.charCodeAt(i);return n},QZ=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Sd=function(t){return t.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},$Z=["\\n","\\f","\\r","\\u000B"],m5=function(t){return/^[\n\f\r\u000B]$/.test(t)},v5=function(t){return t.split(/[\n\f\r\u000B]/)},y5=function(t){return t.replace(/[\n\f\r\u000B]/g," ")},b5=function(t,e){var r=t.charCodeAt(e),n,i=e+1,o=1;return r>=55296&&r<=56319&&t.length>i&&(n=t.charCodeAt(i),n>=56320&&n<=57343&&(o=2)),[t.slice(e,e+o),o]},eY=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=b5(t,r),o=i[0],a=i[1];e.push(o),r+=a}return e},tY=function(t){for(var e=$Z.join("|"),r=["$"],n=0,i=t.length;n<i;n++){var o=t[n];if(m5(o))throw new TypeError("`wordBreak` must not include "+e);r.push(o===""?".":QZ(o))}var a=r.join("|");return new RegExp("("+e+")|((.*?)("+a+"))","gm")},rY=function(t,e,r,n){for(var i=tY(e),o=Sd(t).match(i),a="",s=0,l=[],c=function(){a!==""&&l.push(a),a="",s=0},d=0,h=o.length;d<h;d++){var f=o[d];if(m5(f))c();else{var p=n(f);s+p>r&&c(),a+=f,s+=p}}return c(),l},nY=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,x5=function(t){var e=t.match(nY);if(e){var r=e[1],n=e[2],i=n===void 0?"01":n,o=e[3],a=o===void 0?"01":o,s=e[4],l=s===void 0?"00":s,c=e[5],d=c===void 0?"00":c,h=e[6],f=h===void 0?"00":h,p=e[7],g=p===void 0?"Z":p,m=e[8],y=m===void 0?"00":m,v=e[9],b=v===void 0?"00":v,x=g==="Z"?"Z":""+g+y+":"+b,w=new Date(r+"-"+i+"-"+a+"T"+l+":"+d+":"+f+x);return w}},Cb=function(t,e){for(var r,n=0,i;n<t.length;){var o=t.substring(n).match(e);if(!o)return{match:i,pos:n};i=o,n+=((r=o.index)!==null&&r!==void 0?r:0)+o[0].length}return{match:i,pos:n}},np=function(t){return t[t.length-1]},lv=function(t){if(t instanceof Uint8Array)return t;for(var e=t.length,r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.charCodeAt(n);return r},iY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length,n=[],i=0;i<r;i++){var o=t[i];n[i]=o instanceof Uint8Array?o:lv(o)}for(var a=0,i=0;i<r;i++)a+=t[i].length;for(var s=new Uint8Array(a),l=0,c=0;c<r;c++)for(var d=n[c],h=0,f=d.length;h<f;h++)s[l++]=d[h];return s},oY=function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r].length;for(var i=new Uint8Array(e),o=0,r=0,n=t.length;r<n;r++){var a=t[r];i.set(a,o),o+=a.length}return i},w5=function(t){for(var e="",r=0,n=t.length;r<n;r++)e+=Ji(t[r]);return e},aY=function(t,e){return t.id-e.id},sY=function(t,e){for(var r=[],n=0,i=t.length;n<i;n++){var o=t[n],a=t[n-1];(n===0||e(o)!==e(a))&&r.push(o)}return r},Os=function(t){for(var e=t.length,r=0,n=Math.floor(e/2);r<n;r++){var i=r,o=e-r-1,a=t[r];t[i]=t[o],t[o]=a}return t},lY=function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r];return e},cY=function(t,e){for(var r=new Array(e-t),n=0,i=r.length;n<i;n++)r[n]=t+n;return r},uY=function(t,e){for(var r=new Array(e.length),n=0,i=e.length;n<i;n++)r[n]=t[e[n]];return r},dY=function(t){return t instanceof Uint8Array||t instanceof ArrayBuffer||typeof t=="string"},Nc=function(t){if(typeof t=="string")return ZZ(t);if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return t;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},Ml=function(){return new Promise(function(t){setTimeout(function(){return t()},0)})},hY=function(t,e){e===void 0&&(e=!0);var r=[];e&&r.push(65279);for(var n=0,i=t.length;n<i;){var o=t.codePointAt(n);if(o<65536)r.push(o),n+=1;else if(o<1114112)r.push(S5(o),k5(o)),n+=2;else throw new Error("Invalid code point: 0x"+Qp(o))}return new Uint16Array(r)},fY=function(t){return t>=0&&t<=65535},pY=function(t){return t>=65536&&t<=1114111},S5=function(t){return Math.floor((t-65536)/1024)+55296},k5=function(t){return(t-65536)%1024+56320},Go;(function(t){t.BigEndian="BigEndian",t.LittleEndian="LittleEndian"})(Go||(Go={}));var Fc="".codePointAt(0),_5=function(t,e){if(e===void 0&&(e=!0),t.length<=1)return String.fromCodePoint(Fc);for(var r=e?mY(t):Go.BigEndian,n=e?2:0,i=[];t.length-n>=2;){var o=$2(t[n++],t[n++],r);if(gY(o))if(t.length-n<2)i.push(Fc);else{var a=$2(t[n++],t[n++],r);Q2(a)?i.push(o,a):i.push(Fc)}else Q2(o)?(n+=2,i.push(Fc)):i.push(o)}return n<t.length&&i.push(Fc),String.fromCodePoint.apply(String,i)},gY=function(t){return t>=55296&&t<=56319},Q2=function(t){return t>=56320&&t<=57343},$2=function(t,e,r){if(r===Go.LittleEndian)return e<<8|t;if(r===Go.BigEndian)return t<<8|e;throw new Error("Invalid byteOrder: "+r)},mY=function(t){return C5(t)?Go.BigEndian:j5(t)?Go.LittleEndian:Go.BigEndian},C5=function(t){return t[0]===254&&t[1]===255},j5=function(t){return t[0]===255&&t[1]===254},E5=function(t){return C5(t)||j5(t)},vY=function(t){var e=String(t);if(Math.abs(t)<1){var r=parseInt(t.toString().split("e-")[1]);if(r){var n=t<0;n&&(t*=-1),t*=Math.pow(10,r-1),e="0."+new Array(r).join("0")+t.toString().substring(2),n&&(e="-"+e)}}else{var r=parseInt(t.toString().split("+")[1]);r>20&&(r-=20,t/=Math.pow(10,r),e=t.toString()+new Array(r+1).join("0"))}return e},af=function(t){return Math.ceil(t.toString(2).length/8)},As=function(t){for(var e=new Uint8Array(af(t)),r=1;r<=e.length;r++)e[r-1]=t>>(e.length-r)*8;return e},kd=function(t){throw new Error(t)},lo={};(function(t){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(o,a){return Object.prototype.hasOwnProperty.call(o,a)}t.assign=function(o){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var s=a.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var l in s)r(s,l)&&(o[l]=s[l])}}return o},t.shrinkBuf=function(o,a){return o.length===a?o:o.subarray?o.subarray(0,a):(o.length=a,o)};var n={arraySet:function(o,a,s,l,c){if(a.subarray&&o.subarray){o.set(a.subarray(s,s+l),c);return}for(var d=0;d<l;d++)o[c+d]=a[s+d]},flattenChunks:function(o){var a,s,l,c,d,h;for(l=0,a=0,s=o.length;a<s;a++)l+=o[a].length;for(h=new Uint8Array(l),c=0,a=0,s=o.length;a<s;a++)d=o[a],h.set(d,c),c+=d.length;return h}},i={arraySet:function(o,a,s,l,c){for(var d=0;d<l;d++)o[c+d]=a[s+d]},flattenChunks:function(o){return[].concat.apply([],o)}};t.setTyped=function(o){o?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)})(lo);var _d={},Ni={},rc={},yY=lo,bY=4,eS=0,tS=1,xY=2;function nc(t){for(var e=t.length;--e>=0;)t[e]=0}var wY=0,T5=1,SY=2,kY=3,_Y=258,jb=29,Cd=256,Xu=Cd+1+jb,Cl=30,Eb=19,R5=2*Xu+1,Na=15,Sg=16,CY=7,Tb=256,P5=16,O5=17,A5=18,cv=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],sf=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],jY=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N5=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],EY=512,Gi=new Array((Xu+2)*2);nc(Gi);var gu=new Array(Cl*2);nc(gu);var Zu=new Array(EY);nc(Zu);var Yu=new Array(_Y-kY+1);nc(Yu);var Rb=new Array(jb);nc(Rb);var ip=new Array(Cl);nc(ip);function kg(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var F5,D5,I5;function _g(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function M5(t){return t<256?Zu[t]:Zu[256+(t>>>7)]}function Ju(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function rn(t,e,r){t.bi_valid>Sg-r?(t.bi_buf|=e<<t.bi_valid&65535,Ju(t,t.bi_buf),t.bi_buf=e>>Sg-t.bi_valid,t.bi_valid+=r-Sg):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function _i(t,e,r){rn(t,r[e*2],r[e*2+1])}function L5(t,e){var r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function TY(t){t.bi_valid===16?(Ju(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function RY(t,e){var r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length,c,d,h,f,p,g,m=0;for(f=0;f<=Na;f++)t.bl_count[f]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<R5;c++)d=t.heap[c],f=r[r[d*2+1]*2+1]+1,f>l&&(f=l,m++),r[d*2+1]=f,!(d>n)&&(t.bl_count[f]++,p=0,d>=s&&(p=a[d-s]),g=r[d*2],t.opt_len+=g*(f+p),o&&(t.static_len+=g*(i[d*2+1]+p)));if(m!==0){do{for(f=l-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(f=l;f!==0;f--)for(d=t.bl_count[f];d!==0;)h=t.heap[--c],!(h>n)&&(r[h*2+1]!==f&&(t.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),d--)}}function z5(t,e,r){var n=new Array(Na+1),i=0,o,a;for(o=1;o<=Na;o++)n[o]=i=i+r[o-1]<<1;for(a=0;a<=e;a++){var s=t[a*2+1];s!==0&&(t[a*2]=L5(n[s]++,s))}}function PY(){var t,e,r,n,i,o=new Array(Na+1);for(r=0,n=0;n<jb-1;n++)for(Rb[n]=r,t=0;t<1<<cv[n];t++)Yu[r++]=n;for(Yu[r-1]=n,i=0,n=0;n<16;n++)for(ip[n]=i,t=0;t<1<<sf[n];t++)Zu[i++]=n;for(i>>=7;n<Cl;n++)for(ip[n]=i<<7,t=0;t<1<<sf[n]-7;t++)Zu[256+i++]=n;for(e=0;e<=Na;e++)o[e]=0;for(t=0;t<=143;)Gi[t*2+1]=8,t++,o[8]++;for(;t<=255;)Gi[t*2+1]=9,t++,o[9]++;for(;t<=279;)Gi[t*2+1]=7,t++,o[7]++;for(;t<=287;)Gi[t*2+1]=8,t++,o[8]++;for(z5(Gi,Xu+1,o),t=0;t<Cl;t++)gu[t*2+1]=5,gu[t*2]=L5(t,5);F5=new kg(Gi,cv,Cd+1,Xu,Na),D5=new kg(gu,sf,0,Cl,Na),I5=new kg(new Array(0),jY,0,Eb,CY)}function B5(t){var e;for(e=0;e<Xu;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Cl;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Eb;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Tb*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function U5(t){t.bi_valid>8?Ju(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function OY(t,e,r,n){U5(t),Ju(t,r),Ju(t,~r),yY.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function rS(t,e,r,n){var i=e*2,o=r*2;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function Cg(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&rS(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!rS(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function nS(t,e,r){var n,i,o=0,a,s;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+o*2]<<8|t.pending_buf[t.d_buf+o*2+1],i=t.pending_buf[t.l_buf+o],o++,n===0?_i(t,i,e):(a=Yu[i],_i(t,a+Cd+1,e),s=cv[a],s!==0&&(i-=Rb[a],rn(t,i,s)),n--,a=M5(n),_i(t,a,r),s=sf[a],s!==0&&(n-=ip[a],rn(t,n,s)));while(o<t.last_lit);_i(t,Tb,e)}function uv(t,e){var r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,a,s,l=-1,c;for(t.heap_len=0,t.heap_max=R5,a=0;a<o;a++)r[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)Cg(t,r,a);c=o;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Cg(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,r[c*2]=r[a*2]+r[s*2],t.depth[c]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,r[a*2+1]=r[s*2+1]=c,t.heap[1]=c++,Cg(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],RY(t,e),z5(r,l,t.bl_count)}function iS(t,e,r){var n,i=-1,o,a=e[0*2+1],s=0,l=7,c=4;for(a===0&&(l=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)o=a,a=e[(n+1)*2+1],!(++s<l&&o===a)&&(s<c?t.bl_tree[o*2]+=s:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[P5*2]++):s<=10?t.bl_tree[O5*2]++:t.bl_tree[A5*2]++,s=0,i=o,a===0?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))}function oS(t,e,r){var n,i=-1,o,a=e[0*2+1],s=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=r;n++)if(o=a,a=e[(n+1)*2+1],!(++s<l&&o===a)){if(s<c)do _i(t,o,t.bl_tree);while(--s!==0);else o!==0?(o!==i&&(_i(t,o,t.bl_tree),s--),_i(t,P5,t.bl_tree),rn(t,s-3,2)):s<=10?(_i(t,O5,t.bl_tree),rn(t,s-3,3)):(_i(t,A5,t.bl_tree),rn(t,s-11,7));s=0,i=o,a===0?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}}function AY(t){var e;for(iS(t,t.dyn_ltree,t.l_desc.max_code),iS(t,t.dyn_dtree,t.d_desc.max_code),uv(t,t.bl_desc),e=Eb-1;e>=3&&t.bl_tree[N5[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function NY(t,e,r,n){var i;for(rn(t,e-257,5),rn(t,r-1,5),rn(t,n-4,4),i=0;i<n;i++)rn(t,t.bl_tree[N5[i]*2+1],3);oS(t,t.dyn_ltree,e-1),oS(t,t.dyn_dtree,r-1)}function FY(t){var e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return eS;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return tS;for(r=32;r<Cd;r++)if(t.dyn_ltree[r*2]!==0)return tS;return eS}var aS=!1;function DY(t){aS||(PY(),aS=!0),t.l_desc=new _g(t.dyn_ltree,F5),t.d_desc=new _g(t.dyn_dtree,D5),t.bl_desc=new _g(t.bl_tree,I5),t.bi_buf=0,t.bi_valid=0,B5(t)}function H5(t,e,r,n){rn(t,(wY<<1)+(n?1:0),3),OY(t,e,r)}function IY(t){rn(t,T5<<1,3),_i(t,Tb,Gi),TY(t)}function MY(t,e,r,n){var i,o,a=0;t.level>0?(t.strm.data_type===xY&&(t.strm.data_type=FY(t)),uv(t,t.l_desc),uv(t,t.d_desc),a=AY(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&e!==-1?H5(t,e,r,n):t.strategy===bY||o===i?(rn(t,(T5<<1)+(n?1:0),3),nS(t,Gi,gu)):(rn(t,(SY<<1)+(n?1:0),3),NY(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),nS(t,t.dyn_ltree,t.dyn_dtree)),B5(t),n&&U5(t)}function LY(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(Yu[r]+Cd+1)*2]++,t.dyn_dtree[M5(e)*2]++),t.last_lit===t.lit_bufsize-1}rc._tr_init=DY;rc._tr_stored_block=H5;rc._tr_flush_block=MY;rc._tr_tally=LY;rc._tr_align=IY;function zY(t,e,r,n){for(var i=t&65535|0,o=t>>>16&65535|0,a=0;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}var W5=zY;function BY(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var UY=BY();function HY(t,e,r,n){var i=UY,o=n+r;t^=-1;for(var a=n;a<o;a++)t=t>>>8^i[(t^e[a])&255];return t^-1}var V5=HY,Pb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gr=lo,zn=rc,G5=W5,wo=V5,WY=Pb,os=0,VY=1,GY=3,qo=4,sS=5,Ci=0,lS=1,Bn=-2,qY=-3,jg=-5,KY=-1,XY=1,Rh=2,ZY=3,YY=4,JY=0,QY=2,$p=8,$Y=9,eJ=15,tJ=8,rJ=29,nJ=256,dv=nJ+1+rJ,iJ=30,oJ=19,aJ=2*dv+1,sJ=15,gt=3,Fo=258,ui=Fo+gt+1,lJ=32,e0=42,hv=69,lf=73,cf=91,uf=103,Fa=113,Yc=666,xr=1,jd=2,Ga=3,ic=4,cJ=3;function Do(t,e){return t.msg=WY[e],e}function cS(t){return(t<<1)-(t>4?9:0)}function Po(t){for(var e=t.length;--e>=0;)t[e]=0}function So(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(Gr.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function Pr(t,e){zn._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,So(t.strm)}function St(t,e){t.pending_buf[t.pending++]=e}function Dc(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function uJ(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,Gr.arraySet(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=G5(t.adler,e,i,r):t.state.wrap===2&&(t.adler=wo(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function q5(t,e){var r=t.max_chain_length,n=t.strstart,i,o,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-ui?t.strstart-(t.w_size-ui):0,c=t.window,d=t.w_mask,h=t.prev,f=t.strstart+Fo,p=c[n+a-1],g=c[n+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=e,!(c[i+a]!==g||c[i+a-1]!==p||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<f);if(o=Fo-(f-n),n=f-Fo,o>a){if(t.match_start=e,a=o,o>=s)break;p=c[n+a-1],g=c[n+a]}}while((e=h[e&d])>l&&--r!==0);return a<=t.lookahead?a:t.lookahead}function qa(t){var e=t.w_size,r,n,i,o,a;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ui)){Gr.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);o+=e}if(t.strm.avail_in===0)break;if(n=uJ(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=gt)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+gt-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<gt)););}while(t.lookahead<ui&&t.strm.avail_in!==0)}function dJ(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(qa(t),t.lookahead===0&&e===os)return xr;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Pr(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-ui&&(Pr(t,!1),t.strm.avail_out===0))return xr}return t.insert=0,e===qo?(Pr(t,!0),t.strm.avail_out===0?Ga:ic):(t.strstart>t.block_start&&(Pr(t,!1),t.strm.avail_out===0),xr)}function Eg(t,e){for(var r,n;;){if(t.lookahead<ui){if(qa(t),t.lookahead<ui&&e===os)return xr;if(t.lookahead===0)break}if(r=0,t.lookahead>=gt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+gt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-ui&&(t.match_length=q5(t,r)),t.match_length>=gt)if(n=zn._tr_tally(t,t.strstart-t.match_start,t.match_length-gt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=gt){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+gt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=zn._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Pr(t,!1),t.strm.avail_out===0))return xr}return t.insert=t.strstart<gt-1?t.strstart:gt-1,e===qo?(Pr(t,!0),t.strm.avail_out===0?Ga:ic):t.last_lit&&(Pr(t,!1),t.strm.avail_out===0)?xr:jd}function Ns(t,e){for(var r,n,i;;){if(t.lookahead<ui){if(qa(t),t.lookahead<ui&&e===os)return xr;if(t.lookahead===0)break}if(r=0,t.lookahead>=gt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+gt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=gt-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ui&&(t.match_length=q5(t,r),t.match_length<=5&&(t.strategy===XY||t.match_length===gt&&t.strstart-t.match_start>4096)&&(t.match_length=gt-1)),t.prev_length>=gt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-gt,n=zn._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-gt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+gt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=gt-1,t.strstart++,n&&(Pr(t,!1),t.strm.avail_out===0))return xr}else if(t.match_available){if(n=zn._tr_tally(t,0,t.window[t.strstart-1]),n&&Pr(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return xr}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=zn._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<gt-1?t.strstart:gt-1,e===qo?(Pr(t,!0),t.strm.avail_out===0?Ga:ic):t.last_lit&&(Pr(t,!1),t.strm.avail_out===0)?xr:jd}function hJ(t,e){for(var r,n,i,o,a=t.window;;){if(t.lookahead<=Fo){if(qa(t),t.lookahead<=Fo&&e===os)return xr;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=gt&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+Fo;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=Fo-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=gt?(r=zn._tr_tally(t,1,t.match_length-gt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=zn._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Pr(t,!1),t.strm.avail_out===0))return xr}return t.insert=0,e===qo?(Pr(t,!0),t.strm.avail_out===0?Ga:ic):t.last_lit&&(Pr(t,!1),t.strm.avail_out===0)?xr:jd}function fJ(t,e){for(var r;;){if(t.lookahead===0&&(qa(t),t.lookahead===0)){if(e===os)return xr;break}if(t.match_length=0,r=zn._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Pr(t,!1),t.strm.avail_out===0))return xr}return t.insert=0,e===qo?(Pr(t,!0),t.strm.avail_out===0?Ga:ic):t.last_lit&&(Pr(t,!1),t.strm.avail_out===0)?xr:jd}function bi(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var ml;ml=[new bi(0,0,0,0,dJ),new bi(4,4,8,4,Eg),new bi(4,5,16,8,Eg),new bi(4,6,32,32,Eg),new bi(4,4,16,16,Ns),new bi(8,16,32,32,Ns),new bi(8,16,128,128,Ns),new bi(8,32,128,256,Ns),new bi(32,128,258,1024,Ns),new bi(32,258,258,4096,Ns)];function pJ(t){t.window_size=2*t.w_size,Po(t.head),t.max_lazy_match=ml[t.level].max_lazy,t.good_match=ml[t.level].good_length,t.nice_match=ml[t.level].nice_length,t.max_chain_length=ml[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=gt-1,t.match_available=0,t.ins_h=0}function gJ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Gr.Buf16(aJ*2),this.dyn_dtree=new Gr.Buf16((2*iJ+1)*2),this.bl_tree=new Gr.Buf16((2*oJ+1)*2),Po(this.dyn_ltree),Po(this.dyn_dtree),Po(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Gr.Buf16(sJ+1),this.heap=new Gr.Buf16(2*dv+1),Po(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Gr.Buf16(2*dv+1),Po(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K5(t){var e;return!t||!t.state?Do(t,Bn):(t.total_in=t.total_out=0,t.data_type=QY,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?e0:Fa,t.adler=e.wrap===2?0:1,e.last_flush=os,zn._tr_init(e),Ci)}function X5(t){var e=K5(t);return e===Ci&&pJ(t.state),e}function mJ(t,e){return!t||!t.state||t.state.wrap!==2?Bn:(t.state.gzhead=e,Ci)}function Z5(t,e,r,n,i,o){if(!t)return Bn;var a=1;if(e===KY&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>$Y||r!==$p||n<8||n>15||e<0||e>9||o<0||o>YY)return Do(t,Bn);n===8&&(n=9);var s=new gJ;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+gt-1)/gt),s.window=new Gr.Buf8(s.w_size*2),s.head=new Gr.Buf16(s.hash_size),s.prev=new Gr.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Gr.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=o,s.method=r,X5(t)}function vJ(t,e){return Z5(t,e,$p,eJ,tJ,JY)}function yJ(t,e){var r,n,i,o;if(!t||!t.state||e>sS||e<0)return t?Do(t,Bn):Bn;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===Yc&&e!==qo)return Do(t,t.avail_out===0?jg:Bn);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===e0)if(n.wrap===2)t.adler=0,St(n,31),St(n,139),St(n,8),n.gzhead?(St(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),St(n,n.gzhead.time&255),St(n,n.gzhead.time>>8&255),St(n,n.gzhead.time>>16&255),St(n,n.gzhead.time>>24&255),St(n,n.level===9?2:n.strategy>=Rh||n.level<2?4:0),St(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(St(n,n.gzhead.extra.length&255),St(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=wo(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=hv):(St(n,0),St(n,0),St(n,0),St(n,0),St(n,0),St(n,n.level===9?2:n.strategy>=Rh||n.level<2?4:0),St(n,cJ),n.status=Fa);else{var a=$p+(n.w_bits-8<<4)<<8,s=-1;n.strategy>=Rh||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,a|=s<<6,n.strstart!==0&&(a|=lJ),a+=31-a%31,n.status=Fa,Dc(n,a),n.strstart!==0&&(Dc(n,t.adler>>>16),Dc(n,t.adler&65535)),t.adler=1}if(n.status===hv)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=wo(t.adler,n.pending_buf,n.pending-i,i)),So(t),i=n.pending,n.pending===n.pending_buf_size));)St(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=wo(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=lf)}else n.status=lf;if(n.status===lf)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=wo(t.adler,n.pending_buf,n.pending-i,i)),So(t),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,St(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=wo(t.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.gzindex=0,n.status=cf)}else n.status=cf;if(n.status===cf)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=wo(t.adler,n.pending_buf,n.pending-i,i)),So(t),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,St(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=wo(t.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.status=uf)}else n.status=uf;if(n.status===uf&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&So(t),n.pending+2<=n.pending_buf_size&&(St(n,t.adler&255),St(n,t.adler>>8&255),t.adler=0,n.status=Fa)):n.status=Fa),n.pending!==0){if(So(t),t.avail_out===0)return n.last_flush=-1,Ci}else if(t.avail_in===0&&cS(e)<=cS(r)&&e!==qo)return Do(t,jg);if(n.status===Yc&&t.avail_in!==0)return Do(t,jg);if(t.avail_in!==0||n.lookahead!==0||e!==os&&n.status!==Yc){var l=n.strategy===Rh?fJ(n,e):n.strategy===ZY?hJ(n,e):ml[n.level].func(n,e);if((l===Ga||l===ic)&&(n.status=Yc),l===xr||l===Ga)return t.avail_out===0&&(n.last_flush=-1),Ci;if(l===jd&&(e===VY?zn._tr_align(n):e!==sS&&(zn._tr_stored_block(n,0,0,!1),e===GY&&(Po(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),So(t),t.avail_out===0))return n.last_flush=-1,Ci}return e!==qo?Ci:n.wrap<=0?lS:(n.wrap===2?(St(n,t.adler&255),St(n,t.adler>>8&255),St(n,t.adler>>16&255),St(n,t.adler>>24&255),St(n,t.total_in&255),St(n,t.total_in>>8&255),St(n,t.total_in>>16&255),St(n,t.total_in>>24&255)):(Dc(n,t.adler>>>16),Dc(n,t.adler&65535)),So(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ci:lS)}function bJ(t){var e;return!t||!t.state?Bn:(e=t.state.status,e!==e0&&e!==hv&&e!==lf&&e!==cf&&e!==uf&&e!==Fa&&e!==Yc?Do(t,Bn):(t.state=null,e===Fa?Do(t,qY):Ci))}function xJ(t,e){var r=e.length,n,i,o,a,s,l,c,d;if(!t||!t.state||(n=t.state,a=n.wrap,a===2||a===1&&n.status!==e0||n.lookahead))return Bn;for(a===1&&(t.adler=G5(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(a===0&&(Po(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new Gr.Buf8(n.w_size),Gr.arraySet(d,e,r-n.w_size,n.w_size,0),e=d,r=n.w_size),s=t.avail_in,l=t.next_in,c=t.input,t.avail_in=r,t.next_in=0,t.input=e,qa(n);n.lookahead>=gt;){i=n.strstart,o=n.lookahead-(gt-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+gt-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--o);n.strstart=i,n.lookahead=gt-1,qa(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=gt-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=s,n.wrap=a,Ci}Ni.deflateInit=vJ;Ni.deflateInit2=Z5;Ni.deflateReset=X5;Ni.deflateResetKeep=K5;Ni.deflateSetHeader=mJ;Ni.deflate=yJ;Ni.deflateEnd=bJ;Ni.deflateSetDictionary=xJ;Ni.deflateInfo="pako deflate (from Nodeca project)";var as={},t0=lo,Y5=!0,J5=!0;try{String.fromCharCode.apply(null,[0])}catch{Y5=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{J5=!1}var Qu=new t0.Buf8(256);for(var bo=0;bo<256;bo++)Qu[bo]=bo>=252?6:bo>=248?5:bo>=240?4:bo>=224?3:bo>=192?2:1;Qu[254]=Qu[254]=1;as.string2buf=function(t){var e,r,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new t0.Buf8(s),o=0,i=0;o<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};function Q5(t,e){if(e<65534&&(t.subarray&&J5||!t.subarray&&Y5))return String.fromCharCode.apply(null,t0.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}as.buf2binstring=function(t){return Q5(t,t.length)};as.binstring2buf=function(t){for(var e=new t0.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e};as.buf2string=function(t,e){var r,n,i,o,a=e||t.length,s=new Array(a*2);for(n=0,r=0;r<a;){if(i=t[r++],i<128){s[n++]=i;continue}if(o=Qu[i],o>4){s[n++]=65533,r+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&r<a;)i=i<<6|t[r++]&63,o--;if(o>1){s[n++]=65533;continue}i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|i&1023)}return Q5(s,n)};as.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Qu[t[r]]>e?r:e};function wJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $5=wJ,mu=Ni,vu=lo,fv=as,pv=Pb,SJ=$5,eT=Object.prototype.toString,kJ=0,Tg=4,jl=0,uS=1,dS=2,_J=-1,CJ=0,jJ=8;function Ka(t){if(!(this instanceof Ka))return new Ka(t);this.options=vu.assign({level:_J,method:jJ,chunkSize:16384,windowBits:15,memLevel:8,strategy:CJ,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new SJ,this.strm.avail_out=0;var r=mu.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==jl)throw new Error(pv[r]);if(e.header&&mu.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(typeof e.dictionary=="string"?n=fv.string2buf(e.dictionary):eT.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=mu.deflateSetDictionary(this.strm,n),r!==jl)throw new Error(pv[r]);this._dict_set=!0}}Ka.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;o=e===~~e?e:e===!0?Tg:kJ,typeof t=="string"?r.input=fv.string2buf(t):eT.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new vu.Buf8(n),r.next_out=0,r.avail_out=n),i=mu.deflate(r,o),i!==uS&&i!==jl)return this.onEnd(i),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(o===Tg||o===dS))&&(this.options.to==="string"?this.onData(fv.buf2binstring(vu.shrinkBuf(r.output,r.next_out))):this.onData(vu.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&i!==uS);return o===Tg?(i=mu.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===jl):(o===dS&&(this.onEnd(jl),r.avail_out=0),!0)};Ka.prototype.onData=function(t){this.chunks.push(t)};Ka.prototype.onEnd=function(t){t===jl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=vu.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ob(t,e){var r=new Ka(e);if(r.push(t,!0),r.err)throw r.msg||pv[r.err];return r.result}function EJ(t,e){return e=e||{},e.raw=!0,Ob(t,e)}function TJ(t,e){return e=e||{},e.gzip=!0,Ob(t,e)}_d.Deflate=Ka;_d.deflate=Ob;_d.deflateRaw=EJ;_d.gzip=TJ;var Ed={},pi={},Ph=30,RJ=12,PJ=function(e,r){var n,i,o,a,s,l,c,d,h,f,p,g,m,y,v,b,x,w,S,k,C,P,E,R,N;n=e.state,i=e.next_in,R=e.input,o=i+(e.avail_in-5),a=e.next_out,N=e.output,s=a-(r-e.avail_out),l=a+(e.avail_out-257),c=n.dmax,d=n.wsize,h=n.whave,f=n.wnext,p=n.window,g=n.hold,m=n.bits,y=n.lencode,v=n.distcode,b=(1<<n.lenbits)-1,x=(1<<n.distbits)-1;e:do{m<15&&(g+=R[i++]<<m,m+=8,g+=R[i++]<<m,m+=8),w=y[g&b];t:for(;;){if(S=w>>>24,g>>>=S,m-=S,S=w>>>16&255,S===0)N[a++]=w&65535;else if(S&16){k=w&65535,S&=15,S&&(m<S&&(g+=R[i++]<<m,m+=8),k+=g&(1<<S)-1,g>>>=S,m-=S),m<15&&(g+=R[i++]<<m,m+=8,g+=R[i++]<<m,m+=8),w=v[g&x];r:for(;;){if(S=w>>>24,g>>>=S,m-=S,S=w>>>16&255,S&16){if(C=w&65535,S&=15,m<S&&(g+=R[i++]<<m,m+=8,m<S&&(g+=R[i++]<<m,m+=8)),C+=g&(1<<S)-1,C>c){e.msg="invalid distance too far back",n.mode=Ph;break e}if(g>>>=S,m-=S,S=a-s,C>S){if(S=C-S,S>h&&n.sane){e.msg="invalid distance too far back",n.mode=Ph;break e}if(P=0,E=p,f===0){if(P+=d-S,S<k){k-=S;do N[a++]=p[P++];while(--S);P=a-C,E=N}}else if(f<S){if(P+=d+f-S,S-=f,S<k){k-=S;do N[a++]=p[P++];while(--S);if(P=0,f<k){S=f,k-=S;do N[a++]=p[P++];while(--S);P=a-C,E=N}}}else if(P+=f-S,S<k){k-=S;do N[a++]=p[P++];while(--S);P=a-C,E=N}for(;k>2;)N[a++]=E[P++],N[a++]=E[P++],N[a++]=E[P++],k-=3;k&&(N[a++]=E[P++],k>1&&(N[a++]=E[P++]))}else{P=a-C;do N[a++]=N[P++],N[a++]=N[P++],N[a++]=N[P++],k-=3;while(k>2);k&&(N[a++]=N[P++],k>1&&(N[a++]=N[P++]))}}else if(S&64){e.msg="invalid distance code",n.mode=Ph;break e}else{w=v[(w&65535)+(g&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){n.mode=RJ;break e}else{e.msg="invalid literal/length code",n.mode=Ph;break e}else{w=y[(w&65535)+(g&(1<<S)-1)];continue t}break}}while(i<o&&a<l);k=m>>3,i-=k,m-=k<<3,g&=(1<<m)-1,e.next_in=i,e.next_out=a,e.avail_in=i<o?5+(o-i):5-(i-o),e.avail_out=a<l?257+(l-a):257-(a-l),n.hold=g,n.bits=m},hS=lo,Fs=15,fS=852,pS=592,gS=0,Rg=1,mS=2,OJ=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],AJ=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],NJ=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],FJ=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],DJ=function(e,r,n,i,o,a,s,l){var c=l.bits,d=0,h=0,f=0,p=0,g=0,m=0,y=0,v=0,b=0,x=0,w,S,k,C,P,E=null,R=0,N,T=new hS.Buf16(Fs+1),D=new hS.Buf16(Fs+1),_=null,G=0,U,O,W;for(d=0;d<=Fs;d++)T[d]=0;for(h=0;h<i;h++)T[r[n+h]]++;for(g=c,p=Fs;p>=1&&T[p]===0;p--);if(g>p&&(g=p),p===0)return o[a++]=1<<24|64<<16|0,o[a++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(g<f&&(g=f),v=1,d=1;d<=Fs;d++)if(v<<=1,v-=T[d],v<0)return-1;if(v>0&&(e===gS||p!==1))return-1;for(D[1]=0,d=1;d<Fs;d++)D[d+1]=D[d]+T[d];for(h=0;h<i;h++)r[n+h]!==0&&(s[D[r[n+h]]++]=h);if(e===gS?(E=_=s,N=19):e===Rg?(E=OJ,R-=257,_=AJ,G-=257,N=256):(E=NJ,_=FJ,N=-1),x=0,h=0,d=f,P=a,m=g,y=0,k=-1,b=1<<g,C=b-1,e===Rg&&b>fS||e===mS&&b>pS)return 1;for(;;){U=d-y,s[h]<N?(O=0,W=s[h]):s[h]>N?(O=_[G+s[h]],W=E[R+s[h]]):(O=96,W=0),w=1<<d-y,S=1<<m,f=S;do S-=w,o[P+(x>>y)+S]=U<<24|O<<16|W|0;while(S!==0);for(w=1<<d-1;x&w;)w>>=1;if(w!==0?(x&=w-1,x+=w):x=0,h++,--T[d]===0){if(d===p)break;d=r[n+s[h]]}if(d>g&&(x&C)!==k){for(y===0&&(y=g),P+=f,m=d-y,v=1<<m;m+y<p&&(v-=T[m+y],!(v<=0));)m++,v<<=1;if(b+=1<<m,e===Rg&&b>fS||e===mS&&b>pS)return 1;k=x&C,o[k]=g<<24|m<<16|P-a|0}}return x!==0&&(o[P+x]=d-y<<24|64<<16|0),l.bits=g,0},gn=lo,gv=W5,xi=V5,IJ=PJ,yu=DJ,MJ=0,tT=1,rT=2,vS=4,LJ=5,Oh=6,Xa=0,zJ=1,BJ=2,Vn=-2,nT=-3,iT=-4,UJ=-5,yS=8,oT=1,bS=2,xS=3,wS=4,SS=5,kS=6,_S=7,CS=8,jS=9,ES=10,op=11,Bi=12,Pg=13,TS=14,Og=15,RS=16,PS=17,OS=18,AS=19,Ah=20,Nh=21,NS=22,FS=23,DS=24,IS=25,MS=26,Ag=27,LS=28,zS=29,Yt=30,aT=31,HJ=32,WJ=852,VJ=592,GJ=15,qJ=GJ;function BS(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function KJ(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new gn.Buf16(320),this.work=new gn.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function sT(t){var e;return!t||!t.state?Vn:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=oT,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new gn.Buf32(WJ),e.distcode=e.distdyn=new gn.Buf32(VJ),e.sane=1,e.back=-1,Xa)}function lT(t){var e;return!t||!t.state?Vn:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,sT(t))}function cT(t,e){var r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?Vn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,lT(t))}function uT(t,e){var r,n;return t?(n=new KJ,t.state=n,n.window=null,r=cT(t,e),r!==Xa&&(t.state=null),r):Vn}function XJ(t){return uT(t,qJ)}var US=!0,Ng,Fg;function ZJ(t){if(US){var e;for(Ng=new gn.Buf32(512),Fg=new gn.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(yu(tT,t.lens,0,288,Ng,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;yu(rT,t.lens,0,32,Fg,0,t.work,{bits:5}),US=!1}t.lencode=Ng,t.lenbits=9,t.distcode=Fg,t.distbits=5}function dT(t,e,r,n){var i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new gn.Buf8(o.wsize)),n>=o.wsize?(gn.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),gn.arraySet(o.window,e,r-n,i,o.wnext),n-=i,n?(gn.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function YJ(t,e){var r,n,i,o,a,s,l,c,d,h,f,p,g,m,y=0,v,b,x,w,S,k,C,P,E=new gn.Buf8(4),R,N,T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Vn;r=t.state,r.mode===Bi&&(r.mode=Pg),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,h=s,f=l,P=Xa;e:for(;;)switch(r.mode){case oT:if(r.wrap===0){r.mode=Pg;break}for(;d<16;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(r.wrap&2&&c===35615){r.check=0,E[0]=c&255,E[1]=c>>>8&255,r.check=xi(r.check,E,2,0),c=0,d=0,r.mode=bS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Yt;break}if((c&15)!==yS){t.msg="unknown compression method",r.mode=Yt;break}if(c>>>=4,d-=4,C=(c&15)+8,r.wbits===0)r.wbits=C;else if(C>r.wbits){t.msg="invalid window size",r.mode=Yt;break}r.dmax=1<<C,t.adler=r.check=1,r.mode=c&512?ES:Bi,c=0,d=0;break;case bS:for(;d<16;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==yS){t.msg="unknown compression method",r.mode=Yt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Yt;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,r.check=xi(r.check,E,2,0)),c=0,d=0,r.mode=xS;case xS:for(;d<32;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,r.check=xi(r.check,E,4,0)),c=0,d=0,r.mode=wS;case wS:for(;d<16;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,r.check=xi(r.check,E,2,0)),c=0,d=0,r.mode=SS;case SS:if(r.flags&1024){for(;d<16;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(E[0]=c&255,E[1]=c>>>8&255,r.check=xi(r.check,E,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=kS;case kS:if(r.flags&1024&&(p=r.length,p>s&&(p=s),p&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),gn.arraySet(r.head.extra,n,o,p,C)),r.flags&512&&(r.check=xi(r.check,n,p,o)),s-=p,o+=p,r.length-=p),r.length))break e;r.length=0,r.mode=_S;case _S:if(r.flags&2048){if(s===0)break e;p=0;do C=n[o+p++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&p<s);if(r.flags&512&&(r.check=xi(r.check,n,p,o)),s-=p,o+=p,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=CS;case CS:if(r.flags&4096){if(s===0)break e;p=0;do C=n[o+p++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&p<s);if(r.flags&512&&(r.check=xi(r.check,n,p,o)),s-=p,o+=p,C)break e}else r.head&&(r.head.comment=null);r.mode=jS;case jS:if(r.flags&512){for(;d<16;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Yt;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Bi;break;case ES:for(;d<32;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}t.adler=r.check=BS(c),c=0,d=0,r.mode=op;case op:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,BJ;t.adler=r.check=1,r.mode=Bi;case Bi:if(e===LJ||e===Oh)break e;case Pg:if(r.last){c>>>=d&7,d-=d&7,r.mode=Ag;break}for(;d<3;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=TS;break;case 1:if(ZJ(r),r.mode=Ah,e===Oh){c>>>=2,d-=2;break e}break;case 2:r.mode=PS;break;case 3:t.msg="invalid block type",r.mode=Yt}c>>>=2,d-=2;break;case TS:for(c>>>=d&7,d-=d&7;d<32;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Yt;break}if(r.length=c&65535,c=0,d=0,r.mode=Og,e===Oh)break e;case Og:r.mode=RS;case RS:if(p=r.length,p){if(p>s&&(p=s),p>l&&(p=l),p===0)break e;gn.arraySet(i,n,o,p,a),s-=p,o+=p,l-=p,a+=p,r.length-=p;break}r.mode=Bi;break;case PS:for(;d<14;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Yt;break}r.have=0,r.mode=OS;case OS:for(;r.have<r.ncode;){for(;d<3;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}r.lens[T[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},P=yu(MJ,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,P){t.msg="invalid code lengths set",r.mode=Yt;break}r.have=0,r.mode=AS;case AS:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,x=y&65535,!(v<=d);){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(x<16)c>>>=v,d-=v,r.lens[r.have++]=x;else{if(x===16){for(N=v+2;d<N;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(c>>>=v,d-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=Yt;break}C=r.lens[r.have-1],p=3+(c&3),c>>>=2,d-=2}else if(x===17){for(N=v+3;d<N;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}c>>>=v,d-=v,C=0,p=3+(c&7),c>>>=3,d-=3}else{for(N=v+7;d<N;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}c>>>=v,d-=v,C=0,p=11+(c&127),c>>>=7,d-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Yt;break}for(;p--;)r.lens[r.have++]=C}}if(r.mode===Yt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Yt;break}if(r.lenbits=9,R={bits:r.lenbits},P=yu(tT,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,P){t.msg="invalid literal/lengths set",r.mode=Yt;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},P=yu(rT,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,P){t.msg="invalid distances set",r.mode=Yt;break}if(r.mode=Ah,e===Oh)break e;case Ah:r.mode=Nh;case Nh:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,IJ(t,f),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,r.mode===Bi&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,x=y&65535,!(v<=d);){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(b&&!(b&240)){for(w=v,S=b,k=x;y=r.lencode[k+((c&(1<<w+S)-1)>>w)],v=y>>>24,b=y>>>16&255,x=y&65535,!(w+v<=d);){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=v,d-=v,r.back+=v,r.length=x,b===0){r.mode=MS;break}if(b&32){r.back=-1,r.mode=Bi;break}if(b&64){t.msg="invalid literal/length code",r.mode=Yt;break}r.extra=b&15,r.mode=NS;case NS:if(r.extra){for(N=r.extra;d<N;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=FS;case FS:for(;y=r.distcode[c&(1<<r.distbits)-1],v=y>>>24,b=y>>>16&255,x=y&65535,!(v<=d);){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(!(b&240)){for(w=v,S=b,k=x;y=r.distcode[k+((c&(1<<w+S)-1)>>w)],v=y>>>24,b=y>>>16&255,x=y&65535,!(w+v<=d);){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=v,d-=v,r.back+=v,b&64){t.msg="invalid distance code",r.mode=Yt;break}r.offset=x,r.extra=b&15,r.mode=DS;case DS:if(r.extra){for(N=r.extra;d<N;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Yt;break}r.mode=IS;case IS:if(l===0)break e;if(p=f-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Yt;break}p>r.wnext?(p-=r.wnext,g=r.wsize-p):g=r.wnext-p,p>r.length&&(p=r.length),m=r.window}else m=i,g=a-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do i[a++]=m[g++];while(--p);r.length===0&&(r.mode=Nh);break;case MS:if(l===0)break e;i[a++]=r.length,l--,r.mode=Nh;break;case Ag:if(r.wrap){for(;d<32;){if(s===0)break e;s--,c|=n[o++]<<d,d+=8}if(f-=l,t.total_out+=f,r.total+=f,f&&(t.adler=r.check=r.flags?xi(r.check,i,f,a-f):gv(r.check,i,f,a-f)),f=l,(r.flags?c:BS(c))!==r.check){t.msg="incorrect data check",r.mode=Yt;break}c=0,d=0}r.mode=LS;case LS:if(r.wrap&&r.flags){for(;d<32;){if(s===0)break e;s--,c+=n[o++]<<d,d+=8}if(c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Yt;break}c=0,d=0}r.mode=zS;case zS:P=zJ;break e;case Yt:P=nT;break e;case aT:return iT;case HJ:default:return Vn}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,(r.wsize||f!==t.avail_out&&r.mode<Yt&&(r.mode<Ag||e!==vS))&&dT(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,r.total+=f,r.wrap&&f&&(t.adler=r.check=r.flags?xi(r.check,i,f,t.next_out-f):gv(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Bi?128:0)+(r.mode===Ah||r.mode===Og?256:0),(h===0&&f===0||e===vS)&&P===Xa&&(P=UJ),P}function JJ(t){if(!t||!t.state)return Vn;var e=t.state;return e.window&&(e.window=null),t.state=null,Xa}function QJ(t,e){var r;return!t||!t.state||(r=t.state,!(r.wrap&2))?Vn:(r.head=e,e.done=!1,Xa)}function $J(t,e){var r=e.length,n,i,o;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==op)?Vn:n.mode===op&&(i=1,i=gv(i,e,r,0),i!==n.check)?nT:(o=dT(t,e,r,r),o?(n.mode=aT,iT):(n.havedict=1,Xa))}pi.inflateReset=lT;pi.inflateReset2=cT;pi.inflateResetKeep=sT;pi.inflateInit=XJ;pi.inflateInit2=uT;pi.inflate=YJ;pi.inflateEnd=JJ;pi.inflateGetHeader=QJ;pi.inflateSetDictionary=$J;pi.inflateInfo="pako inflate (from Nodeca project)";var hT={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function eQ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var tQ=eQ,El=pi,bu=lo,df=as,or=hT,mv=Pb,rQ=$5,nQ=tQ,fT=Object.prototype.toString;function Za(t){if(!(this instanceof Za))return new Za(t);this.options=bu.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rQ,this.strm.avail_out=0;var r=El.inflateInit2(this.strm,e.windowBits);if(r!==or.Z_OK)throw new Error(mv[r]);if(this.header=new nQ,El.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=df.string2buf(e.dictionary):fT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=El.inflateSetDictionary(this.strm,e.dictionary),r!==or.Z_OK)))throw new Error(mv[r])}Za.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s,l,c,d=!1;if(this.ended)return!1;a=e===~~e?e:e===!0?or.Z_FINISH:or.Z_NO_FLUSH,typeof t=="string"?r.input=df.binstring2buf(t):fT.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new bu.Buf8(n),r.next_out=0,r.avail_out=n),o=El.inflate(r,or.Z_NO_FLUSH),o===or.Z_NEED_DICT&&i&&(o=El.inflateSetDictionary(this.strm,i)),o===or.Z_BUF_ERROR&&d===!0&&(o=or.Z_OK,d=!1),o!==or.Z_STREAM_END&&o!==or.Z_OK)return this.onEnd(o),this.ended=!0,!1;r.next_out&&(r.avail_out===0||o===or.Z_STREAM_END||r.avail_in===0&&(a===or.Z_FINISH||a===or.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=df.utf8border(r.output,r.next_out),l=r.next_out-s,c=df.buf2string(r.output,s),r.next_out=l,r.avail_out=n-l,l&&bu.arraySet(r.output,r.output,s,l,0),this.onData(c)):this.onData(bu.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(d=!0)}while((r.avail_in>0||r.avail_out===0)&&o!==or.Z_STREAM_END);return o===or.Z_STREAM_END&&(a=or.Z_FINISH),a===or.Z_FINISH?(o=El.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===or.Z_OK):(a===or.Z_SYNC_FLUSH&&(this.onEnd(or.Z_OK),r.avail_out=0),!0)};Za.prototype.onData=function(t){this.chunks.push(t)};Za.prototype.onEnd=function(t){t===or.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bu.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ab(t,e){var r=new Za(e);if(r.push(t,!0),r.err)throw r.msg||mv[r.err];return r.result}function iQ(t,e){return e=e||{},e.raw=!0,Ab(t,e)}Ed.Inflate=Za;Ed.inflate=Ab;Ed.inflateRaw=iQ;Ed.ungzip=Ab;var oQ=lo.assign,aQ=_d,sQ=Ed,lQ=hT,pT={};oQ(pT,aQ,sQ,lQ);var cQ=pT;const r0=id(cQ);var HS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jc=new Uint8Array(256);for(var Fh=0;Fh<HS.length;Fh++)Jc[HS.charCodeAt(Fh)]=Fh;var uQ=function(t){var e=t.length*.75,r=t.length,n,i=0,o,a,s,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=new Uint8Array(e);for(n=0;n<r;n+=4)o=Jc[t.charCodeAt(n)],a=Jc[t.charCodeAt(n+1)],s=Jc[t.charCodeAt(n+2)],l=Jc[t.charCodeAt(n+3)],c[i++]=o<<2|a>>4,c[i++]=(a&15)<<4|s>>2,c[i++]=(s&3)<<6|l&63;return c},dQ=function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},gT=function(t){return dQ(r0.inflate(uQ(t)))},hQ=function(t,e,r){for(var n="",i=0,o=e-t.length;i<o;i++)n+=r;return n+t};const fQ="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",pQ="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",gQ="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",mQ="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",vQ="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",yQ="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",bQ="eJyNnVtzG8mxrf+KAk/nRGh8eBWleZPnItsaD0dXWNvhB5BsUdgC0TLAFgjt2P/9AI2uzJUrV7X8olB/q4CuyspaVX0p8H8mP7V3d83yfvLj5P3fu/Xstnl0fPbsydGjJ89Oz55MHk9+bZf3v8/uml2BvzSLr839/Hr2w+XVYv7vrtnL3WLB8iOQZ3fzxZYL7IRpM7/9tD/r35ubeXe3I3+9ny3m18+Xt4td2R+OT3Zk/ev8obn5Y35//Wny4/2qax5Pfvo0W82u75vVm2b/6V8e7pvlTXPzur2bLYfa/vnP7cPkx3/+cHxx9PiHk5Pzx8fHx08ePzs9/tfjybtd4dVivmz+aNfz+3m73J/q6AiEt5/m15+XzXo9+fF8x983q3VfbHJ0dPKno6Oj3Ul+b3eN2Dfop/bLdrVvx6P/c/1/Hx0/e3r+eP/vRf/vs/2/z476fy8ePb9pr5pHb7br++Zu/eivy+t29aVdze6bmz89evR8sXj0ev8960evm3Wz+rqjHs35+tHs0f1qdtPczVafH7UfH/02X7b32y/ND7tCi0fPXzyaLW/+X7t6NN99wbq7Ws9v5rPVvFn/aVfZX3anupkvb99cf2r6Xuhr8uZ+95HZ6qaou4I/zb78ZeiUi+Onjyf/KEfnJ6ePJ8/X1/tArwbx58aOfzg5ung8eXN/85fpTnzS//f97r9Pnx566+/N/Wp+vQvnP/9nMv3H5MeTi53w+64i6y+zXRT/9zHh5uF6Mbszfnp+fuD/7tpdtK4WppyfPzkoy+7uat9Nt8us3bSLxWxl/OmuW3r+pVld79O+CE+eXByE2d1OWu+i4zU7OYEa9P3ttTs9Hb5vtmqWi+ZjTaKPlWrM1vtvXH/2ij89Gz616NY5ONe70TrLp/i0/fKpWebiu6bM25vM14vZ+lMO1rdm1WbaLpsM7zei5P2nVSPKfmy7laDzr6Lsev4gYPO1EX3bhJh6OsyXIq2u20UrIrRu7uZRsh5Y7E0g0ebf3WyR8e2q2Q1m0cydD657oynK8dHxkNEzkX7PM/qzoYuSiT9l9HP+4C+Ojo8P6Ff/YInAi/xdf8lx+qu3bG+Xe/S3fMaXuf2/+dgr2fr3fMbfc70u89f/kUu9yt/1On/wTY7E2/zBd/mD7w09Oxt6eppL/SOjD/mM/5WjerWbyz4398E3XNxpcaDy56KpnD0xU7mez6/nq+vuLvdHt3ft9W76gTESDC5Uxj42y+gqp8S1MGAxbnODPuZStxl9ylWeZ/TfuV6fc6lFzksRLeE6wve+iGGfTXqV6yUcXsS+yx/8mrN3k0s9ZLTN6BtU9czzKybCyZOjkpWrSvmYjeaMfTbezxc3TQ7JYa6/aTcizmF69qngvl+meXIclxH3cb8uRKO1z2zV5PFx0a7mgq+byrdcd6vdPH7tATx+dgzDZj3vV66piWXZoofVbTffKXftvV467OX+i78jU+hLz36cCyYWULuVnFwP3Mxub9WcduC4FqMVx77vmlUDY//0whZDs9vV7Iuf7fS8ZNbuUqKBjAuu1DfzarYeifC4utKLBeuAqO+uCYZa7VbY8y/r+VpIu7bef2q7sFg0ty/zfkhu77nV7Kuo7Oy6uxf44OUfF81D1ioj6252vWrFia9WjTrxTXs/uw4jzqX5ricxAG5oOA69srsLut2aWyxSu+XtbNXdLWadOE17u1tnfhZfN1uFxZP1y13IWRee+7Ln9GJg7erm426hF1aGvkKJk6wvQCL3M1zCGZ6c2xnudk7XLfAUdrUxE1PezX7Qr9diAlvEE1tKtZHbiqRtctnd+NxdEe/yXkwxf01d6k4QM9Cn/5g3PjXJTvWvi73nq6NcgzJd3My/ziGh/SOxZr5gFoPDqx0/5Cs99SGbIikGNln3F180TKCp+Sv9fGGoOK53xIzGg3+m0kMdfcCvAtJJ/Jph5xFwEXJSnFg19KI4+HW56SFORa7j68KYB95KHZffVQV8eNRyNJqqr/Rlc+xSqvZt0VghnMkqIUNmsvlr9kQbivN49rOLoc6L9luzvBWZ+zqewq/iRpOzGx0kQvThVZtIVpW2XnNb/fonR85O8/ZTuxKtuqSzexgqbvCG+FmZxChsNpo4Yy1ienLr73Csu36VsxL1pRS0KNY42WoxwbtucT//stiKelEDPclDA88uyqXJbHU/ny1u5h8/5r7a1q3h93geT9ixZPllNM1GZp0sWTpVhueyZoO1jPk9BsgnQ/oivP+2WzHgTTi7BFq1n5slXgiZOa6a2/k6Ln19iMbOhuk4jwtzjm43qsP1iAe7soZcVSLTUmR8XFZS6r9ohJ89K2vX/lZXvBFmcf7l/lOGPyUDNDNXvnV6PLTxvjJvNNXZsTYLPq8tH0ayMgbYr5dpaNitCK6UuUKtR2pTT20aXdcGZR7Hdu7RZQnPmGVd0CzuxQ2f+2DS7ombdsQR6/G960RLKOYWKrnO9LFAofcr1bjCeVpuWPQ+vkvg1S6R1/n73qR8ffas5Kte0b4cnX9/ix3nlxL2WEeZYrIFt4wYJue16ey3WG2Lwy5qn2YLmBrKIN9fmtCtbuuLMZdfxmWTp9p3OrAyFJpag26jmWKDhm5Vvar77o1cIFoGy5qflR682dmEeujRxi4CK9SW1sXyZ+dm5zfza2W0P8cvgoXZ2HL399g/Xt1Kv70ez2ulurdWltDPqyYdLwesB6jOZsQjC8pfatM9O4XdIpYNtQVZXAnYt40OhUoV7kfPtGhv9/29bEW427qZdlkqQ3n3VZWRfDt+RQszuce8kr5LOY/bzZ1lXjS759fG+C/d/nHkvx5PXjar5R+z+Wr/EPmfk+f7h9WTxz+cHv3r8XB0cI+ADvWMaDB1hC/i0cFVAsKGoXAZj3IVcOoN3Loq0MP4Dyg4T1CGkAV2uDsU0GHgIHoVjt7ujo5P/LAELbDQflDe7Q7P/agEAFAIAHAIANASAEAUAFAsAMCGoR1Y7yhI3u+OLuxoGrQP+wYe+WFpEjKoO+AuhLXLydBVkqGTydDlZOiqydCJZOgsFsCGWDj5ujs6s6NNONrGo9IiQFDzgQ6FcHQaopAYp3HqnAdrUV4IRMPWuBy7Rb0UqFJLOZRNzF1oEvWjcd2ZJnOPmkBj3DgN9MJfZYRD3hiPexfk4C8yOIAhsgHjygtMzIZgErmCcW0NJrM/mMAmYUJ0ioLBLgqa5lJoHMbYPUwQFlK0LncYm4nxsZwUtmJSJScrBmNyLSeT1ZgQ/aZgMJ2CNhltBSIPMp6NaPADNCJDFE7jZETO2YiK8kIgMiLj0oiKeilQpZbSiEzMnW4Sdbpx3ekmc6ebQEZknIyo8FcZoREZYyNyQRpRkcGIDJERGVdGZGI2IpPIiIxrIzKZjcgENiITohEVDEZU0DSXQiMyxkZkgjCionW5w9iIjI/lpDAikyo5WTEik2s5mYzIhGhEBYMRFbTJaCsQGZHxbEQYGnSjyCmwUSRfIpHNKcgvapxsKorSq0KRyxofa4i0rlgi50rUKWGiqLMmluHUiSp5WhTJ2IL4qsLR4qLAPkeqNLtQBhwvcrK9KCrviyWyAUadXDCK2gpjGfbDqLIpRjU6Y9DAHgOfVsqjUUaB3TKqwjJDga6SCmyeUfzu0BA2GvWxoVEx1FhmdGgka41q9NeggckGvqnwbY2T50YxG68TtF2k1CEokeUGiQ0XxBeaktmiJK0WClxqWq+6NFnUcx6hSlmEks4hLMEZhBpZK0pkrCC9khRNFTFbatCkoUIJsFOkZKYoKStFPRspqmSjKGkTxRJsoaixgaIW7RMUME+gU1kWjRMx2yZqwjRB7mQ3s2Gi9J0kF2aJaj3JK0aJJUaSPJkkatEiQQGDBLqRdKspWSNK2RiH1qMrGqKQGyc/dM5mWJQXApENGpceWNRLgSq1lNZnYk4JkygfjOtkMJkzwQTyOuNkdIW/yggtzhj7mwvS3IoMzmaIbM248jQTs6GZRG5mXFuZyexjJrCJmRAdrGCwr4KmuRQalzF2LROEZRWtyx3GZmV8LCeFTZlUycmKQZlcy8lkTSZEXyoYTKmgTUZbgciLjGcjKnVFJ3JGAXWBvAgENiOTXihGduSC9COTLxWrVVZakqu5/12jBHBBZ4DrnAKukC+5QMZkwivB0JocsjeBIs3JdHAnZ2RPLih/cjUblGvkUC5oi3KdPcoVNilXoksZB5syNhXl0KgcslO5IqzKxE50IZuVC6PpKuzKtVq6VgzL9Wq6JstyJXqWcTAtYxvBtoqRb7mQjatUDI3LGQXXBTIuENi4THqhGBmXC9K4TL5UrFZZaVyu5kxwjTLBBZ0JrnMmuELG5QIZlwmvBEPjcsjGBYo0LtPBuJyRcbmgjMvVbFyukXG5oI3LdTYuV9i4XInGZRyMy9hUlEPjcsjG5YowLhM70YVsXC6MpqswLtdq6VoxLter6ZqMy5VoXMbBuIxtBNsqRsblQjau1fBDH16FQiiwBZNlGWbDGoQXmZBZFSytahAvM9HVkyZVtNznRaEeL1j3d1G5twsnayqYjGnArxJBUyqILcm4NKRBBTsqhMyoYGVFRctGVBSyoYK1CRWVLahwNqDCo/0MFMxnINNUBo2nILadwoXpDFKXuocNp+CRxBNmUxSdeBWjKWol8ZLJFB4tZqBgMAPZJLLNhKyl4GwsQ7qjsxiiEBonb3HO5lKUFwKRvRiX/lLUS4EqtZQWY2LuapOor43rzjaZe9sE8hnjZDSFv8oIrcYYe40L0myKDG5jiOzGuPIbE7PhmESOY1xbjsnsOSaw6ZgQXadgsJ2CprkUGo8xdh4ThPUUrcsdxuZjfCwnhf2YVMnJigGZXMvJZEEmRA8qGEyooE1GW4HIh4wnI/rzkJvHfuSdYSjED3joHqMlaoAoYKBYrIBZmIANEXJy+F2vxz+cGBl+uqugn6DQqRErNKDyShyVLJiLD8OfixecihdrTh8wgT7y8w49t+7pj2Jn9qi4OKDQR8BTl/e09BEg6wlg1hPAhp4AUizVkXvBz4MNuLZ3gGd+VFoHCKrstATQv9YiN6DSCRA+QxRD4xRI4yqaJuaQmkRxNc7BNYEjbEIMs2GKdeHvcximuRSE3hDF33juBM59Ol/qjn4fYeyOgrg7CufuKFx2RxFFdxSJu6Pw1B1FSN1RBOqOgrk7Bv4+h2GaS2F3FMTdUbjojkHi7hgwdcevQ0889aNyKkAl/oBC6IFDhYCWgAOyWAOzMAMbIgykBNfRzBYU/VFcQfWotACQWE/1PC2lehpXUT2iFVLPaHHUs7Au6klpgaPSW8eOfIXRH8VFTI/iyv+A8pKm52k1c6C27S/guL7pEa1dekbLlj1r41Guc1upYCsr2OaatHKR1Suijm1c7vcorvR/xTEB0V/tx+W5HZkzOSrRRxQW+wfhb8MIO6w+/oYjDFDJT0AhUsAhUkBLpABZPIBZnwEb8hNICZGjWTzKLZjlFswqLZjJFsxyC2aiBTPRgllqwSy3IK60/paXWHvUhY90uZldpU2dbFOX28QXCaCI1naitV1o7cvJ4Tr83I+i/fVIeF3Pk9f1NHpdj+TFYq+QC/asjDpA0fJeDv525kdx7n+J/oYoz/gvyd+Qgr8BjtP/y+BvwGjSfzn4GxzlOreVCraygm2uCfsbKKKO5m+A4trj5QSviV9O0uXwy5TVwJMrv5yk69+XIqtBIVd+OckXvC8nfK27J9uQLduc1ducvcGAcVyQQF9GqhotVOS7p6YxRKoeTlSIRxbJNMhIpfEWVUgPEiijSaUByapIfSqSRwEXyCOWStCQIZXHCMk8pKPcVoXRsMgxT0W+13B2AlK1KVCh8bazVZBKrhFVMBASyEtIVbZCRbLDUAEyG1K171AhtiCS2Y1IjsYUxW1thLFdkZrs47fJcGP52A/tnjKyeDvZlffxcH9ZeWFH/d3VMz+0e3nA8Kad4/ijr1ky/sT41oL1GwYCUOrz38Ke6mNiHIfanmqS3wsGYQk7js+IcYDkjmPSaqEKOscLd+lSLDhyapfuIJV7LRg+Yxw+F2T48NYRMwgf3jsqLU03j5Igwle0WviCzuEr4jbHgsNnXIQvDM4QxKikUJKsAxoKva8qGNwghBBHJQU6yircoUQ16LlUCn0yQhnN1A1VIxwKDNNU6AZj3AEuyNAX+b1gEO6CMNDGOMQmiOAWrRbWoHNAi7jNseAgGk/h2y154W5DfxQvYnsUr9V7JK5re56ua3sar2t7RFevPaOr156Fq9eexGv1y6Hvz/woLjsvc3+78N5m1Muhjz0u/9gdPbGjD9b/l9jNgKDpTsttBD+l3UYYUPFp6AZD1BfGqUOMq14xMXeNSdQ/xrmTTOCeMiF2l2HqM5y/KQzce5XZm1ToR5y7TyOCHsXp/IIQ9a2azEmiXk6P/QYe9k5Cf0dOnR5F6vkoqu6PJXIORJ0SIYqcDVHllIhqzIuoUXKkndwqepwmY/u4VRFImLRt+VRwSJ20nflCcUqi6mZmpVM6BY1zCjadQUYhpXxCibIJJZVLqOdMQpXyCCXOItQ4h1CLGYQK5Q9tWc1x4typb1jNBSBvaMfmaaKQM7SP8yJTypfKLs6sUq6AwplStgRBmhiiHDFOCWJcZYeJOTVMorwwzklhAmeECTEdDFMu4MY+CgNnQWVbH6nQ/7jl7TQi6HncBXdBiPpc7YEjiXq7YO7qeJsDe5wV6niWqf9ZVmnAZXI2cAlKCpY5N1jnFGE9ZgqrlDAkv63GlNMnySqLqBAkEymQU6RAapECGcYKJRrLOd+oBKUdqZx9tocH8s4ZZZwLlGsuqCxzNeeXa5RZLnBOucLZ5ErMI+eUQWHHHkeEs6a2X49lyJSwhe2UGGRH2NZ2wYwyQm5qY42ywDj3f7nchO43RL1vnDrfuOp7E3PXm0Q9b5w73gTudxNitxumXsfbEBQG7vPKTQhSocfxFsRpRNDfeFfighD1tronQRL1dcHc1eWVUOhqQ9TVxqmrjauuNjF3tUnU1ca5q03grjYhdrVh6mp8sZvCwF1dea2bVOhqfOX5NCLoanwL+oIQdbV6B5ok6uqCqav/GHp5eCX9D+xhZKV3kcUXf0HAe2KA7dVfYP6GL0B/xRdgeccXUOlBYLPQMntDBVB8i7BH4sldz9Pjup7GZ3Q9omduPaOHjD0L7wn2JD5w+wP67fipocYyqT+KD5V6VBIUUX583fP00OlA4Ykr4Pj8ukf0PLpn9L7bnrXxKNe5rVSwlRVsc034cSgooo724BNQfDr+B46OIfqvJvgGfH8U34DvkXgDvufpDfiexjfgeyTfgO8VegO+Z/QGfM/CG/CvJ4e3Hk78KLp2j4Qx9zx5ck+jHfdIvsPUK+TRPSvxBxQd+PVgvqd+FF9tfJ0t14V3NoheYy8BEqP8NfUS0DjKX4teAoXG/+vQS8DC+H8d5ojXYXp4PUwDrn2II+g1mf9Ayy1K6H1DlALGVR6YmJPBJMoI4zotTObcMIESxDhlCd5kPiVE+VK5yUwqZI4hSh/jKodMzIlkEmWTcZ1SJnNemcDJZULMsHwf3dA0B+JDLsVZp26aD1J5sgqpZ4hSz7hKPRNz6plEqWdcp57JnHomUOoZp9TDB+ynhCj1Ko/XSYXUM0SpZ1ylnok59Uyi1DOuU89kTj0TOPVMiKmHLxBQhkxzID7kUpx66u2BIqX3/U6kwGk48r6fLiJSUr/vp9VKelbe99Myp6p+30+qmLb6jYaKKlM4lMFEjgKnc1RlUsciIrVjAU7wqFbSPBZKyR7llPJRpsRPL3rILJ3WQvmh9ok0IKpveRwKvJnwPsg3k7QP8g0/6yTMxXmbF+FUPG1xTEL6SGgWfyyI9NFdfuO1bH9I17I9o2vZnqlr2V7I17I9pmvZnvG1bA/5WraH8Vq2R3Qt+3YwsjM/iiPpbbIs4GnMvEVzAiRHx9tgQ8Diu6Nv0XAczWIjZqIH7Br8iaNaB8x0B8xEB/hlOHyviv8sx98uxP2j1+0CfPgtJCN8jqrQiNbaxXlgleY2urnh+hx5CYNXuxFRaFQUPm2/fGr6ennntbFIK5rT1qre6qq3oqf40h0lUX27dsdyucP84t2LrehQNGgl+of2cIGybu7mOTO6WKgTp+lqcet03DoRN37RGSURt051e5eTfxMPt3QoGoOvnA3nww3WpWTaYZ0E9mK9xzqpImRpl3USkj/nfdZJoWClndYsgGenqx/myr3V1Q9L5OO1qx+W2dHT1Q9z8vbCZ6LZyeVNIKs3Ptq/yvRNq/Vvsn8Tqt3LE4FxMhdf9YSBz4sh/hpVyzRDmMA25MJYqNSE4ZqYNUykqcN4LYx5EilKmkmK0IrCaU4xYbSdanYxrZYStXnG9Fpb04xjQiUz0txThJVitRCkqcgFOR8VWUxKRepE8TQ9mTDaBWqiMq3WBbUpy/RaF+TJy5TKqN0ItlWs1nw1q4ULjjC3RSV9Z5TTPBdlHfdYRkU/lkh9EOU8/0U9BzzqHPaophkx3ZQ5kwLPjiM3ZXQRMVPqmzJarcyalZsyWuYZVN+UkeqsGrI8p0aZZ9ao/gcZJWfZWGI8o/KMG+XvJFSafaPKTkv3BaLbyZsG+ovr7clzc5STO5P8/ZDL2ZpKqDk7FuGZO6rjnSJm8aDnuTzIbfWDeV6P8n8QHTnHxxLjCVmd72Op8QjluT/Ko3mZ1wFBXtWV8fDllQHJen0QCqlVQijQVT+aVwxR/g86V64eYonxzq2uJGKp8c4Vq4qoj3rSpqps68p46PKa492w0DjzozhHvsMFBSAxV76jhQPQOCu+CwsEYHTv+x0sBIDEKe7dhF8/ejdJbx6VJwPY1rRDijm1Wu+QYjG3P+2QYs6RyDukWIgxSTukiFN0KjuLwuMRjJPeWSRFitjIziJZIsdO7yySIkexsrNIqjGeemeREimyY5ts4NESBldtshESBba6yUboOahqk42QOKByk43QYjDVJpssUSDrO1DKAziMYdqBwpyip3egsJjjlnagMOeI5R0oLMRYpR0oxClKlZ0b73h7Ql2hgNV2blRkFb6RnRuVEhTM6s6Nis6hrezcqKgU6NEtC6xy2MOWhcQo1HnLQhJUeOWWhaRRSMWWhaRwGNOWhcQpdJU3/J1zuOyPHTxXjMLlAoXLBRUuV3O4XKNwucDhcoXD5UoMl3MKlwkULuMcruEH3J9nQqEqmAJVsApT0XKQikIhKpgDVDiHp/AYnEIpNAOmwAyUwvJ+CMlTPyrhABR/S/R9CgPw9Fui77H5gOi3RN+HZgMLvyX6Hpvr6EVoz4vYcz2KV1wuXMajmAo9Ev3d89TXPY393CN5y6pXqPd7Fm9O9Sh27x75b8T2R3G7QY9KCACFhgBPmxJ6WhoCyKoLzHoM2NBjQEoLHJUr2zMg5TbQeUGxk5ucmHaPB5FOzEYmZrh/AzjnayPytRH5andkHLXxKDejrdS5lXVuc+X4Tgoootp2ywRQHlNwb8Q6BO9JeM91oWe7nI1dJfU6mXpdTj2+mQCKSMpOJGUXknI6uN65H8XXtaboeoDELogpuR7QuAtiGlwPGO3HmILrAYnbH6YTfHVyit4FSLwkOSXvAhpfh5wK7wKFXnyconcBiq84Tie452eK3gUo2vc0eRfwZMJT9C5AZLXT4F3AwgQ7Re9yVJzqqZG9fupHpU2A4jub02RUwNPvA03ZqADHX9qbBqMCRj+XN0Wj8oa1oUCbm6F+CXpKRgU0V07/EvQ0GBWw+EvQUzQqR2ZU3h9dKNDlhqhfOZySIwHNDdE/YjgNjgRMxD/+RuGebMM42ebxvE3j9sNgZMMPZX1AJ0NmDzSBxbvAIOCtX8B2vxeYP6QE6DdtAZY7tYDsGaSzvaU9PbcjmyodxanSOU6VTm2qdMRTpSs+VTqzqdKRTZWG+mXLmTXCHwUCiwuyD8nUsGz+lbIPaGvIaPr7EHwNC5b4A7L4OyuT+xMgw7LMC9FnGtFcf/iGrNLeRrc3PlsDLuLQiDg0Kg78wGzP5mE4zeO46xFtVv4weCV8RyuC0NYa3OoGt6Jh6RkZSD74ANrjMGCio3115wxXd54AXRyhnbCXrmYlnbaSTlhJel4EknKZTrlMRy6DDy0S44akxxZJkM1UDy6Sxg3Ojy6SktrHDy8SZz/F7YWDWaXthcyVvarthSyR0da2F7LMlpu2FzIn8y0cHcoYD0kTyIuNy/Fqqhi0pvHINYF9yYRkTqaQUxuPF9HGacTyMyv+GlXL5OAmsI27MBYqZeiuCVc3sRbH5O8mVOOYnL4IYPeGyPONs/EXoRXfm6YAE0aDpSYD02rxqE0LptfileYHE3iSSE85WRDTRZFwzjBW81s9e5g6YqtpHjGhMpmYXrXdPK2YQrZLjyMV5harB5JKkwGpPJJUModFPpRUYmq8eCypJJ55QIPJBynNPyipKQj1PAuhShMRSnouwhI8HaFGMxJKNCmBhA6MmK0CNZqdUJJGggWEl6DMdoIaOwZqyWRRpPkKJZqywvPqYBziSbb4vkrV0/SFGs9gQftOONU8FmQxlaE+Eu40oaE2Fu40rYEGMxtSmtxQ4vkNtFafI81yqH0voGquQ3kkYLUZD4ukCyIUeeJDjec+9fqE0MQMCCpOgohHZgU9FWKBcedPEyJqlTkRi4xNDnlmRDFODvudwl8tq/ZHm3DkP5feH8X7cz1K9+GKZeL3FrTJaJs/yKcxns81WDCeq6BNRtv8QT6X8Xyu8M4TnDDwTYVvK9/D549irgR0JVQB6EbSrfwGPjlK+dTlJRw4b0GbjLb5g3w64/lc9i4FnMzYRrCt+Cyfz4V8QnsbAU5obCPYVnyWT+hCPiH8zfuTQDaJbNOn+ETib94PCv5Z65OINhlt8wf5VOrPWh+kqx292luLHcUXG/ZkYefsj+KE16P4/B+E+MzqapLekLia4J8YvEIHBySetF2RXwONT9quhDuDQk/aroIXAws/nHgVOudqgk8XrjD+gFJdr3E5dl7I56B/VpG9TnchzgP+nEvq70l7Ns8D/pxLVr4n/bJF+SYTPqvS+tsOU/5k/WV2vQ/h+UD7L85/R+Qoy6TlSMULb0NfbVTEkbY/egjaNmjU2zzQBqo7zTDXByfk0/gNm/ylD7nUNpfiiqo5epB0ahjm2hYOtcWdiPSlD7nUNpfi2qqdiUVSbz2Xqsm3npWIldfLg8gfKuW3lfKpQbVlw6Cry7ZzVrhFtNY4TV+1kSd4kGW3siy3o7ICKapfxqVmgJTaARo2BPBGn+RBl97q0qkxqOXW8LvOQ23Tu87EoQV5+WXoIZfa5lJcY7UiG6T01utQrfzWKwtQYbGEc/Ygym1FOa60XNYNWnr5dKhcfvmUBai1WAc6exDltqIc11quDQ/ax8nhftSpH8VFWI/K3SdA4l2JnqelWk/juxI9ojciekZvRPQsvBHRk/i2x0eIuJPdeFg063V/8+NpgfFDTW4ovZFzQLqh+Y2cA01v5PQ4t5/fyOmZaH8bj3Kd1es3PZcVbHNN9Os3vSLqSK/f9Ch3CP1F7o95CfQkCgM9rJr21xf9Nks/svsjjuwmHqC4hfIglMvslUD0tcbpu52rE4j9oVKgk9V2h2pVnDj+jTnx5+X0X5b7PIyEEz+KfvEZRwKifDnzmUYCUhgJgONVzucwEoDRtcznYSTAUa5zW6lgKyvY5prwSABF1LGNV4mfcSQMKO9a1wK1pbJnvaKKRtd3rFcK5L6q7FfXKkentl9dym1VGA2L7O36ZnRdYLRZlXSo7UTXMiVJZSP6Qb2bDDeI/Sh6Ro/ET5X3HO8CO40/Vd4j+VPlvUI/Vd4z+qnynoWfKr8bbOiwqrlDGwKEtevpMjR2mRu7rDR2KRu7zI1dVhu7FI1disYuU2PjfcJlaPoyN52XigMNj8SPIqIgVB6Ik5jDkR+HE9eBEQ/DSeAQpUfhEUOw8BKfAsFhU5f4gxR+FekoIopd5TeRSMyxy7+IRFzHLv8eEgscu/RzSBFD7MKPIcVAcOzUDYci5d+KOFICx3HslyJkERHTyu9ESLUS38qvRGg5xVr/SIQSMe75JyJUKFMfVH8gYihQbm1DHxii6BtXcTcxR9wkirVxHWWTOb4mcGRNiDHNjwOWeO+fAsERVPf+D9JuvUB3+/eEbtC3w4n9I5tw5NdKbVhFt3kV3cpVdFmccFXSjVHiUCm8MUroIZ9nKxBVtP7wspW3Gs+ExvVOtxqHmqZbjYo/VCqwrXFq0HeeUML6jtukbjVmCdpDtxozfZCn3WpK7Rh92NnyzbmziLn+eHNuqCbenCP0kM+zFYgqXH9c2o7u5meV604yNIGUTVV5qFZlW1eoeSznVlY23rf5FiQL0KZwC5LZgzjZVjGq+8iT5XKx0d/ROz+PqHwNc9vQSDzuaiQRTs2S7W8k7pscSfCdjiSU7Y6Ebc9j5FcZXQtUCUN5VJh5eeyXlCExnkV8k0ve7Bo+u89cVKOpVK+pVK8Z66Wm3kvxj4WRVunBptaDTa0HP2YkOvS2koHxFhirnzKaC1SJ53wsbvN63OaV2MxrsZnXYvPfGYlSn0djsBCo0uDF+BfZX1aL/C4j0cZl5ZzLStIuR+uyrIzvVqDKidux3m3rvdtWejf9mTqSa53fVsLaVpr4RaAyzZDN/DsXXQlUCdCq0jOr0Z4REVtXTrCunGBdtdP16KkVGv1AJ1Clrt1YtnT1bOkq2cLXVSzXsqWrWUWnJ8L9QuMizvubjPx9eUPbXMoWGcyh+SR9yzX6Vonwt0o2fBOzkP7bp4Z52YUXmcfxGzYZwZorv4bWVl5Da+uvoX2Bip6eF+IPvwxtw0foBF/0dw/fUnt3KOo1sbyOdHjcRl9l6pmri+bjffnSw/9/OL8wtXywX+UcZWwrnayFaoqvXOmPuYUJzfJKadEecol1BY+ccD1yQrQ2pX63OkNfHIbZaljFH/tRvC20wrU7IHGTaEUrdqDx1tAqrNOB0R2fFazOgdgL84aGl+JOARwGy7mR3aLtMEhXsFwDgu0B7M0BOLQGSGkMoNIWR/EgdJTzRThI9VzUPjZ4nZPdmurEDpbhYPhWIEO+IcHzAB+C7+QLxt0syQMP+xS83O47z/wgnMt5h83pUig63WWd6rIudRnNniDkvuxyXw5zpYOv2LxtOBhqDsSrOMByRw2GoiEaj8ZpUBpXI9PEPDxNojFqnAeqCTxaTYhD1jCNW7+xicnBtzvPI/ZhbCQmhmGRHaalFDEl5olhygnjlBjwijETNW6LuMhEN0qOfhOjBRTsPlDIMpPoCIajLTgW3mBiNAi7TZ06mK2i8OwXRXFzMKKcAx56Uig6HVVlJOKJJys6VbSvpMedzCuJFG0G7u1TaLaZRNcRt+wHJfytJkJkPekvNTFX1iP/UBNJZD35zzSxwNaT/koTYbIe+iNNp0yD9RTs1mMk5pNhkU+mpXwyJeaTYcoY45QxsCuBiTKNIi4y0Y2S1mNitJ6C3XoKWWYSrcdwtB7HwnpMjNZjL+OnDmbrEX8biT7h7mJEWQ+8M0Ch6HRUlfWIFwZY0amirSe9LcC8kkjReuBVAQrNNpNoPeI9gaKEp9doQFFgG4oqm1FUpSXFIsKYYgG2p6gmk4pysqook2FFkW0rqJSppEULCyIYWeSUo1FUmRpL5HyNOmVtFDk7o8o5GtQql5YViixqfCwU2gpjETLEIIItBr6scbLIKJJRkqjsMhYh0wzil0p6JQMNqrDRoINfRi4tlV8lkiFle62/SKRLfCd12XDH3iLSZUbTO1mweoVIal8rId7WOFlz7fWhg563VoktVeVNhuEjfP02FEqrfuLwDXpv3TpN3sTxGyobLtfiT4knBb9Hemr5hB4RUoXv9LFBWziHo/3fzGUS7wY6Frf6ivg+kandfy1k/+fjn0VSZlrCMENGpdzoHe7gnmZxUA73hb8O0/zBbL7i3A6oTOiA4jvYzvHFa6f2trUjf3vamb8u7qzsY3Zir04bKonw1NoU9Sa3yd+tB6Tb1Mg2xVfnHeemNqKpjWhqG49yndtKBVtZwTbXJL3X7oqoo7/B7ijHnn5vd1PWjed2FN/v24QVoqO4LHSe3gLchAWgI1/1OfOlnrOyvnNiizpDJaGeWJt80bfBhAIUt/FsUkIBT+vbDScU4LjW3YSEAkar2s2QUHCU69xWKtjKCra5JulneFwRdfQf3XEUF9QbTKhD8B8muH3vAYMPKG7fe0jBB56etz1w8AHHTXMPIfjAaPvetriqH9lodmSu6kjsbNmyqzqNe1i20VWd0SacLbqqk7ghZYvT65GhWKDJjaItS9tsq85lo8SOpG2wVUeirbzhaFts1Y9yndV+oi3bqtNcE71daBtt1VncGLQNtmrIly9D9PGBxAkhalN6IMFcNVg9kGCJmp4fSLDA3cEPJBhTHNLSlWIhinJOGqfEdD4SC5GiLuU8Na0Sp5SxJtTi1ApUaaDMYhPrDeF8Nq6T2uRaWzi9jVf6NiU6vDINuY6UIoASZTxKKj6o5xChSlFCiSOBGncsanEMoEKhUr+rkYOlP8DjASUaEkEaD5YYGEHNYwPleizTCEFtJJatpvW2y9GC+mgDecygpIcNlhhpIw8elOpJwUPoW1mvnttRXIN/C+tVQHkN/o3Xq0Bxveo4Ls2/xfWqM1qafyvrVT/KdW4rFWxlBdtck7RedUXU0derjuK1wjeciRhR/dNMlLhonJqJkpT7Ic1EzLm1eSYioRWo0kDZS2omYqlS2Uqn5ZmIBeq+NBMNvNyvUoiaaJz60Llouom56S7lPjSNwmKc220C92ERWoEqDZR9aGK9IdyHxnUfmlxrC/ehcepD/BWkGqamBo36M2oiFKFADkeUc98GnUIWNI5LELmfUWwreCQIss9DgfGGct8HTfd/KDLWVs6DoEEu/Ot//z8nhUqv",xQ="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",wQ="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",SQ="eJyFnV9TG0myxb8K0U/3RjC7NgZj5o0ZZnYGz5pZGyH3bsyDEA3oImhWfxCajf3ut1Xqyjx5Mkt+cbh/p9RdlZV1qrrVJf5T/dg+PjZPi+r76urvy/nortk7PPpwfLh39P7DyUm1X/3cPi0+jR6brsDl5LGZf/dDO735dTGaTsYbdTmdorq3UfdUHj1Opmss0MFhM7m731xwU7Y73pY+fbqbdqW+e3vUkfnPk9fm5vfJYnxffb+YLZv96sf70Ww0XjSzL83msz+9Lpqnm+bmc/s4euqr+cMP7Wv1/b++O3jzZv+7g7cf9k9O3u+fHLz9Y78adGVn08lT83s7nywm7dPmSl0xFS7vJ+OHp2Y+r74/6vhVM5unYtWbNwd/efPmTXeNT+1iMt605Mf2eT3bNGLvf8b/u/f25MPR/ubf4/Tvyebfkzfp33fp3+O905v2utn7sp4vmsf53q9P43b23M5Gi+bmL3t7p9Pp3ufN2eZ7n5t5M3vp6DaYk/neaG8xG900j6PZw157u/fb5KldrJ+b735puk+d/m1v9HTz13a2N+k+PF9ezyc3k9Fs0sz/0lX3p+4yN5Onuy/j+yZ1QKrFl0X3kdHsJqtdwR9Hz7/0ffL+/cl+9TUfHb4/2K9O5+NNpGed+OHdfnXWyHEX4+P96svi5pdhV/Yg/feq++/bg7fb/vp7s5hNxl1E//Wfavi1+v5gE9lPXU3mz6MukP/d3+J3XcwSbl7H09Gj8KOjoy3/97LtQnU9VeVNf6Kn5eP1pqfunrx2006no5nwD+/ebflzMxtvMj4Lx8cftsLosZPmXXi0ZvkzqQapy732PJo1T9PmtiTZj0n1RvPNGecPqhz3yvN0ORcqMRt3A3XkL3G/fr5vnnzxrimTVltykBs5n47m9742fzaz1tP2qfFwsQpKLu5nTVD2tl3OAjp5CcrOJ68BbF6aoG+bOKZPE6iwhGjcTtsnj+fN48RK0gPTjQ842vx7OZp6fDdrupEcNPPfy2aevEZT8KDve637+/fHW3bq0Q8e/ahpe9Cf7MyX+smjn/0H/+aHwC9+UP7qG3buT/9R0du3W/Sbtjuf6+++Ep88uvDn+t2X+oevxGewjvdb9MWf69Kfa+DPdeVrP/SlvvrT1x790yffdTeZPTQLYxsyRq87zY5T/hx5yrF4yngyGU9m4+Wj77XlxrXn3dQTDJHkb6Yy6lMeXQs6PDzsx1jgv75UcOVb/8E73433PkgTj/7Pn+vBl9IhLGn/6K8YmE5ge8/BqPdDaObR3Ndr4Sux9CF88Um48pV49R9c+0r8qejwg+aXTYSDg9zrMJna8ruycTGZ3hSn+pt2FcTZzM46EyzSQk2T421u/+1mYYg+K59ZR3PH7bSdTQI+bwpnGS9n3TQ+XvsuS8NmPklL18D+t6uWeFjdLSed8tgu4pXDRk4n/oZMoc+JczsJWLB+6lZy4XLgZnR3F01pW45LMVpwbPqumTU3/qPdWmh0Nxs9g6nlj153dxFN0EoN7/VoviPCu9XC+ks6wOrdXUGOzXQ6eZ5P5oHUtXVx3y7NWtFN+ya5tedmo5fABkfj5SJauiQvv502r16jkZXx42g8i5Y717MmuvBNuxiNzYhTadL1JAZAlBmOQ61sc9OFNFqjLp/uRrPl43S0DC7T3nXLzIfgdCNsB/TLo8nZk2xwp7rqOXjf53w7u7ntlnlmXagLFDvH6vrDcrnAhV7gncwJs5vHzueWU7yCnGmkTDzjZjPk5/Ng+poW1uZtoZ5tkPTd6OxuiLush16TlZzrUJ2Ybf7p5G+zRiemsEv1dLbvdG3kaiCTxc3kZXITdFJta6bL5WBoaLXth3SdF3xIJ0gagzJVpzsvGiTQVH9KvZ4ZKIp9GKTmNBr0M9RD0hP0Ab0HcBfRO4bOIeAWxN5iUkOPD4+z2D/0CC5FnqOrQpsH2so4Lp+iCujwKOWotVRd50dn0xup0tmsrUI4vVFqhphmAidH1MWrvfrhSR+waftn83QXXP6zvYTew0WN1OTYOUgCUYcXTyOylrUVga6mturdj4+c9tF9OwtadUFX1zAURsEXcok32WwLYRvQBTRidmozjzfmy7TGmQX1pRSUKJY42Wo2wcfldDF5nq6DelEDNcltd+RE6lZbi8loejO5vfV9tS5bwyd7HU3YXcny08402zHrlKVxoaOfSjZIHQqeEo/NX+lE+PCtWzDgEzi5AZq1D80T3gaJOc6au8ncLnx1iNLKS6djPy7kXmTZjWpzN6LBphWkDMyCobU8lmRcFlLqn2Tahyd55Zqec9mnYNLKnxb3vq4/Fg1wGvnWu7xsWxRMpinOjqVZ8LS0fNiRlYUA/1kaGqVKXZR6pDT1lDx3XrpyeRxf7FyW8IyZ1wXNdBE87lkYk1ZPXLU7HDFY6b3PJhe0xNZIQxWuM3UsUOj1PtWucI6P0Me7BJ51iQxVk2nE3cJ8OMj5OgonpI/hIkPuMGzH6T2MfKkTmWJ5ofFrITV/LY3x32j+y3HoonY/msKztzzIN7cm9Jxb+iJyefFlu2zSVPtGB9I6SILA87Pc31gzxQb13Rr16iic67+E613J4PgWRzKss4noG4+2MOX/WKjEkjL/UOz8ZjKOjPasMKHNdrbmk+0frW5huft5d17vXFqfFs55WjTp+HbgovDs8M9g4tSlSGG6LznFQ9iUN9mrzEpAz7ZzKNgq6PPdnVeatneb/n5qg0dVrTdTSR8v5QzqTlUYyXfhTYM8X4GZXGNeSN+ncB6H7w/dFKGeXxrjPy0330X+sV99bGZPv48ms803yP+qTjdfVVf7370/+mO/P9q6h0HbelrUmzrCv22O3sjR1lUMwoahcNEdHelRrgIgSA7DpasM3Y5/g4zzGKUPmWHbp0MGbQcOon9sjqT1l/YoxwyRab0KA3PWgW/9oND6Qdj6gW/9oNj6QdD6vPAzLNkJkqvu6ETaMOyOuqk4H9bd4bEe5SYBgqorhVcCOnyY8bI7eieFlvlsgEyAgMNVgOYAAaIAgSIBAiYBAtYHSMmLacPKHK3tkcRHEcZnS/tCOF4F0aAVTiNXOQ/frMAYFkQDWXg4mrMKQ1oQZbbwKL1F9DkuEiW68DjbReaUF4FGvXAa+pnD+M/oMkDkBMojO8jqwF+OjUH4rvAFFiFSIXwFsxC5FD5nGyJY78gYDCQjdJHMwEoEkZ8I96aSpchZsgb2Iog8RnhkNCJ6txGJLEd47Dsis/mIwA4kgrWhjF98q1cerQNE1iTc+1NvE+hPgsifhJM/KWd/ygr4kyDyJ+GhP2UV/EkQDTDh0QAT0Q8wkWiACY8HmMg8wEQgfxJO/pQ5+FNGlwEif1Ie+VNWB/5y7E/Cd4Uv8CeRCuEr+JPIpfA5fxLB+lPG4E8ZoT9lBv4kiPxJuPenLEX+lDXwJ0HkT8IjfxLR+5NI5E/CY38Smf1JBPYnEaw/ZfziW73yaB0g8ifh3p8wNGhSlpNTWZHsikT2LCODcVlO7mXF0MJMEfAxy2k0WjEakraEH5dWp8FpxXiE2jI8TK1KVmdF8jsjgukZflniZH8kRh5oigwK9WA3tOI34x/4otV3xb/gkLbMzvg7r7SqNUyjgWsajtZpBPBPy8lEreid1OiRnZoC4KmWk7FaMXJXW8JbrNXJZ60Ym60tw45rVbZdq1rvNdpLIU6rAl+XOPmxFb0pK0FLRkqGjBLZsZHYjEEEK0ZKRoxSaMNQAEwYKVkASpEBoO6HP6o0+FGKhz6W4IGPGtkuSmS6IIHlAr2MKdmtkSKzhQKD8OpstCh9I8qByaJajnLBYLHEjig7c0XNWisoYKxA0VYBg6kiJUtFyRsqqJGdggxmipSsFKXISFH3NooqmShKsYViCTZQ1Ng+UbPmCcpLGJNVSNcxJdNEyVtm33r0S0FklsLJKZWzTWYFPFIQGaTw0B2zCtYoiEas8Gi4iujHqkg0UIXHo1RkHqIikAsKJwvMHPwvo8sAkfMpj2wvqwN/OTY84bvCF1idSIXwFUxO5FL4nL2JYL0tYzC2jNDVMgNLE0R+JtybWZYiJ8sa2Jgg8jDhkYGJ6N1LJLIu4bFvicymJQI7lgjWrjJ+8a1eebQOEFmUcO9Pua5oUMrIoVQgiwKBPUokMCll5FIqhDYlMviUMhppKkRDTVU/1lSjwaZCPNpU5+GmCtmVCuRXIoBhCbuMGFkWCJFniTwIrsmupcLOWAa+pVoplgXnUr0YS+ddqljzEg7uJQztSyD4lzIyMBW8g4kWWZiI4GHKyMRUiFxMVW9jqpGPqRAbmersZKqwlalivUz4S9D+VcDWESM/U8EbWq4YGpoyMjQVyNBAYEMTCQxNGRmaCqGhiQyGpowGoQrRIFTVD0LVaBCqEA9C1XkQqkKGpgIZmghgaMIuI0aGBkJkaCIPgmuyoamwM5aBoalWimXB0FQvxtIZmirW0ISDoQlDQxMIhqaMDE0Fb2iiRYYmIhiaMjI0FSJDU9UbmmpkaCrEhqY6G5oqbGiqWEMT/hK0fxWwjaG9YyYxYQFbvdVm/W+UqANlQmaWMVmZYDayXgAby4RMLOPQwnoRDCwTGnIZRwMua364ZYUGW8bxUMsqD7TMybIyJsPqMdhVTy49IasSHBlVLw7cldikMt4RscCgshJHrGBOWS1EzBlT5taWegqm1BO0pB6BIWVCdpSxN6Neiayol8CIMiEbyjgyoax5C8oKGVDGsf1klc0nc7aezK3x9PTFtXXlyNoTWkFl7NdP/SBAvxFEhiOcHEc5W05WwHMEkekID10nq2A7gmgUCY+GkYh+HIlEA0l4PJJE5qEkArmPcLKfzMF/MroMEDmQ8siCsjrwl2MTEr4rfIENiVQIX8GIRC6Fz1mRCNaLMgYzygjdKDOwI0HkR8K9IWUpcqSsgSUJIk8SHpmSiN6VRCJbEh77kshsTCKwM4lgrSnjF9/qlUfrAJE9CXf+9ENHT7ujgyM5yp8FlL0EkAkpcLgC0BxIQBIkYBIfYH1ogOSBrWiQMlCOcgsAmeoCh+oCzdUFRF0OijQEmDQEWN+QLTkzcT/zcT/zcT8rxP0sjPuZj/tZEPezIO5nLu5nPu5nvRkcSXs2PnAoR7XRamuDZzTue9qbLkZGEIVHOMVIeBQoEX20RKKQCee4icDBE8FGUDCFMfMrHwYIaEa1L8WhFR7EN21itPHNiOObOcc38zC+WQzimyWOb+Yuvllw8c0CxTdjjm/Pr3wYML49qn0pF9/MXXx/7kPbT4Y/Y1iR5ZAiI4NSwTiUYrUoZeBECsGKFIoXKcphAzaSuT4d5aYAyi0BZBoCHNoBNDcDkLQCmDQCWN8GILkJira/cdk16uAkI2pjE3RQkxd/hhU6qIk7CHbdWh50XBN1XBN13EQyNh3lugMy1QQOtQSaKwNI6gJMqqKsldVaOrJru4RMTYC75V6iuSaAaMoFReoILN8GAMr5oKj/EVOTEDMzfmd2tCck9wKA7G1AEs6Ns557Uz33fnpesNLz0EXPvYGeB955HtjmuXPMc2+W5/2gP5T2jGyKneOgBxRk3TkNeqA2687NoAdGWXcOgx5IboEiGfRCrN74NsmIRxS3qQnbZIY7YN/UJmhqEzS1tUe+zm2hgm1YwdbXhAcYKEEdZYAB8rHXASZoaQosfUOWhYYsw4YsfUP4fgyUoCHLINhLk1cfq+2TkHd6ZO8sEwpuKhN395OJ2lvJhMK7yKTQDWRiOfyAcvgV6VD+iIkOKCc6Im8/HynRkUKiA7au9NEkOjBypY99osORr3NbqGAbVrD1NeFEByWooyQ6IGuTH/usPpC4S1YDsrVWjrVWKrVWxLVWRWutTCOrLPu9kLU98rVe+9qZqQ7HBQk0REiNRgsV8QOHCtAYIjUeTlSIRxbJNMhIpfFmVUgPEiijSaUByWqQ+lTEjwIu4EcslaAhQyqPEZJ5SFu5LQo7wxKOeSryrYazE5AamwIV2t12tgpSyTWsuiyNMPYSUiNboSLfGsNsNqTGvkOF2IJIZjci2RqTFddFYWdgvHP9Vm0f7b/9IEdyYwfIrORV2DwveHecj4bmqLZH4nyK0MuEmsfZ268OfusbrIXW/mxrfzbcc9/X2e25dzxqKW5Ip3MPPaoDRPWN9qOTFMUBt2FTcY5ItA27l2xKQHBIoBCxGgXKlrkqXXNYEuqiQM0j9VuNjILpB1T4UQ5seUD1BXq7w8AKopAqj4KZ1St/7qFHdYCo6sLLlY4ClbW1L87BEe6u8Kna3vdvlwXpyK6FEsp3zYCCNVHibiGUqF39JESrmcToO6bEzNdLidilzKc8pE4DRG0RTg0SHrVKRN80kah9wrmRInBLRbDNFUxtxi8bGFGb3ZcNzKM2R182sERt9l82sMBt5i8bGHObzQg/LQrcfqtyFKwaxsIWCSJiC3BcrOqiY2UXIytTpKxI8cpfnJ4GiGIknKIjPIqLiD4iIlEshHMUROD2i2BbLti2+aJv7qEe2Uc2F9hIQMFTnAtqGlD7FOfCNAgYPau5gGYAsc+hLvoZCo7s470LPy+poN8TXfSzkR59NSVro9HXRBdV9A3RBRrtISEKszNa5lHAI6NliULvjZYF7gQ2WsbUHbhWZUQdU1irknrl4zn06Kv/YO1LcbdFy9deMtu5oQMtp160InWlFaP+tCV8p1qdetaK3L1W5T62qu1oq1Fvux+eCDn1+64fnoiKXBV6ZVjgXwvnqQvlOSuKv7/Q67BpFRIDKaUFSpQUKEUpgbpPCFQpHVDiZECNUwE1mwioUBrQZviAUgqUN8P7Aldh5Ich/RqeoQ7LcrcX9oj3at4GCD0uiLpbOPW18KijRfS9LBJ1sXDuXxG4c0WwPSuYuhX3+DKiDi3s8SX1ysdz6NFX/8Hal+Lui7bE9pJ9xoVdyAr1JMvUoSxH/cplfPdyCepllrmzWec+Z912PauUASRflhXKBydHaUGFroo9NiwqX4tnq4uf4cxh2SeQ7JmD1FFGSaMCpYsKUaKo6lNENUoOFTgtVOGEUMWmgnJKArNz1jHq+NLOWZavgugOA/Y1+GwdlONODTeY9lp+ugO9KYg6Uzj1pfCoK0X0PSkSdaRw7kcRuBtFsL0omDoRn+Yxoi4sPM0j9crHc+jRV//B2pfizose8PUS3qQfEqK+czfpzKO+i27SWaK+8zfpLHDf8U06Y+o73LrAiPqusHWB1Csfz6FHX/0Ha1+K+y56038r/d5324cjOcqfBZQ7C5DpJ+BwBaC5dwBJxwCTPgHWdweQ3BOK9JWpdGRzLiGbbgkFmZa4S7JEbX4lRKmVGGVVYiahErG5tEH0nuQGNaaTGtulCdnX4rbIb2pJPOx488U0YLvDJSHavZIYbVzZsM2XzUfSLfINMyBbQeVYQaVSE0W8zUYVraMy2ZukSLYlCeKXEv9R4Y6GdGR3NCQU7GhI3O1oSNTuaEgo3NGQFNrRkBjtaEjM7Gj4XG1fDjnUIzsQEgqyPnGX9YnarE8ofNUrKTQeErPvrCVkk/9z76Hv9CinNSLjnCoMzHkGvr2DQnsHYXsHvr3cS6AE7R3Q+P8MvaRkY/Xb7+E+9y6vR7U9krxThPm1pfmRGfS+IAqJ8CguIvrgiEQREh6HSWSOlQiUIMIpS/AR5jtClC+FR5ikDvy5OX2E74pVkEgiFWJVSCmRS7FyySWCzTB8SksZMvSoDhBlXfRItpfy91yQeoIonMKjcIrowykShVN4HE6ROZwiUOoJp9TLHFJPEKWe8ij1sjrw5+bUE74rVkHqiVSIVSH1RC7FyqWeCDb1cC8VZcjQozpAlHrRXqosudcicyXi1yJjNQxw8bXIuAAHe+drkXEhF/j4tchY5YR17+C8CwVO3l3v4IRlBqVrunS26rdjHqW2LbAz5qU0t4V2x9ynvJUp8d3LSWGWDktCXRR4QBRfTtoW6Lo73dBtV7fpyK7CE8q3Q4CChXnibmGeqF2YJ0TL78T0FkFZ3tauxK7IL/vRrO25sDG4dOMWeBgQGaGAePWtiq6+leUBCEj26wlK2/UO5CjXGpBs11Nkt+spx+16SmW7niLdrqdMt+spy9v1lMh2PUHjdrrd1nWoZHtjqmXsJxrfSrkvRRS30tyXAoX7UigsSadIk05Z0Pj79fN9Y6u02cm3fX0sHdmXzRLS1ziEbe5vTyRL5f4WULD7MnG3+zJRu/syIcpLUGhfZmI5LwHZTZgbJPe32vqZadbMt1723CGyU4II8+Zx4jNnacos/SXoVyGUuxf8EpXXcBTxjgNV9N0cZUF/yu8+CFmZo7U98m3wLyPmaRVd2L3Wxpz8OH6tjUXvzO61Nubs0f61NhasW7vX2oiDb7vbAOaRg0e3ASyRl5duA1hmV3e3AczJ3zMHMxREHiic7F545IYieuMXidxfOE8BIrAVimAnA8E0I2ROg1uxmRsyDk7As4RwmiqU74hQMGmo5GcO0Wj6EM5ziAil6PFskjlMKYLIMoSzGWUBZhhBNM0Ij+YaEf2EIxLNOsLjqUdknn9EoElIOM1EmfN0lPnMR4MnJuE0OymPpqisBvNUlpa+NM9YwqNpS8TyfMATmPB4FhOZpzIRSilEk1rGK4/WASq0Opro3LvMeTaI32WOVZ76drzLHBcJpsH4XeZYdVNi4V3mWKbpMX6XOVRxqowfWMRqOG0WH1jEBXgK3fnAIi7kptP4gUWs8tRqVJxRrMCTiFV5srVqOKHYIsHEawvw9GtVNwlb2U0mVqYJ2Yo8LRuVHY1EO0XbnaNFYWek3aRN6jcjHU3gVCCYxm0Jnsyt6qZ0K+/uCze9GxUneSuwc1rVubXdqgrTpBV48rdquASwRYKFgC3AywGrFhYFtpBbGliZFwhW5WWCUd1iwaizUjzdwsGqvHwgNVxEmDLRUsIUWJY+6ZYVVg0XF7bIt2Zit9CwamG5YQu5RYeVdyczL0CMuCoJ66KwM2J+YTLoVyOHR3Ikz6MVyRshiuxzaeX4MFqpPIFWpE+UleljZGX52bESeYS/RWaXCiFqi9+lQjxqVbhLhSRqX7BLhQRuqdulQpja7Hd3RJxaX9jdEYlRHMq7OyKdIlLa3RGpHJt4d0ekUZR4o4OnFKFwo4OXouiUNjp4lSITb3TwGkcl2ujgFYqI2QVAiGLhdwEQj6IQ7gIgidof7AIggVvudgEQpjZHb8/HCkWg+PZ8LEfx2PX2fFyColN+ez7WOValt+djlSJnXxtnRtEKXhtnIYpQ/No4axSV6LVxVjgS/rVx5tR6+bsMpxGj1qtArVchar2qvvWqUetV4Narwq1XxbZeObW+/5H4U0+o5RlTuzOOWp013+asUIsz5vZmzq3N3LY1U9vSq76VH/TIvtV7ha0DFLzVe0WtAmrf6r0yrQFGb/VeQSuA2Ld6N2jzo/rbVxvTkf5oqyC7UFdBfyMrHdmN4gkFe8ETd9vAE7U7wBMKf+wqKbQtPDH7s1YJ2U3fG5Te/337Vg7lORAwCQIw+0QIBHwOBFie/gDTxzkA9ZVTgPmdU0DyOEeZvTfaEvOG8wbRZ5qgwfpLsMgKDcbnCsdA8YdgobT84qki/V1TZVEU5BHBsfTe5rnAkeTuxD70TIgeJW5Ya0/bBhFoS61t4+5tg+7lm3iUop6XG3ZkQS/zi9Mb5u+MN3Rpmr300VkGT3oTd493E7XPdBMKXwxPCj3iTSzojKV5mDvsPXTbhiF6KKA8HgHZn91VjsmpVJJQkSahMqkusL66QOT3dgWlp8zSHn20rMiml3LMLqWSXIo4t1TR1FImmaVIEkvQSOaBIRohIDt3DZ0NAndz1xBNEBDNXUNjgcDM3DVEA1SUR8ARkK3/ad+kZ15v5Ege9CmSB62AzAM/5W6Dx5CtDwrbDR5D43zA9DGpMDE+LaYPRIeVewo6rPyjz2FvfB/kFOJ7gGx3KsfuVCrdqYjyEhTtaGU5LwFJrwoSv9NORLvTzl7aI2t3w4LdDUO7G3q7GxbtbhjY3TCwu2Fod2t75Gu9drWrjUvW3iVr75J1wSXr0CVr75J14JJ14JK1c8nau2Tdu+SBtEdcElDwa5g1uSRQ+7uXdeCSoNAvXNbokoDsb1nWFX5RVlfu27G6cl+J1c4lgbsvv+rKfeNVV/5rrrry323VFX+hVVfuW6waXBIJfl9VV2aRWFd+kVhXfpFYO6M8Vu7WiDUbJZ7FrhHryq8R6ypYI9aV+xqprnCNWFdujVhXfo1YV2aNWFd+jVg7s0TBrxHryq8R68AvUeI1Yl35NWJd+TVi7T2zJs/U4CztkU/nZSF3l2HuLn3usmeCEmT1Msjqpc1qfEzfN889pmdOXhg/pmfRu6J7TM+c/dE/pmfBOqV7TE8cPNNtNmMeuWe02Ywl8tHSZjOW2VHdZjPm5K2Zj3xPs8sKJ6sVHuWsiD5xRaLsFc6JKgJnqwhxyrIbZ07jUrHx5YxxrAtjgxKBbVqFwKtF9IatUuDaIpJ1C2f/FsGZeFbYyTMHOxdEni6cjT0LbXA9Z/EihD4vamD2orHji1CwfdGd94vCE4AIPAtkgaeCzIP5IEvLABWGYDg9iFgeajxRCI9nC5FLI9HNGyLYkUjf5PUxib7JCySaRYrf5AW6n0uib/ICiWeU8Ju8QLPzSvRNnpdgdkFKEwxK0RyDup9mUKWZBqV4ssESPN+gRlMOSjTrgDQKs4TnHpRo+kEpGhao+5GBKg0OlHgAoMZjALXiMOA5CSSyB6OYmQkUtCDE7K6o8RRltGCWQt1PVEYN5irUabpCiWcs1NykBSLPWyDB1IWUZi+UeAIDrY0v76Yx1MKZDAsEkxnKPJ+hVpjSsIib1VDkiQ01nttA4+kNpGCGA3UZ0/JwD6c61HeOaZ7wUIrnPCyxY9S7mQ81M+qvO3Jd5a/srjF4h4L0D3RcYzgABX+K45qaD9T+0Y3roLmg0J/XuDbNA2b+kMZ4M+ikWZujB3sUfWE5lmWmRw8BCs8hW1M8eghQfI78183NWQQ+hDA809aStz/4f3M9zb/5v33B06hWakxaZKNGlFuACF+XAg7Jh1RtGHF+0QaQvEQBTF4tUHZb8R+825DuMtNmPk/PxgU2pgj84UtB9m9WCqbf/tmw2yq/Pn+bHVi01p+Z/Fa5/V2i28g+VRFjVKR/tTQj+gt0t9TV2+njoQ/HNjgPGA5A9hcKHtwkDNx9cf/A8QRsv89/MHMsMPod9wcT6Acf6IdCoB94PlNqw/9QDP+DnbSU2S558F1iRygGvfDOf6xSV+x65z8u4jtoxzv/cQnqttI7/7HMnenfvw/jxV286/37uIjv+ML797Eap0Pp/ftYpiQpvH+/VTeO9yLz8FP2YEDZgxGZM4KQf3lQUdsfbb/t3Rxt3gg/kCMN5OZobY9sZyTkwttilfurZASXyujVf3AdILqycH95Mx9BHQyHihj+WjjPusSpXlb0lYNJEaoGFCoG9DU8wzqmVCWUfIXyxAu1yQiqktGr/+A6QFQD4f7y9LYo1IIUqAwpr8WzrcsK1ZBlX1FZjUAVhUHlhL0Gn11HjKqigq9E/g1YqENGUIWMXv0H1wGi60d/5qmX0Ez6y2cEl8/o1X9wHSC6vHB3+byuKSxrrWy1hKbN7SLL2//3N4r4gepG2mbxePtH7yPNXDA45Sz+mGyRijR5DhJpdsnvS8zjeszt80yr5QuGWr7diFVTnajE82hcuKxugLI42gFmSmgKdtGV9f97IbII7hF/j0KYi/MvLBB2xcM9n6FIH+1js/37SseG2Bd5BMtfV7I42LcmGi79rGJ3qgmm3WfC6UUi4Wa/mVB5w9bgzW9zbd/azGToSO2J5K7F+MwvKS/QAdsLv/Sr7m26vOBSG5AdcC9uUQ3cvZn3wstnwPaFvRezUAamd5jCWnvk69wWKtiGFWx9TdzaVpWgjq19dfDFLF0FSX5vg9/NC5Xemacja/gJ2VfLEwoW9om7aSFRu4RPiJbkidF9fGLmN3wTsevxlUuoVYWPElaVe5SwMgkFKG5TE7YpeBaxMgmlKGgqP7JYmYRa+YRaFRJqFSbUyifUqphQqyChVj6hVj6hVj6hXk3wX33wX33wXwvBfw2D/xoH/9UH/zUI/msQ/LVLobVv2JqnKMJcPPgKxiv4oT/++/9jjgIE",kQ="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",_Q="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",CQ="eJx9WFlv2zgQ/iuGnnYBt5DkS85bmk13g27SoEkPbNEHWqIlIhSpklSuov99R7JIkSLtFyGZjxzN8c0h/4oueF1jpqKz6Mt1K1GJZ4s4S+PZYrvdbqJ59J4zdYNqDAfuXuodp52spdSToZrQl6n0KyZl1Sm/xgVpa5BcKURJfs5KCgdj+F++J8+4uCUqr6IzJVo8jy4qJFCusLjD3d27BucE0cGYd+/4c3T2/U2SxfM36XYxT+JtDI8k/jGPPrMCC0oYvuWSKMJZdPYmiWMLuK9I/sCwlNHZCuRfsJD9sSiOk7dxnMFbbrgieefGBW9eROfA7I/8z1myzVbz7rnpn9vuCW/unpvZecF3eHb3IhWu5eyK5Vw0XCCFi7ezc0pnvRo5E1hi8QhCeM0lHCoIK+/yCvdR67zrfd2THPA7VfzzNTrbpv2fX+BPeH8fm2usBMnBg++/oq/forO08+QGNMgGgeG/5wfxYrE4iPFzTlFt5JtkkLeMPIL/EFoNreJBE2vrXReako3YcqvVEXCTKWJdzPS7Gizyjk/mZZvsAKC66d7FCgMtF4NC2eaVqpDyLW+QwIzi/TGoD6tvPQL7BJEPNVKVb39DW2mkJnY5FALyD9eEhU6DL4SPrqTaS0mRrHyDXrHgvpQz7AvVU+CkqgQOnN3zVgSkkFVfKslzQIgfMfPFOBxWRiyDjcs5p5wFIoFr4kImprQrP59WP1ubiVpcCgxlNLq5XC4PwM8Wy77EvSs5ZyU0EpuFaXqAzmlTjVlerzcH8TuskH/4oiLj0WQQ/oWpdXadJAfxZSOJ7exmPfD01lYSD8K/kU0288JLS7Mh+hW337dINCPA5MRX8QE1jXU8Wx/E/6J6V4zyLBtCdd36Km4Cso+QTOG4N6T5dvRusxxsu6/scK5Wgw2fKovZ20HxHSnrQDjv0WjEejvw7/MkxmMD6ZQkvnEfa1xayperg/ibZfN2kN1K4lvxHw4lZAfD6QErpy1lOt2QF4H3XATa8HDP7VnrVWY6SoNZQfKWokBRt90Ak7mt2GACwTVE8bNPE+Tw3VTIzkmQqRuLqsvtUGaFw3cTcjzJxSod3tjYSnQgS4fvpgyc8KaDZuLwXR8FtYlv8YPD9rHBuGxfbQYG1q1vL2v9+3zC9nF0EF+BqoLBFBbbjRfSYbsJprLYboxtpx1Fj23esXoMhqlx7rB9uR2OPxP/aCMDmX61/Vhm8cha7HA91bzbWUR1z0/m8tLUKSyJ1qWNHqeXrTUf16lb76Or6XIzTmWFA4mHyeLOkUS3+H23UpJQPAnbE0bUS2CSUi6IdWM13Mhpu/OlBUE1t/YbA1QYCeWLYVsrRh+SeDm0RCQEf9pxa3Xpds4RcpJhqNVDbXPkzqTpOJcK/mT1VO17gUtn57C3J3cpMlUucW77Px3hRwZ83VJFGvriJ6YRHJboLmnWPUNXWAC7FbQg+/0IrjUL4RMFBxhYkEdSBLxiXB0xD8TkEZorywPXoP0I/jxhXGzWKEoJUFgeiTvs3srq2eO9Hq2Aeq92S9eDIgeYwIeawKoVY+KyVOumuBmpY0r+CgrgQVn7ohl9n6aIoc4TJjB0lEDWvmaGa05ETrGfPRd3lm1jI64b9SKtBJlbhAFTgEhuqWoUvlhCFdwRBW613cNWqnGYyDAdj+OQfdnugpBWHUa14jAKbbN2tlDrfR6mXUT9p7F3peyGvHNBb0UCl933GHgmyN6Hc/0R6+KZxiG7Ba6ReJjg6RiAos0DpTRsHWNz1s284Mr58DI+UF52N8B7vyIGzP4+nGJcWLXiNMtiR0/0S0BPtExAj3ZNwE42zh11e6duTZS/YlZaK6DebfrkOsb4aURMnsqiA+viHpPowDrwsoX1y6moRTZ20cMXtmpOgFYf8sGd8kFrRw4ptuCQagu2lJvwmpXEUu2DNSlOoEf12vY4aXOZkG6WY8OC4hzrwHRcjVhWepjd4KdYKK7jrx5H89WjRxPWoycydlS3jZ/I2VS/G9yp9gB6PG1T1aY4YAp3LfPHPPqABbtFRHS/jf34/T82FAfb",jQ="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var EQ={Courier:mQ,"Courier-Bold":fQ,"Courier-Oblique":gQ,"Courier-BoldOblique":pQ,Helvetica:xQ,"Helvetica-Bold":vQ,"Helvetica-Oblique":bQ,"Helvetica-BoldOblique":yQ,"Times-Roman":_Q,"Times-Bold":wQ,"Times-Italic":kQ,"Times-BoldItalic":SQ,Symbol:CQ,ZapfDingbats:jQ},$u;(function(t){t.Courier="Courier",t.CourierBold="Courier-Bold",t.CourierOblique="Courier-Oblique",t.CourierBoldOblique="Courier-BoldOblique",t.Helvetica="Helvetica",t.HelveticaBold="Helvetica-Bold",t.HelveticaOblique="Helvetica-Oblique",t.HelveticaBoldOblique="Helvetica-BoldOblique",t.TimesRoman="Times-Roman",t.TimesRomanBold="Times-Bold",t.TimesRomanItalic="Times-Italic",t.TimesRomanBoldItalic="Times-BoldItalic",t.Symbol="Symbol",t.ZapfDingbats="ZapfDingbats"})($u||($u={}));var WS={},TQ=function(){function t(){var e=this;this.getWidthOfGlyph=function(r){return e.CharWidths[r]},this.getXAxisKerningForPair=function(r,n){return(e.KernPairXAmounts[r]||{})[n]}}return t.load=function(e){var r=WS[e];if(r)return r;var n=gT(EQ[e]),i=Object.assign(new t,JSON.parse(n));return i.CharWidths=i.CharMetrics.reduce(function(o,a){return o[a.N]=a.WX,o},{}),i.KernPairXAmounts=i.KernPairs.reduce(function(o,a){var s=a[0],l=a[1],c=a[2];return o[s]||(o[s]={}),o[s][l]=c,o},{}),WS[e]=i,i},t}();const RQ="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";var PQ=gT(RQ),Dg=JSON.parse(PQ),Ig=function(){function t(e,r){var n=this;this.canEncodeUnicodeCodePoint=function(i){return i in n.unicodeMappings},this.encodeUnicodeCodePoint=function(i){var o=n.unicodeMappings[i];if(!o){var a=String.fromCharCode(i),s="0x"+hQ(i.toString(16),4,"0"),l=n.name+' cannot encode "'+a+'" ('+s+")";throw new Error(l)}return{code:o[0],name:o[1]}},this.name=e,this.supportedCodePoints=Object.keys(r).map(Number).sort(function(i,o){return i-o}),this.unicodeMappings=r}return t}(),Dh={Symbol:new Ig("Symbol",Dg.symbol),ZapfDingbats:new Ig("ZapfDingbats",Dg.zapfdingbats),WinAnsi:new Ig("WinAnsi",Dg.win1252)},n0=function(t){return Object.keys(t).map(function(e){return t[e]})},OQ=n0($u),VS=function(t){return OQ.includes(t)},Ih=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},gr=function(t){return"`"+t+"`"},AQ=function(t){return"'"+t+"'"},GS=function(t){var e=typeof t;return e==="string"?AQ(t):e==="undefined"?gr(t):t},NQ=function(t,e,r){for(var n=new Array(r.length),i=0,o=r.length;i<o;i++){var a=r[i];n[i]=GS(a)}var s=n.join(" or ");return gr(e)+" must be one of "+s+", but was actually "+GS(t)},Io=function(t,e,r){Array.isArray(r)||(r=n0(r));for(var n=0,i=r.length;n<i;n++)if(t===r[n])return;throw new TypeError(NQ(t,e,r))},Rn=function(t,e,r){Array.isArray(r)||(r=n0(r)),Io(t,e,r.concat(void 0))},FQ=function(t,e,r){Array.isArray(r)||(r=n0(r));for(var n=0,i=t.length;n<i;n++)Io(t[n],e,r)},DQ=function(t){return t===null?"null":t===void 0?"undefined":typeof t=="string"?"string":isNaN(t)?"NaN":typeof t=="number"?"number":typeof t=="boolean"?"boolean":typeof t=="symbol"?"symbol":typeof t=="bigint"?"bigint":t.constructor&&t.constructor.name?t.constructor.name:t.name?t.name:t.constructor?String(t.constructor):String(t)},IQ=function(t,e){return e==="null"?t===null:e==="undefined"?t===void 0:e==="string"?typeof t=="string":e==="number"?typeof t=="number"&&!isNaN(t):e==="boolean"?typeof t=="boolean":e==="symbol"?typeof t=="symbol":e==="bigint"?typeof t=="bigint":e===Date?t instanceof Date:e===Array?t instanceof Array:e===Uint8Array?t instanceof Uint8Array:e===ArrayBuffer?t instanceof ArrayBuffer:e===Function?t instanceof Function:t instanceof e[0]},MQ=function(t,e,r){for(var n=new Array(r.length),i=0,o=r.length;i<o;i++){var a=r[i];a==="null"&&(n[i]=gr("null")),a==="undefined"&&(n[i]=gr("undefined")),a==="string"?n[i]=gr("string"):a==="number"?n[i]=gr("number"):a==="boolean"?n[i]=gr("boolean"):a==="symbol"?n[i]=gr("symbol"):a==="bigint"?n[i]=gr("bigint"):a===Array?n[i]=gr("Array"):a===Uint8Array?n[i]=gr("Uint8Array"):a===ArrayBuffer?n[i]=gr("ArrayBuffer"):n[i]=gr(a[1])}var s=n.join(" or ");return gr(e)+" must be of type "+s+", but was actually of type "+gr(DQ(t))},Q=function(t,e,r){for(var n=0,i=r.length;n<i;n++)if(IQ(t,r[n]))return;throw new TypeError(MQ(t,e,r))},ge=function(t,e,r){Q(t,e,r.concat("undefined"))},mT=function(t,e,r){for(var n=0,i=t.length;n<i;n++)Q(t[n],e,r)},mn=function(t,e,r,n){if(Q(t,e,["number"]),Q(r,"min",["number"]),Q(n,"max",["number"]),n=Math.max(r,n),t<r||t>n)throw new Error(gr(e)+" must be at least "+r+" and at most "+n+", but was actually "+t)},$n=function(t,e,r,n){Q(t,e,["number","undefined"]),typeof t=="number"&&mn(t,e,r,n)},vT=function(t,e,r){if(Q(t,e,["number"]),t%r!==0)throw new Error(gr(e)+" must be a multiple of "+r+", but was actually "+t)},LQ=function(t,e){if(!Number.isInteger(t))throw new Error(gr(e)+" must be an integer, but was actually "+t)},i0=function(t,e){if(![1,0].includes(Math.sign(t)))throw new Error(gr(e)+" must be a positive number or 0, but was actually "+t)},Xe=new Uint16Array(256);for(var Mh=0;Mh<256;Mh++)Xe[Mh]=Mh;Xe[22]=Ge("");Xe[24]=Ge("");Xe[25]=Ge("");Xe[26]=Ge("");Xe[27]=Ge("");Xe[28]=Ge("");Xe[29]=Ge("");Xe[30]=Ge("");Xe[31]=Ge("");Xe[127]=Ge("");Xe[128]=Ge("");Xe[129]=Ge("");Xe[130]=Ge("");Xe[131]=Ge("");Xe[132]=Ge("");Xe[133]=Ge("");Xe[134]=Ge("");Xe[135]=Ge("");Xe[136]=Ge("");Xe[137]=Ge("");Xe[138]=Ge("");Xe[139]=Ge("");Xe[140]=Ge("");Xe[141]=Ge("");Xe[142]=Ge("");Xe[143]=Ge("");Xe[144]=Ge("");Xe[145]=Ge("");Xe[146]=Ge("");Xe[147]=Ge("");Xe[148]=Ge("");Xe[149]=Ge("");Xe[150]=Ge("");Xe[151]=Ge("");Xe[152]=Ge("");Xe[153]=Ge("");Xe[154]=Ge("");Xe[155]=Ge("");Xe[156]=Ge("");Xe[157]=Ge("");Xe[158]=Ge("");Xe[159]=Ge("");Xe[160]=Ge("");Xe[173]=Ge("");var yT=function(t){for(var e=new Array(t.length),r=0,n=t.length;r<n;r++)e[r]=Xe[t[r]];return String.fromCodePoint.apply(String,e)},Qi=function(){function t(e){this.populate=e,this.value=void 0}return t.prototype.getValue=function(){return this.value},t.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},t.prototype.invalidate=function(){this.value=void 0},t.populatedBy=function(e){return new t(e)},t}(),In=function(t){ye(e,t);function e(r,n){var i=this,o="Method "+r+"."+n+"() not implemented";return i=t.call(this,o)||this,i}return e}(Error),Nb=function(t){ye(e,t);function e(r){var n=this,i="Cannot construct "+r+" - it has a private constructor";return n=t.call(this,i)||this,n}return e}(Error),ap=function(t){ye(e,t);function e(r,n){var i=this,o=function(l){var c,d;return(c=l==null?void 0:l.name)!==null&&c!==void 0?c:(d=l==null?void 0:l.constructor)===null||d===void 0?void 0:d.name},a=Array.isArray(r)?r.map(o):[o(r)],s="Expected instance of "+a.join(" or ")+", "+("but got instance of "+(n&&o(n)));return i=t.call(this,s)||this,i}return e}(Error),zQ=function(t){ye(e,t);function e(r){var n=this,i=r+" stream encoding not supported";return n=t.call(this,i)||this,n}return e}(Error),Fb=function(t){ye(e,t);function e(r,n){var i=this,o="Cannot call "+r+"."+n+"() more than once";return i=t.call(this,o)||this,i}return e}(Error);(function(t){ye(e,t);function e(r){var n=this,i="Missing catalog (ref="+r+")";return n=t.call(this,i)||this,n}return e})(Error);var BQ=function(t){ye(e,t);function e(){var r=this,n="Can't embed page with missing Contents";return r=t.call(this,n)||this,r}return e}(Error),UQ=function(t){ye(e,t);function e(r){var n,i,o,a=this,s=(o=(i=(n=r==null?void 0:r.contructor)===null||n===void 0?void 0:n.name)!==null&&i!==void 0?i:r==null?void 0:r.name)!==null&&o!==void 0?o:r,l="Unrecognized stream type: "+s;return a=t.call(this,l)||this,a}return e}(Error),HQ=function(t){ye(e,t);function e(){var r=this,n="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return r=t.call(this,n)||this,r}return e}(Error),WQ=function(t){ye(e,t);function e(r){var n=this,i="Attempted to convert PDFArray with "+r+" elements to rectangle, but must have exactly 4 elements.";return n=t.call(this,i)||this,n}return e}(Error),bT=function(t){ye(e,t);function e(r){var n=this,i='Attempted to convert "'+r+'" to a date, but it does not match the PDF date string format.';return n=t.call(this,i)||this,n}return e}(Error),qS=function(t){ye(e,t);function e(r,n){var i=this,o="Invalid targetIndex specified: targetIndex="+r+" must be less than Count="+n;return i=t.call(this,o)||this,i}return e}(Error),KS=function(t){ye(e,t);function e(r,n){var i=this,o="Failed to "+n+" at targetIndex="+r+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return i=t.call(this,o)||this,i}return e}(Error),sp=function(t){ye(e,t);function e(r,n,i){var o=this,a="index should be at least "+n+" and at most "+i+", but was actually "+r;return o=t.call(this,a)||this,o}return e}(Error),Db=function(t){ye(e,t);function e(){var r=this,n="Attempted to set invalid field value";return r=t.call(this,n)||this,r}return e}(Error),VQ=function(t){ye(e,t);function e(){var r=this,n="Attempted to select multiple values for single-select field";return r=t.call(this,n)||this,r}return e}(Error),GQ=function(t){ye(e,t);function e(r){var n=this,i="No /DA (default appearance) entry found for field: "+r;return n=t.call(this,i)||this,n}return e}(Error),qQ=function(t){ye(e,t);function e(r){var n=this,i="No Tf operator found for DA of field: "+r;return n=t.call(this,i)||this,n}return e}(Error),XS=function(t){ye(e,t);function e(r,n){var i=this,o="Failed to parse number "+("(line:"+r.line+" col:"+r.column+" offset="+r.offset+'): "'+n+'"');return i=t.call(this,o)||this,i}return e}(Error),sa=function(t){ye(e,t);function e(r,n){var i=this,o="Failed to parse PDF document "+("(line:"+r.line+" col:"+r.column+" offset="+r.offset+"): "+n);return i=t.call(this,o)||this,i}return e}(Error),KQ=function(t){ye(e,t);function e(r,n,i){var o=this,a="Expected next byte to be "+n+" but it was actually "+i;return o=t.call(this,r,a)||this,o}return e}(sa),XQ=function(t){ye(e,t);function e(r,n){var i=this,o="Failed to parse PDF object starting with the following byte: "+n;return i=t.call(this,r,o)||this,i}return e}(sa),ZQ=function(t){ye(e,t);function e(r){var n=this,i="Failed to parse invalid PDF object";return n=t.call(this,r,i)||this,n}return e}(sa),YQ=function(t){ye(e,t);function e(r){var n=this,i="Failed to parse PDF stream";return n=t.call(this,r,i)||this,n}return e}(sa),JQ=function(t){ye(e,t);function e(r){var n=this,i="Failed to parse PDF literal string due to unbalanced parenthesis";return n=t.call(this,r,i)||this,n}return e}(sa),QQ=function(t){ye(e,t);function e(r){var n=this,i="Parser stalled";return n=t.call(this,r,i)||this,n}return e}(sa),$Q=function(t){ye(e,t);function e(r){var n=this,i="No PDF header found";return n=t.call(this,r,i)||this,n}return e}(sa),e$=function(t){ye(e,t);function e(r,n){var i=this,o="Did not find expected keyword '"+w5(n)+"'";return i=t.call(this,r,o)||this,i}return e}(sa),vv;(function(t){t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Newline=10]="Newline",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationPoint=33]="ExclamationPoint",t[t.Hash=35]="Hash",t[t.Percent=37]="Percent",t[t.LeftParen=40]="LeftParen",t[t.RightParen=41]="RightParen",t[t.Plus=43]="Plus",t[t.Minus=45]="Minus",t[t.Dash=45]="Dash",t[t.Period=46]="Period",t[t.ForwardSlash=47]="ForwardSlash",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.LessThan=60]="LessThan",t[t.GreaterThan=62]="GreaterThan",t[t.A=65]="A",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.O=79]="O",t[t.P=80]="P",t[t.R=82]="R",t[t.LeftSquareBracket=91]="LeftSquareBracket",t[t.BackSlash=92]="BackSlash",t[t.RightSquareBracket=93]="RightSquareBracket",t[t.a=97]="a",t[t.b=98]="b",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.i=105]="i",t[t.j=106]="j",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.x=120]="x",t[t.LeftCurly=123]="LeftCurly",t[t.RightCurly=125]="RightCurly",t[t.Tilde=126]="Tilde"})(vv||(vv={}));const L=vv;var o0=function(){function t(e,r){this.major=String(e),this.minor=String(r)}return t.prototype.toString=function(){var e=Ji(129);return"%PDF-"+this.major+"."+this.minor+`
%`+e+e+e+e},t.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=L.Percent,e[r++]=L.P,e[r++]=L.D,e[r++]=L.F,e[r++]=L.Dash,r+=Rr(this.major,e,r),e[r++]=L.Period,r+=Rr(this.minor,e,r),e[r++]=L.Newline,e[r++]=L.Percent,e[r++]=129,e[r++]=129,e[r++]=129,e[r++]=129,r-n},t.forVersion=function(e,r){return new t(e,r)},t}(),Kr=function(){function t(){}return t.prototype.clone=function(e){throw new In(this.constructor.name,"clone")},t.prototype.toString=function(){throw new In(this.constructor.name,"toString")},t.prototype.sizeInBytes=function(){throw new In(this.constructor.name,"sizeInBytes")},t.prototype.copyBytesInto=function(e,r){throw new In(this.constructor.name,"copyBytesInto")},t}(),We=function(t){ye(e,t);function e(r){var n=t.call(this)||this;return n.numberValue=r,n.stringValue=vY(r),n}return e.prototype.asNumber=function(){return this.numberValue},e.prototype.value=function(){return this.numberValue},e.prototype.clone=function(){return e.of(this.numberValue)},e.prototype.toString=function(){return this.stringValue},e.prototype.sizeInBytes=function(){return this.stringValue.length},e.prototype.copyBytesInto=function(r,n){return n+=Rr(this.stringValue,r,n),this.stringValue.length},e.of=function(r){return new e(r)},e}(Kr),xt=function(t){ye(e,t);function e(r){var n=t.call(this)||this;return n.array=[],n.context=r,n}return e.prototype.size=function(){return this.array.length},e.prototype.push=function(r){this.array.push(r)},e.prototype.insert=function(r,n){this.array.splice(r,0,n)},e.prototype.indexOf=function(r){var n=this.array.indexOf(r);return n===-1?void 0:n},e.prototype.remove=function(r){this.array.splice(r,1)},e.prototype.set=function(r,n){this.array[r]=n},e.prototype.get=function(r){return this.array[r]},e.prototype.lookupMaybe=function(r){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(n=this.context).lookupMaybe.apply(n,vt([this.get(r)],i))},e.prototype.lookup=function(r){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(n=this.context).lookup.apply(n,vt([this.get(r)],i))},e.prototype.asRectangle=function(){if(this.size()!==4)throw new WQ(this.size());var r=this.lookup(0,We).asNumber(),n=this.lookup(1,We).asNumber(),i=this.lookup(2,We).asNumber(),o=this.lookup(3,We).asNumber(),a=r,s=n,l=i-r,c=o-n;return{x:a,y:s,width:l,height:c}},e.prototype.asArray=function(){return this.array.slice()},e.prototype.clone=function(r){for(var n=e.withContext(r||this.context),i=0,o=this.size();i<o;i++)n.push(this.array[i]);return n},e.prototype.toString=function(){for(var r="[ ",n=0,i=this.size();n<i;n++)r+=this.get(n).toString(),r+=" ";return r+="]",r},e.prototype.sizeInBytes=function(){for(var r=3,n=0,i=this.size();n<i;n++)r+=this.get(n).sizeInBytes()+1;return r},e.prototype.copyBytesInto=function(r,n){var i=n;r[n++]=L.LeftSquareBracket,r[n++]=L.Space;for(var o=0,a=this.size();o<a;o++)n+=this.get(o).copyBytesInto(r,n),r[n++]=L.Space;return r[n++]=L.RightSquareBracket,n-i},e.prototype.scalePDFNumbers=function(r,n){for(var i=0,o=this.size();i<o;i++){var a=this.lookup(i);if(a instanceof We){var s=i%2===0?r:n;this.set(i,We.of(a.asNumber()*s))}}},e.withContext=function(r){return new e(r)},e}(Kr),Mg={},ed=function(t){ye(e,t);function e(r,n){var i=this;if(r!==Mg)throw new Nb("PDFBool");return i=t.call(this)||this,i.value=n,i}return e.prototype.asBoolean=function(){return this.value},e.prototype.clone=function(){return this},e.prototype.toString=function(){return String(this.value)},e.prototype.sizeInBytes=function(){return this.value?4:5},e.prototype.copyBytesInto=function(r,n){return this.value?(r[n++]=L.t,r[n++]=L.r,r[n++]=L.u,r[n++]=L.e,4):(r[n++]=L.f,r[n++]=L.a,r[n++]=L.l,r[n++]=L.s,r[n++]=L.e,5)},e.True=new e(Mg,!0),e.False=new e(Mg,!1),e}(Kr),Kn=new Uint8Array(256);Kn[L.LeftParen]=1;Kn[L.RightParen]=1;Kn[L.LessThan]=1;Kn[L.GreaterThan]=1;Kn[L.LeftSquareBracket]=1;Kn[L.RightSquareBracket]=1;Kn[L.LeftCurly]=1;Kn[L.RightCurly]=1;Kn[L.ForwardSlash]=1;Kn[L.Percent]=1;var co=new Uint8Array(256);co[L.Null]=1;co[L.Tab]=1;co[L.Newline]=1;co[L.FormFeed]=1;co[L.CarriageReturn]=1;co[L.Space]=1;var Ib=new Uint8Array(256);for(var Ic=0,t$=256;Ic<t$;Ic++)Ib[Ic]=co[Ic]||Kn[Ic]?1:0;Ib[L.Hash]=1;var r$=function(t){return t.replace(/#([\dABCDEF]{2})/g,function(e,r){return JZ(r)})},n$=function(t){return t>=L.ExclamationPoint&&t<=L.Tilde&&!Ib[t]},ZS={},YS=new Map,M=function(t){ye(e,t);function e(r,n){var i=this;if(r!==ZS)throw new Nb("PDFName");i=t.call(this)||this;for(var o="/",a=0,s=n.length;a<s;a++){var l=n[a],c=Ge(l);o+=n$(c)?l:"#"+Qp(c)}return i.encodedName=o,i}return e.prototype.asBytes=function(){for(var r=[],n="",i=!1,o=function(h){h!==void 0&&r.push(h),i=!1},a=1,s=this.encodedName.length;a<s;a++){var l=this.encodedName[a],c=Ge(l),d=this.encodedName[a+1];i?c>=L.Zero&&c<=L.Nine||c>=L.a&&c<=L.f||c>=L.A&&c<=L.F?(n+=l,(n.length===2||!(d>="0"&&d<="9"||d>="a"&&d<="f"||d>="A"&&d<="F"))&&(o(parseInt(n,16)),n="")):o(c):c===L.Hash?i=!0:o(c)}return new Uint8Array(r)},e.prototype.decodeText=function(){var r=this.asBytes();return String.fromCharCode.apply(String,Array.from(r))},e.prototype.asString=function(){return this.encodedName},e.prototype.value=function(){return this.encodedName},e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.encodedName},e.prototype.sizeInBytes=function(){return this.encodedName.length},e.prototype.copyBytesInto=function(r,n){return n+=Rr(this.encodedName,r,n),this.encodedName.length},e.of=function(r){var n=r$(r),i=YS.get(n);return i||(i=new e(ZS,n),YS.set(n,i)),i},e.Length=e.of("Length"),e.FlateDecode=e.of("FlateDecode"),e.Resources=e.of("Resources"),e.Font=e.of("Font"),e.XObject=e.of("XObject"),e.ExtGState=e.of("ExtGState"),e.Contents=e.of("Contents"),e.Type=e.of("Type"),e.Parent=e.of("Parent"),e.MediaBox=e.of("MediaBox"),e.Page=e.of("Page"),e.Annots=e.of("Annots"),e.TrimBox=e.of("TrimBox"),e.ArtBox=e.of("ArtBox"),e.BleedBox=e.of("BleedBox"),e.CropBox=e.of("CropBox"),e.Rotate=e.of("Rotate"),e.Title=e.of("Title"),e.Author=e.of("Author"),e.Subject=e.of("Subject"),e.Creator=e.of("Creator"),e.Keywords=e.of("Keywords"),e.Producer=e.of("Producer"),e.CreationDate=e.of("CreationDate"),e.ModDate=e.of("ModDate"),e}(Kr),i$=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.asNull=function(){return null},e.prototype.clone=function(){return this},e.prototype.toString=function(){return"null"},e.prototype.sizeInBytes=function(){return 4},e.prototype.copyBytesInto=function(r,n){return r[n++]=L.n,r[n++]=L.u,r[n++]=L.l,r[n++]=L.l,4},e}(Kr);const $r=new i$;var Ye=function(t){ye(e,t);function e(r,n){var i=t.call(this)||this;return i.dict=r,i.context=n,i}return e.prototype.keys=function(){return Array.from(this.dict.keys())},e.prototype.values=function(){return Array.from(this.dict.values())},e.prototype.entries=function(){return Array.from(this.dict.entries())},e.prototype.set=function(r,n){this.dict.set(r,n)},e.prototype.get=function(r,n){n===void 0&&(n=!1);var i=this.dict.get(r);if(!(i===$r&&!n))return i},e.prototype.has=function(r){var n=this.dict.get(r);return n!==void 0&&n!==$r},e.prototype.lookupMaybe=function(r){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=i.includes($r),s=(n=this.context).lookupMaybe.apply(n,vt([this.get(r,a)],i));if(!(s===$r&&!a))return s},e.prototype.lookup=function(r){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=i.includes($r),s=(n=this.context).lookup.apply(n,vt([this.get(r,a)],i));if(!(s===$r&&!a))return s},e.prototype.delete=function(r){return this.dict.delete(r)},e.prototype.asMap=function(){return new Map(this.dict)},e.prototype.uniqueKey=function(r){r===void 0&&(r="");for(var n=this.keys(),i=M.of(this.context.addRandomSuffix(r,10));n.includes(i);)i=M.of(this.context.addRandomSuffix(r,10));return i},e.prototype.clone=function(r){for(var n=e.withContext(r||this.context),i=this.entries(),o=0,a=i.length;o<a;o++){var s=i[o],l=s[0],c=s[1];n.set(l,c)}return n},e.prototype.toString=function(){for(var r=`<<
`,n=this.entries(),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];r+=s.toString()+" "+l.toString()+`
`}return r+=">>",r},e.prototype.sizeInBytes=function(){for(var r=5,n=this.entries(),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];r+=s.sizeInBytes()+l.sizeInBytes()+2}return r},e.prototype.copyBytesInto=function(r,n){var i=n;r[n++]=L.LessThan,r[n++]=L.LessThan,r[n++]=L.Newline;for(var o=this.entries(),a=0,s=o.length;a<s;a++){var l=o[a],c=l[0],d=l[1];n+=c.copyBytesInto(r,n),r[n++]=L.Space,n+=d.copyBytesInto(r,n),r[n++]=L.Newline}return r[n++]=L.GreaterThan,r[n++]=L.GreaterThan,n-i},e.withContext=function(r){return new e(new Map,r)},e.fromMapWithContext=function(r,n){return new e(r,n)},e}(Kr),wn=function(t){ye(e,t);function e(r){var n=t.call(this)||this;return n.dict=r,n}return e.prototype.clone=function(r){throw new In(this.constructor.name,"clone")},e.prototype.getContentsString=function(){throw new In(this.constructor.name,"getContentsString")},e.prototype.getContents=function(){throw new In(this.constructor.name,"getContents")},e.prototype.getContentsSize=function(){throw new In(this.constructor.name,"getContentsSize")},e.prototype.updateDict=function(){var r=this.getContentsSize();this.dict.set(M.Length,We.of(r))},e.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},e.prototype.toString=function(){this.updateDict();var r=this.dict.toString();return r+=`
stream
`,r+=this.getContentsString(),r+=`
endstream`,r},e.prototype.copyBytesInto=function(r,n){this.updateDict();var i=n;n+=this.dict.copyBytesInto(r,n),r[n++]=L.Newline,r[n++]=L.s,r[n++]=L.t,r[n++]=L.r,r[n++]=L.e,r[n++]=L.a,r[n++]=L.m,r[n++]=L.Newline;for(var o=this.getContents(),a=0,s=o.length;a<s;a++)r[n++]=o[a];return r[n++]=L.Newline,r[n++]=L.e,r[n++]=L.n,r[n++]=L.d,r[n++]=L.s,r[n++]=L.t,r[n++]=L.r,r[n++]=L.e,r[n++]=L.a,r[n++]=L.m,n-i},e}(Kr),td=function(t){ye(e,t);function e(r,n){var i=t.call(this,r)||this;return i.contents=n,i}return e.prototype.asUint8Array=function(){return this.contents.slice()},e.prototype.clone=function(r){return e.of(this.dict.clone(r),this.contents.slice())},e.prototype.getContentsString=function(){return w5(this.contents)},e.prototype.getContents=function(){return this.contents},e.prototype.getContentsSize=function(){return this.contents.length},e.of=function(r,n){return new e(r,n)},e}(wn),JS={},QS=new Map,jt=function(t){ye(e,t);function e(r,n,i){var o=this;if(r!==JS)throw new Nb("PDFRef");return o=t.call(this)||this,o.objectNumber=n,o.generationNumber=i,o.tag=n+" "+i+" R",o}return e.prototype.clone=function(){return this},e.prototype.toString=function(){return this.tag},e.prototype.sizeInBytes=function(){return this.tag.length},e.prototype.copyBytesInto=function(r,n){return n+=Rr(this.tag,r,n),this.tag.length},e.of=function(r,n){n===void 0&&(n=0);var i=r+" "+n+" R",o=QS.get(i);return o||(o=new e(JS,r,n),QS.set(i,o)),o},e}(Kr),pt=function(){function t(e,r){this.name=e,this.args=r||[]}return t.prototype.clone=function(e){for(var r=new Array(this.args.length),n=0,i=r.length;n<i;n++){var o=this.args[n];r[n]=o instanceof Kr?o.clone(e):o}return t.of(this.name,r)},t.prototype.toString=function(){for(var e="",r=0,n=this.args.length;r<n;r++)e+=String(this.args[r])+" ";return e+=this.name,e},t.prototype.sizeInBytes=function(){for(var e=0,r=0,n=this.args.length;r<n;r++){var i=this.args[r];e+=(i instanceof Kr?i.sizeInBytes():i.length)+1}return e+=this.name.length,e},t.prototype.copyBytesInto=function(e,r){for(var n=r,i=0,o=this.args.length;i<o;i++){var a=this.args[i];a instanceof Kr?r+=a.copyBytesInto(e,r):r+=Rr(a,e,r),e[r++]=L.Space}return r+=Rr(this.name,e,r),r-n},t.of=function(e,r){return new t(e,r)},t}(),yv;(function(t){t.NonStrokingColor="sc",t.NonStrokingColorN="scn",t.NonStrokingColorRgb="rg",t.NonStrokingColorGray="g",t.NonStrokingColorCmyk="k",t.NonStrokingColorspace="cs",t.StrokingColor="SC",t.StrokingColorN="SCN",t.StrokingColorRgb="RG",t.StrokingColorGray="G",t.StrokingColorCmyk="K",t.StrokingColorspace="CS",t.BeginMarkedContentSequence="BDC",t.BeginMarkedContent="BMC",t.EndMarkedContent="EMC",t.MarkedContentPointWithProps="DP",t.MarkedContentPoint="MP",t.DrawObject="Do",t.ConcatTransformationMatrix="cm",t.PopGraphicsState="Q",t.PushGraphicsState="q",t.SetFlatness="i",t.SetGraphicsStateParams="gs",t.SetLineCapStyle="J",t.SetLineDashPattern="d",t.SetLineJoinStyle="j",t.SetLineMiterLimit="M",t.SetLineWidth="w",t.SetTextMatrix="Tm",t.SetRenderingIntent="ri",t.AppendRectangle="re",t.BeginInlineImage="BI",t.BeginInlineImageData="ID",t.EndInlineImage="EI",t.ClipEvenOdd="W*",t.ClipNonZero="W",t.CloseAndStroke="s",t.CloseFillEvenOddAndStroke="b*",t.CloseFillNonZeroAndStroke="b",t.ClosePath="h",t.AppendBezierCurve="c",t.CurveToReplicateFinalPoint="y",t.CurveToReplicateInitialPoint="v",t.EndPath="n",t.FillEvenOddAndStroke="B*",t.FillEvenOdd="f*",t.FillNonZeroAndStroke="B",t.FillNonZero="f",t.LegacyFillNonZero="F",t.LineTo="l",t.MoveTo="m",t.ShadingFill="sh",t.StrokePath="S",t.BeginText="BT",t.EndText="ET",t.MoveText="Td",t.MoveTextSetLeading="TD",t.NextLine="T*",t.SetCharacterSpacing="Tc",t.SetFontAndSize="Tf",t.SetTextHorizontalScaling="Tz",t.SetTextLineHeight="TL",t.SetTextRenderingMode="Tr",t.SetTextRise="Ts",t.SetWordSpacing="Tw",t.ShowText="Tj",t.ShowTextAdjusted="TJ",t.ShowTextLine="'",t.ShowTextLineAndSpace='"',t.Type3D0="d0",t.Type3D1="d1",t.BeginCompatibilitySection="BX",t.EndCompatibilitySection="EX"})(yv||(yv={}));const yt=yv;var Mb=function(t){ye(e,t);function e(r,n){var i=t.call(this,r)||this;return i.computeContents=function(){var o=i.getUnencodedContents();return i.encode?r0.deflate(o):o},i.encode=n,n&&r.set(M.of("Filter"),M.of("FlateDecode")),i.contentsCache=Qi.populatedBy(i.computeContents),i}return e.prototype.getContents=function(){return this.contentsCache.access()},e.prototype.getContentsSize=function(){return this.contentsCache.access().length},e.prototype.getUnencodedContents=function(){throw new In(this.constructor.name,"getUnencodedContents")},e}(wn),xu=function(t){ye(e,t);function e(r,n,i){i===void 0&&(i=!0);var o=t.call(this,r,i)||this;return o.operators=n,o}return e.prototype.push=function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(r=this.operators).push.apply(r,n)},e.prototype.clone=function(r){for(var n=new Array(this.operators.length),i=0,o=this.operators.length;i<o;i++)n[i]=this.operators[i].clone(r);var a=this,s=a.dict,l=a.encode;return e.of(s.clone(r),n,l)},e.prototype.getContentsString=function(){for(var r="",n=0,i=this.operators.length;n<i;n++)r+=this.operators[n]+`
`;return r},e.prototype.getUnencodedContents=function(){for(var r=new Uint8Array(this.getUnencodedContentsSize()),n=0,i=0,o=this.operators.length;i<o;i++)n+=this.operators[i].copyBytesInto(r,n),r[n++]=L.Newline;return r},e.prototype.getUnencodedContentsSize=function(){for(var r=0,n=0,i=this.operators.length;n<i;n++)r+=this.operators[n].sizeInBytes()+1;return r},e.of=function(r,n,i){return i===void 0&&(i=!0),new e(r,n,i)},e}(Mb),o$=function(){function t(e){this.seed=e}return t.prototype.nextInt=function(){var e=Math.sin(this.seed++)*1e4;return e-Math.floor(e)},t.withSeed=function(e){return new t(e)},t}(),a$=function(t,e){var r=t[0],n=e[0];return r.objectNumber-n.objectNumber},bv=function(){function t(){this.largestObjectNumber=0,this.header=o0.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=o$.withSeed(1)}return t.prototype.assign=function(e,r){this.indirectObjects.set(e,r),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},t.prototype.nextRef=function(){return this.largestObjectNumber+=1,jt.of(this.largestObjectNumber)},t.prototype.register=function(e){var r=this.nextRef();return this.assign(r,e),r},t.prototype.delete=function(e){return this.indirectObjects.delete(e)},t.prototype.lookupMaybe=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r.includes($r),o=e instanceof jt?this.indirectObjects.get(e):e;if(!(!o||o===$r&&!i)){for(var a=0,s=r.length;a<s;a++){var l=r[a];if(l===$r){if(o===$r)return o}else if(o instanceof l)return o}throw new ap(r,o)}},t.prototype.lookup=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=e instanceof jt?this.indirectObjects.get(e):e;if(r.length===0)return i;for(var o=0,a=r.length;o<a;o++){var s=r[o];if(s===$r){if(i===$r)return i}else if(i instanceof s)return i}throw new ap(r,i)},t.prototype.getObjectRef=function(e){for(var r=Array.from(this.indirectObjects.entries()),n=0,i=r.length;n<i;n++){var o=r[n],a=o[0],s=o[1];if(s===e)return a}},t.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(a$)},t.prototype.obj=function(e){if(e instanceof Kr)return e;if(e==null)return $r;if(typeof e=="string")return M.of(e);if(typeof e=="number")return We.of(e);if(typeof e=="boolean")return e?ed.True:ed.False;if(Array.isArray(e)){for(var r=xt.withContext(this),n=0,i=e.length;n<i;n++)r.push(this.obj(e[n]));return r}else{for(var o=Ye.withContext(this),a=Object.keys(e),n=0,i=a.length;n<i;n++){var s=a[n],l=e[s];l!==void 0&&o.set(M.of(s),this.obj(l))}return o}},t.prototype.stream=function(e,r){return r===void 0&&(r={}),td.of(this.obj(r),lv(e))},t.prototype.flateStream=function(e,r){return r===void 0&&(r={}),this.stream(r0.deflate(lv(e)),qe(qe({},r),{Filter:"FlateDecode"}))},t.prototype.contentStream=function(e,r){return r===void 0&&(r={}),xu.of(this.obj(r),e)},t.prototype.formXObject=function(e,r){return r===void 0&&(r={}),this.contentStream(e,qe(qe({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},r),{Type:"XObject",Subtype:"Form"}))},t.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),r=pt.of(yt.PushGraphicsState),n=xu.of(e,[r]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},t.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),r=pt.of(yt.PopGraphicsState),n=xu.of(e,[r]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},t.prototype.addRandomSuffix=function(e,r){return r===void 0&&(r=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,r))},t.create=function(){return new t},t}(),$i=function(t){ye(e,t);function e(r,n,i){i===void 0&&(i=!0);var o=t.call(this,r,n)||this;return o.normalized=!1,o.autoNormalizeCTM=i,o}return e.prototype.clone=function(r){for(var n=e.fromMapWithContext(new Map,r||this.context,this.autoNormalizeCTM),i=this.entries(),o=0,a=i.length;o<a;o++){var s=i[o],l=s[0],c=s[1];n.set(l,c)}return n},e.prototype.Parent=function(){return this.lookupMaybe(M.Parent,Ye)},e.prototype.Contents=function(){return this.lookup(M.of("Contents"))},e.prototype.Annots=function(){return this.lookupMaybe(M.Annots,xt)},e.prototype.BleedBox=function(){return this.lookupMaybe(M.BleedBox,xt)},e.prototype.TrimBox=function(){return this.lookupMaybe(M.TrimBox,xt)},e.prototype.ArtBox=function(){return this.lookupMaybe(M.ArtBox,xt)},e.prototype.Resources=function(){var r=this.getInheritableAttribute(M.Resources);return this.context.lookupMaybe(r,Ye)},e.prototype.MediaBox=function(){var r=this.getInheritableAttribute(M.MediaBox);return this.context.lookup(r,xt)},e.prototype.CropBox=function(){var r=this.getInheritableAttribute(M.CropBox);return this.context.lookupMaybe(r,xt)},e.prototype.Rotate=function(){var r=this.getInheritableAttribute(M.Rotate);return this.context.lookupMaybe(r,We)},e.prototype.getInheritableAttribute=function(r){var n;return this.ascend(function(i){n||(n=i.get(r))}),n},e.prototype.setParent=function(r){this.set(M.Parent,r)},e.prototype.addContentStream=function(r){var n=this.normalizedEntries().Contents||this.context.obj([]);this.set(M.Contents,n),n.push(r)},e.prototype.wrapContentStreams=function(r,n){var i=this.Contents();return i instanceof xt?(i.insert(0,r),i.push(n),!0):!1},e.prototype.addAnnot=function(r){var n=this.normalizedEntries().Annots;n.push(r)},e.prototype.removeAnnot=function(r){var n=this.normalizedEntries().Annots,i=n.indexOf(r);i!==void 0&&n.remove(i)},e.prototype.setFontDictionary=function(r,n){var i=this.normalizedEntries().Font;i.set(r,n)},e.prototype.newFontDictionaryKey=function(r){var n=this.normalizedEntries().Font;return n.uniqueKey(r)},e.prototype.newFontDictionary=function(r,n){var i=this.newFontDictionaryKey(r);return this.setFontDictionary(i,n),i},e.prototype.setXObject=function(r,n){var i=this.normalizedEntries().XObject;i.set(r,n)},e.prototype.newXObjectKey=function(r){var n=this.normalizedEntries().XObject;return n.uniqueKey(r)},e.prototype.newXObject=function(r,n){var i=this.newXObjectKey(r);return this.setXObject(i,n),i},e.prototype.setExtGState=function(r,n){var i=this.normalizedEntries().ExtGState;i.set(r,n)},e.prototype.newExtGStateKey=function(r){var n=this.normalizedEntries().ExtGState;return n.uniqueKey(r)},e.prototype.newExtGState=function(r,n){var i=this.newExtGStateKey(r);return this.setExtGState(i,n),i},e.prototype.ascend=function(r){r(this);var n=this.Parent();n&&n.ascend(r)},e.prototype.normalize=function(){if(!this.normalized){var r=this.context,n=this.get(M.Contents),i=this.context.lookup(n);i instanceof wn&&this.set(M.Contents,r.obj([n])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var o=this.getInheritableAttribute(M.Resources),a=r.lookupMaybe(o,Ye)||r.obj({});this.set(M.Resources,a);var s=a.lookupMaybe(M.Font,Ye)||r.obj({});a.set(M.Font,s);var l=a.lookupMaybe(M.XObject,Ye)||r.obj({});a.set(M.XObject,l);var c=a.lookupMaybe(M.ExtGState,Ye)||r.obj({});a.set(M.ExtGState,c);var d=this.Annots()||r.obj([]);this.set(M.Annots,d),this.normalized=!0}},e.prototype.normalizedEntries=function(){this.normalize();var r=this.Annots(),n=this.Resources(),i=this.Contents();return{Annots:r,Resources:n,Contents:i,Font:n.lookup(M.Font,Ye),XObject:n.lookup(M.XObject,Ye),ExtGState:n.lookup(M.ExtGState,Ye)}},e.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],e.withContextAndParent=function(r,n){var i=new Map;return i.set(M.Type,M.Page),i.set(M.Parent,n),i.set(M.Resources,r.obj({})),i.set(M.MediaBox,r.obj([0,0,612,792])),new e(i,r,!1)},e.fromMapWithContext=function(r,n,i){return i===void 0&&(i=!0),new e(r,n,i)},e}(Ye),$S=function(){function t(e,r){var n=this;this.traversedObjects=new Map,this.copy=function(i){return i instanceof $i?n.copyPDFPage(i):i instanceof Ye?n.copyPDFDict(i):i instanceof xt?n.copyPDFArray(i):i instanceof wn?n.copyPDFStream(i):i instanceof jt?n.copyPDFIndirectObject(i):i.clone()},this.copyPDFPage=function(i){for(var o=i.clone(),a=$i.InheritableEntries,s=0,l=a.length;s<l;s++){var c=M.of(a[s]),d=o.getInheritableAttribute(c);!o.get(c)&&d&&o.set(c,d)}return o.delete(M.of("Parent")),n.copyPDFDict(o)},this.copyPDFDict=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var o=i.clone(n.dest);n.traversedObjects.set(i,o);for(var a=i.entries(),s=0,l=a.length;s<l;s++){var c=a[s],d=c[0],h=c[1];o.set(d,n.copy(h))}return o},this.copyPDFArray=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var o=i.clone(n.dest);n.traversedObjects.set(i,o);for(var a=0,s=i.size();a<s;a++){var l=i.get(a);o.set(a,n.copy(l))}return o},this.copyPDFStream=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var o=i.clone(n.dest);n.traversedObjects.set(i,o);for(var a=i.dict.entries(),s=0,l=a.length;s<l;s++){var c=a[s],d=c[0],h=c[1];o.dict.set(d,n.copy(h))}return o},this.copyPDFIndirectObject=function(i){var o=n.traversedObjects.has(i);if(!o){var a=n.dest.nextRef();n.traversedObjects.set(i,a);var s=n.src.lookup(i);if(s){var l=n.copy(s);n.dest.assign(a,l)}}return n.traversedObjects.get(i)},this.src=e,this.dest=r}return t.for=function(e,r){return new t(e,r)},t}(),xT=function(){function t(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return t.prototype.addEntry=function(e,r){this.append({ref:e,offset:r,deleted:!1})},t.prototype.addDeletedEntry=function(e,r){this.append({ref:e,offset:r,deleted:!0})},t.prototype.toString=function(){for(var e=`xref
`,r=0,n=this.subsections.length;r<n;r++){var i=this.subsections[r];e+=i[0].ref.objectNumber+" "+i.length+`
`;for(var o=0,a=i.length;o<a;o++){var s=i[o];e+=ai(String(s.offset),10,"0"),e+=" ",e+=ai(String(s.ref.generationNumber),5,"0"),e+=" ",e+=s.deleted?"f":"n",e+=` 
`}}return e},t.prototype.sizeInBytes=function(){for(var e=5,r=0,n=this.subsections.length;r<n;r++){var i=this.subsections[r],o=i.length,a=i[0];e+=2,e+=String(a.ref.objectNumber).length,e+=String(o).length,e+=20*o}return e},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=L.x,e[r++]=L.r,e[r++]=L.e,e[r++]=L.f,e[r++]=L.Newline,r+=this.copySubsectionsIntoBuffer(this.subsections,e,r),r-n},t.prototype.copySubsectionsIntoBuffer=function(e,r,n){for(var i=n,o=e.length,a=0;a<o;a++){var s=this.subsections[a],l=String(s[0].ref.objectNumber);n+=Rr(l,r,n),r[n++]=L.Space;var c=String(s.length);n+=Rr(c,r,n),r[n++]=L.Newline,n+=this.copyEntriesIntoBuffer(s,r,n)}return n-i},t.prototype.copyEntriesIntoBuffer=function(e,r,n){for(var i=e.length,o=0;o<i;o++){var a=e[o],s=ai(String(a.offset),10,"0");n+=Rr(s,r,n),r[n++]=L.Space;var l=ai(String(a.ref.generationNumber),5,"0");n+=Rr(l,r,n),r[n++]=L.Space,r[n++]=a.deleted?L.f:L.n,r[n++]=L.Space,r[n++]=L.Newline}return 20*i},t.prototype.append=function(e){if(this.chunkLength===0){this.subsections.push([e]),this.chunkIdx=0,this.chunkLength=1;return}var r=this.subsections[this.chunkIdx],n=r[this.chunkLength-1];e.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(r.push(e),this.chunkLength+=1)},t.create=function(){return new t({ref:jt.of(0,65535),offset:0,deleted:!0})},t.createEmpty=function(){return new t},t}(),Lb=function(){function t(e){this.lastXRefOffset=String(e)}return t.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},t.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=L.s,e[r++]=L.t,e[r++]=L.a,e[r++]=L.r,e[r++]=L.t,e[r++]=L.x,e[r++]=L.r,e[r++]=L.e,e[r++]=L.f,e[r++]=L.Newline,r+=Rr(this.lastXRefOffset,e,r),e[r++]=L.Newline,e[r++]=L.Percent,e[r++]=L.Percent,e[r++]=L.E,e[r++]=L.O,e[r++]=L.F,r-n},t.forLastCrossRefSectionOffset=function(e){return new t(e)},t}(),s$=function(){function t(e){this.dict=e}return t.prototype.toString=function(){return`trailer
`+this.dict.toString()},t.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},t.prototype.copyBytesInto=function(e,r){var n=r;return e[r++]=L.t,e[r++]=L.r,e[r++]=L.a,e[r++]=L.i,e[r++]=L.l,e[r++]=L.e,e[r++]=L.r,e[r++]=L.Newline,r+=this.dict.copyBytesInto(e,r),r-n},t.of=function(e){return new t(e)},t}(),wT=function(t){ye(e,t);function e(r,n,i){i===void 0&&(i=!0);var o=t.call(this,r.obj({}),i)||this;return o.objects=n,o.offsets=o.computeObjectOffsets(),o.offsetsString=o.computeOffsetsString(),o.dict.set(M.of("Type"),M.of("ObjStm")),o.dict.set(M.of("N"),We.of(o.objects.length)),o.dict.set(M.of("First"),We.of(o.offsetsString.length)),o}return e.prototype.getObjectsCount=function(){return this.objects.length},e.prototype.clone=function(r){return e.withContextAndObjects(r||this.dict.context,this.objects.slice(),this.encode)},e.prototype.getContentsString=function(){for(var r=this.offsetsString,n=0,i=this.objects.length;n<i;n++){var o=this.objects[n],a=o[1];r+=a+`
`}return r},e.prototype.getUnencodedContents=function(){for(var r=new Uint8Array(this.getUnencodedContentsSize()),n=Rr(this.offsetsString,r,0),i=0,o=this.objects.length;i<o;i++){var a=this.objects[i],s=a[1];n+=s.copyBytesInto(r,n),r[n++]=L.Newline}return r},e.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+np(this.offsets)[1]+np(this.objects)[1].sizeInBytes()+1},e.prototype.computeOffsetsString=function(){for(var r="",n=0,i=this.offsets.length;n<i;n++){var o=this.offsets[n],a=o[0],s=o[1];r+=a+" "+s+" "}return r},e.prototype.computeObjectOffsets=function(){for(var r=0,n=new Array(this.objects.length),i=0,o=this.objects.length;i<o;i++){var a=this.objects[i],s=a[0],l=a[1];n[i]=[s.objectNumber,r],r+=l.sizeInBytes()+1}return n},e.withContextAndObjects=function(r,n,i){return i===void 0&&(i=!0),new e(r,n,i)},e}(Mb),ST=function(){function t(e,r){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(i){return n.parsedObjects+=i,n.parsedObjects%n.objectsPerTick===0},this.context=e,this.objectsPerTick=r}return t.prototype.serializeToBuffer=function(){return Qe(this,void 0,void 0,function(){var e,r,n,i,o,a,s,l,c,d,h,f,p,g,m,y,v;return $e(this,function(b){switch(b.label){case 0:return[4,this.computeBufferSize()];case 1:e=b.sent(),r=e.size,n=e.header,i=e.indirectObjects,o=e.xref,a=e.trailerDict,s=e.trailer,l=0,c=new Uint8Array(r),l+=n.copyBytesInto(c,l),c[l++]=L.Newline,c[l++]=L.Newline,d=0,h=i.length,b.label=2;case 2:return d<h?(f=i[d],p=f[0],g=f[1],m=String(p.objectNumber),l+=Rr(m,c,l),c[l++]=L.Space,y=String(p.generationNumber),l+=Rr(y,c,l),c[l++]=L.Space,c[l++]=L.o,c[l++]=L.b,c[l++]=L.j,c[l++]=L.Newline,l+=g.copyBytesInto(c,l),c[l++]=L.Newline,c[l++]=L.e,c[l++]=L.n,c[l++]=L.d,c[l++]=L.o,c[l++]=L.b,c[l++]=L.j,c[l++]=L.Newline,c[l++]=L.Newline,v=g instanceof wT?g.getObjectsCount():1,this.shouldWaitForTick(v)?[4,Ml()]:[3,4]):[3,5];case 3:b.sent(),b.label=4;case 4:return d++,[3,2];case 5:return o&&(l+=o.copyBytesInto(c,l),c[l++]=L.Newline),a&&(l+=a.copyBytesInto(c,l),c[l++]=L.Newline,c[l++]=L.Newline),l+=s.copyBytesInto(c,l),[2,c]}})})},t.prototype.computeIndirectObjectSize=function(e){var r=e[0],n=e[1],i=r.sizeInBytes()+3,o=n.sizeInBytes()+9;return i+o},t.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},t.prototype.computeBufferSize=function(){return Qe(this,void 0,void 0,function(){var e,r,n,i,o,a,s,l,c,d,h;return $e(this,function(f){switch(f.label){case 0:e=o0.forVersion(1,7),r=e.sizeInBytes()+2,n=xT.create(),i=this.context.enumerateIndirectObjects(),o=0,a=i.length,f.label=1;case 1:return o<a?(s=i[o],l=s[0],n.addEntry(l,r),r+=this.computeIndirectObjectSize(s),this.shouldWaitForTick(1)?[4,Ml()]:[3,3]):[3,4];case 2:f.sent(),f.label=3;case 3:return o++,[3,1];case 4:return c=r,r+=n.sizeInBytes()+1,d=s$.of(this.createTrailerDict()),r+=d.sizeInBytes()+2,h=Lb.forLastCrossRefSectionOffset(c),r+=h.sizeInBytes(),[2,{size:r,header:e,indirectObjects:i,xref:n,trailerDict:d,trailer:h}]}})})},t.forContext=function(e,r){return new t(e,r)},t}(),kT=function(t){ye(e,t);function e(r){var n=t.call(this)||this;return n.data=r,n}return e.prototype.clone=function(){return e.of(this.data.slice())},e.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},e.prototype.sizeInBytes=function(){return this.data.length},e.prototype.copyBytesInto=function(r,n){for(var i=this.data.length,o=0;o<i;o++)r[n++]=this.data[o];return i},e.of=function(r){return new e(r)},e}(Kr),jo;(function(t){t[t.Deleted=0]="Deleted",t[t.Uncompressed=1]="Uncompressed",t[t.Compressed=2]="Compressed"})(jo||(jo={}));var l$=function(t){ye(e,t);function e(r,n,i){i===void 0&&(i=!0);var o=t.call(this,r,i)||this;return o.computeIndex=function(){for(var a=[],s=0,l=0,c=o.entries.length;l<c;l++){var d=o.entries[l],h=o.entries[l-1];l===0?a.push(d.ref.objectNumber):d.ref.objectNumber-h.ref.objectNumber>1&&(a.push(s),a.push(d.ref.objectNumber),s=0),s+=1}return a.push(s),a},o.computeEntryTuples=function(){for(var a=new Array(o.entries.length),s=0,l=o.entries.length;s<l;s++){var c=o.entries[s];if(c.type===jo.Deleted){var d=c.type,h=c.nextFreeObjectNumber,f=c.ref;a[s]=[d,h,f.generationNumber]}if(c.type===jo.Uncompressed){var d=c.type,p=c.offset,f=c.ref;a[s]=[d,p,f.generationNumber]}if(c.type===jo.Compressed){var d=c.type,g=c.objectStreamRef,m=c.index;a[s]=[d,g.objectNumber,m]}}return a},o.computeMaxEntryByteWidths=function(){for(var a=o.entryTuplesCache.access(),s=[0,0,0],l=0,c=a.length;l<c;l++){var d=a[l],h=d[0],f=d[1],p=d[2],g=af(h),m=af(f),y=af(p);g>s[0]&&(s[0]=g),m>s[1]&&(s[1]=m),y>s[2]&&(s[2]=y)}return s},o.entries=n||[],o.entryTuplesCache=Qi.populatedBy(o.computeEntryTuples),o.maxByteWidthsCache=Qi.populatedBy(o.computeMaxEntryByteWidths),o.indexCache=Qi.populatedBy(o.computeIndex),r.set(M.of("Type"),M.of("XRef")),o}return e.prototype.addDeletedEntry=function(r,n){var i=jo.Deleted;this.entries.push({type:i,ref:r,nextFreeObjectNumber:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addUncompressedEntry=function(r,n){var i=jo.Uncompressed;this.entries.push({type:i,ref:r,offset:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.addCompressedEntry=function(r,n,i){var o=jo.Compressed;this.entries.push({type:o,ref:r,objectStreamRef:n,index:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},e.prototype.clone=function(r){var n=this,i=n.dict,o=n.entries,a=n.encode;return e.of(i.clone(r),o.slice(),a)},e.prototype.getContentsString=function(){for(var r=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),i="",o=0,a=r.length;o<a;o++){for(var s=r[o],l=s[0],c=s[1],d=s[2],h=Os(As(l)),f=Os(As(c)),p=Os(As(d)),g=n[0]-1;g>=0;g--)i+=(h[g]||0).toString(2);for(var g=n[1]-1;g>=0;g--)i+=(f[g]||0).toString(2);for(var g=n[2]-1;g>=0;g--)i+=(p[g]||0).toString(2)}return i},e.prototype.getUnencodedContents=function(){for(var r=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),i=new Uint8Array(this.getUnencodedContentsSize()),o=0,a=0,s=r.length;a<s;a++){for(var l=r[a],c=l[0],d=l[1],h=l[2],f=Os(As(c)),p=Os(As(d)),g=Os(As(h)),m=n[0]-1;m>=0;m--)i[o++]=f[m]||0;for(var m=n[1]-1;m>=0;m--)i[o++]=p[m]||0;for(var m=n[2]-1;m>=0;m--)i[o++]=g[m]||0}return i},e.prototype.getUnencodedContentsSize=function(){var r=this.maxByteWidthsCache.access(),n=lY(r);return n*this.entries.length},e.prototype.updateDict=function(){t.prototype.updateDict.call(this);var r=this.maxByteWidthsCache.access(),n=this.indexCache.access(),i=this.dict.context;this.dict.set(M.of("W"),i.obj(r)),this.dict.set(M.of("Index"),i.obj(n))},e.create=function(r,n){n===void 0&&(n=!0);var i=new e(r,[],n);return i.addDeletedEntry(jt.of(0,65535),0),i},e.of=function(r,n,i){return i===void 0&&(i=!0),new e(r,n,i)},e}(Mb),c$=function(t){ye(e,t);function e(r,n,i,o){var a=t.call(this,r,n)||this;return a.encodeStreams=i,a.objectsPerStream=o,a}return e.prototype.computeBufferSize=function(){return Qe(this,void 0,void 0,function(){var r,n,i,o,a,s,l,c,g,m,d,v,h,f,y,p,g,m,y,v,b,x,w,S;return $e(this,function(k){switch(k.label){case 0:r=this.context.largestObjectNumber+1,n=o0.forVersion(1,7),i=n.sizeInBytes()+2,o=l$.create(this.createTrailerDict(),this.encodeStreams),a=[],s=[],l=[],c=this.context.enumerateIndirectObjects(),g=0,m=c.length,k.label=1;case 1:return g<m?(d=c[g],v=d[0],h=d[1],f=v===this.context.trailerInfo.Encrypt||h instanceof wn||h instanceof kT||v.generationNumber!==0,f?(a.push(d),o.addUncompressedEntry(v,i),i+=this.computeIndirectObjectSize(d),this.shouldWaitForTick(1)?[4,Ml()]:[3,3]):[3,4]):[3,6];case 2:k.sent(),k.label=3;case 3:return[3,5];case 4:y=np(s),p=np(l),(!y||y.length%this.objectsPerStream===0)&&(y=[],s.push(y),p=jt.of(r++),l.push(p)),o.addCompressedEntry(v,p,y.length),y.push(d),k.label=5;case 5:return g++,[3,1];case 6:g=0,m=s.length,k.label=7;case 7:return g<m?(y=s[g],v=l[g],b=wT.withContextAndObjects(this.context,y,this.encodeStreams),o.addUncompressedEntry(v,i),i+=this.computeIndirectObjectSize([v,b]),a.push([v,b]),this.shouldWaitForTick(y.length)?[4,Ml()]:[3,9]):[3,10];case 8:k.sent(),k.label=9;case 9:return g++,[3,7];case 10:return x=jt.of(r++),o.dict.set(M.of("Size"),We.of(r)),o.addUncompressedEntry(x,i),w=i,i+=this.computeIndirectObjectSize([x,o]),a.push([x,o]),S=Lb.forLastCrossRefSectionOffset(w),i+=S.sizeInBytes(),[2,{size:i,header:n,indirectObjects:a,trailer:S}]}})})},e.forContext=function(r,n,i,o){return i===void 0&&(i=!0),o===void 0&&(o=50),new e(r,n,i,o)},e}(ST),ze=function(t){ye(e,t);function e(r){var n=t.call(this)||this;return n.value=r,n}return e.prototype.asBytes=function(){for(var r=this.value+(this.value.length%2===1?"0":""),n=r.length,i=new Uint8Array(r.length/2),o=0,a=0;o<n;){var s=parseInt(r.substring(o,o+2),16);i[a]=s,o+=2,a+=1}return i},e.prototype.decodeText=function(){var r=this.asBytes();return E5(r)?_5(r):yT(r)},e.prototype.decodeDate=function(){var r=this.decodeText(),n=x5(r);if(!n)throw new bT(r);return n},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"<"+this.value+">"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(r,n){return r[n++]=L.LessThan,n+=Rr(this.value,r,n),r[n++]=L.GreaterThan,this.value.length+2},e.of=function(r){return new e(r)},e.fromText=function(r){for(var n=hY(r),i="",o=0,a=n.length;o<a;o++)i+=wd(n[o],4);return new e(i)},e}(Kr),lp=function(){function t(e,r){this.encoding=e===$u.ZapfDingbats?Dh.ZapfDingbats:e===$u.Symbol?Dh.Symbol:Dh.WinAnsi,this.font=TQ.load(e),this.fontName=this.font.FontName,this.customName=r}return t.prototype.encodeText=function(e){for(var r=this.encodeTextAsGlyphs(e),n=new Array(r.length),i=0,o=r.length;i<o;i++)n[i]=Qp(r[i].code);return ze.of(n.join(""))},t.prototype.widthOfTextAtSize=function(e,r){for(var n=this.encodeTextAsGlyphs(e),i=0,o=0,a=n.length;o<a;o++){var s=n[o].name,l=(n[o+1]||{}).name,c=this.font.getXAxisKerningForPair(s,l)||0;i+=this.widthOfGlyph(s)+c}var d=r/1e3;return i*d},t.prototype.heightOfFontAtSize=function(e,r){r===void 0&&(r={});var n=r.descender,i=n===void 0?!0:n,o=this.font,a=o.Ascender,s=o.Descender,l=o.FontBBox,c=a||l[3],d=s||l[1],h=c-d;return i||(h+=s||0),h/1e3*e},t.prototype.sizeOfFontAtHeight=function(e){var r=this.font,n=r.Ascender,i=r.Descender,o=r.FontBBox,a=n||o[3],s=i||o[1];return 1e3*e/(a-s)},t.prototype.embedIntoContext=function(e,r){var n=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Dh.WinAnsi?"WinAnsiEncoding":void 0});return r?(e.assign(r,n),r):e.register(n)},t.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},t.prototype.encodeTextAsGlyphs=function(e){for(var r=Array.from(e),n=new Array(r.length),i=0,o=r.length;i<o;i++){var a=YZ(r[i]);n[i]=this.encoding.encodeUnicodeCodePoint(a)}return n},t.for=function(e,r){return new t(e,r)},t}(),u$=function(t,e){for(var r=new Array(t.length),n=0,i=t.length;n<i;n++){var o=t[n],a=ek(hf(e(o))),s=ek.apply(void 0,o.codePoints.map(h$));r[n]=[a,s]}return d$(r)},d$=function(t){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+t.length+` beginbfchar
`+t.map(function(e){var r=e[0],n=e[1];return r+" "+n}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},ek=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"<"+t.join("")+">"},hf=function(t){return wd(t,4)},h$=function(t){if(fY(t))return hf(t);if(pY(t)){var e=S5(t),r=k5(t);return""+hf(e)+hf(r)}var n=Qp(t),i="0x"+n+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(i)},f$=function(t){var e=0,r=function(n){e|=1<<n-1};return t.fixedPitch&&r(1),t.serif&&r(2),r(3),t.script&&r(4),t.nonsymbolic&&r(6),t.italic&&r(7),t.allCap&&r(17),t.smallCap&&r(18),t.forceBold&&r(19),e},p$=function(t){var e=t["OS/2"]?t["OS/2"].sFamilyClass:0,r=f$({fixedPitch:t.post.isFixedPitch,serif:1<=e&&e<=7,script:e===10,italic:t.head.macStyle.italic});return r},Ct=function(t){ye(e,t);function e(r){var n=t.call(this)||this;return n.value=r,n}return e.prototype.asBytes=function(){for(var r=[],n="",i=!1,o=function(h){h!==void 0&&r.push(h),i=!1},a=0,s=this.value.length;a<s;a++){var l=this.value[a],c=Ge(l),d=this.value[a+1];i?c===L.Newline||c===L.CarriageReturn?o():c===L.n?o(L.Newline):c===L.r?o(L.CarriageReturn):c===L.t?o(L.Tab):c===L.b?o(L.Backspace):c===L.f?o(L.FormFeed):c===L.LeftParen?o(L.LeftParen):c===L.RightParen?o(L.RightParen):c===L.Backspace?o(L.BackSlash):c>=L.Zero&&c<=L.Seven?(n+=l,(n.length===3||!(d>="0"&&d<="7"))&&(o(parseInt(n,8)),n="")):o(c):c===L.BackSlash?i=!0:o(c)}return new Uint8Array(r)},e.prototype.decodeText=function(){var r=this.asBytes();return E5(r)?_5(r):yT(r)},e.prototype.decodeDate=function(){var r=this.decodeText(),n=x5(r);if(!n)throw new bT(r);return n},e.prototype.asString=function(){return this.value},e.prototype.clone=function(){return e.of(this.value)},e.prototype.toString=function(){return"("+this.value+")"},e.prototype.sizeInBytes=function(){return this.value.length+2},e.prototype.copyBytesInto=function(r,n){return r[n++]=L.LeftParen,n+=Rr(this.value,r,n),r[n++]=L.RightParen,this.value.length+2},e.of=function(r){return new e(r)},e.fromDate=function(r){var n=ai(String(r.getUTCFullYear()),4,"0"),i=ai(String(r.getUTCMonth()+1),2,"0"),o=ai(String(r.getUTCDate()),2,"0"),a=ai(String(r.getUTCHours()),2,"0"),s=ai(String(r.getUTCMinutes()),2,"0"),l=ai(String(r.getUTCSeconds()),2,"0");return new e("D:"+n+i+o+a+s+l+"Z")},e}(Kr),zb=function(){function t(e,r,n,i){var o=this;this.allGlyphsInFontSortedById=function(){for(var a=new Array(o.font.characterSet.length),s=0,l=a.length;s<l;s++){var c=o.font.characterSet[s];a[s]=o.font.glyphForCodePoint(c)}return sY(a.sort(aY),function(d){return d.id})},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=r,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=i,this.baseFontName="",this.glyphCache=Qi.populatedBy(this.allGlyphsInFontSortedById)}return t.for=function(e,r,n,i){return Qe(this,void 0,void 0,function(){var o;return $e(this,function(a){switch(a.label){case 0:return[4,e.create(r)];case 1:return o=a.sent(),[2,new t(o,r,n,i)]}})})},t.prototype.encodeText=function(e){for(var r=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(r.length),i=0,o=r.length;i<o;i++)n[i]=wd(r[i].id,4);return ze.of(n.join(""))},t.prototype.widthOfTextAtSize=function(e,r){for(var n=this.font.layout(e,this.fontFeatures).glyphs,i=0,o=0,a=n.length;o<a;o++)i+=n[o].advanceWidth*this.scale;var s=r/1e3;return i*s},t.prototype.heightOfFontAtSize=function(e,r){r===void 0&&(r={});var n=r.descender,i=n===void 0?!0:n,o=this.font,a=o.ascent,s=o.descent,l=o.bbox,c=(a||l.maxY)*this.scale,d=(s||l.minY)*this.scale,h=c-d;return i||(h-=Math.abs(s)||0),h/1e3*e},t.prototype.sizeOfFontAtHeight=function(e){var r=this.font,n=r.ascent,i=r.descent,o=r.bbox,a=(n||o.maxY)*this.scale,s=(i||o.minY)*this.scale;return 1e3*e/(a-s)},t.prototype.embedIntoContext=function(e,r){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,r)},t.prototype.embedFontDict=function(e,r){return Qe(this,void 0,void 0,function(){var n,i,o;return $e(this,function(a){switch(a.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return n=a.sent(),i=this.embedUnicodeCmap(e),o=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:i}),r?(e.assign(r,o),[2,r]):[2,e.register(o)]}})})},t.prototype.isCFF=function(){return this.font.cff},t.prototype.embedCIDFontDict=function(e){return Qe(this,void 0,void 0,function(){var r,n;return $e(this,function(i){switch(i.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return r=i.sent(),n=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:Ct.of("Adobe"),Ordering:Ct.of("Identity"),Supplement:0},FontDescriptor:r,W:this.computeWidths()}),[2,e.register(n)]}})})},t.prototype.embedFontDescriptor=function(e){return Qe(this,void 0,void 0,function(){var r,n,i,o,a,s,l,c,d,h,f,p,g,m,y;return $e(this,function(v){switch(v.label){case 0:return[4,this.embedFontStream(e)];case 1:return r=v.sent(),n=this.scale,i=this.font,o=i.italicAngle,a=i.ascent,s=i.descent,l=i.capHeight,c=i.xHeight,d=this.font.bbox,h=d.minX,f=d.minY,p=d.maxX,g=d.maxY,m=e.obj((y={Type:"FontDescriptor",FontName:this.baseFontName,Flags:p$(this.font),FontBBox:[h*n,f*n,p*n,g*n],ItalicAngle:o,Ascent:a*n,Descent:s*n,CapHeight:(l||a)*n,XHeight:(c||0)*n,StemV:0},y[this.isCFF()?"FontFile3":"FontFile2"]=r,y)),[2,e.register(m)]}})})},t.prototype.serializeFont=function(){return Qe(this,void 0,void 0,function(){return $e(this,function(e){return[2,this.fontData]})})},t.prototype.embedFontStream=function(e){return Qe(this,void 0,void 0,function(){var r,n,i;return $e(this,function(o){switch(o.label){case 0:return i=(n=e).flateStream,[4,this.serializeFont()];case 1:return r=i.apply(n,[o.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(r)]}})})},t.prototype.embedUnicodeCmap=function(e){var r=u$(this.glyphCache.access(),this.glyphId.bind(this)),n=e.flateStream(r);return e.register(n)},t.prototype.glyphId=function(e){return e?e.id:-1},t.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),r=[],n=[],i=0,o=e.length;i<o;i++){var a=e[i],s=e[i-1],l=this.glyphId(a),c=this.glyphId(s);i===0?r.push(l):l-c!==1&&(r.push(n),r.push(l),n=[]),n.push(a.advanceWidth*this.scale)}return r.push(n),r},t}(),g$=function(t){ye(e,t);function e(r,n,i,o){var a=t.call(this,r,n,i,o)||this;return a.subset=a.font.createSubset(),a.glyphs=[],a.glyphCache=Qi.populatedBy(function(){return a.glyphs}),a.glyphIdMap=new Map,a}return e.for=function(r,n,i,o){return Qe(this,void 0,void 0,function(){var a;return $e(this,function(s){switch(s.label){case 0:return[4,r.create(n)];case 1:return a=s.sent(),[2,new e(a,n,i,o)]}})})},e.prototype.encodeText=function(r){for(var n=this.font.layout(r,this.fontFeatures).glyphs,i=new Array(n.length),o=0,a=n.length;o<a;o++){var s=n[o],l=this.subset.includeGlyph(s);this.glyphs[l-1]=s,this.glyphIdMap.set(s.id,l),i[o]=wd(l,4)}return this.glyphCache.invalidate(),ze.of(i.join(""))},e.prototype.isCFF=function(){return this.subset.cff},e.prototype.glyphId=function(r){return r?this.glyphIdMap.get(r.id):-1},e.prototype.serializeFont=function(){var r=this;return new Promise(function(n,i){var o=[];r.subset.encodeStream().on("data",function(a){return o.push(a)}).on("end",function(){return n(oY(o))}).on("error",function(a){return i(a)})})},e}(zb),xv;(function(t){t.Source="Source",t.Data="Data",t.Alternative="Alternative",t.Supplement="Supplement",t.EncryptedPayload="EncryptedPayload",t.FormData="EncryptedPayload",t.Schema="Schema",t.Unspecified="Unspecified"})(xv||(xv={}));var m$=function(){function t(e,r,n){n===void 0&&(n={}),this.fileData=e,this.fileName=r,this.options=n}return t.for=function(e,r,n){return n===void 0&&(n={}),new t(e,r,n)},t.prototype.embedIntoContext=function(e,r){return Qe(this,void 0,void 0,function(){var n,i,o,a,s,l,c,d,h;return $e(this,function(f){return n=this.options,i=n.mimeType,o=n.description,a=n.creationDate,s=n.modificationDate,l=n.afRelationship,c=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:i??void 0,Params:{Size:this.fileData.length,CreationDate:a?Ct.fromDate(a):void 0,ModDate:s?Ct.fromDate(s):void 0}}),d=e.register(c),h=e.obj({Type:"Filespec",F:Ct.of(this.fileName),UF:ze.fromText(this.fileName),EF:{F:d},Desc:o?ze.fromText(o):void 0,AFRelationship:l??void 0}),r?(e.assign(r,h),[2,r]):[2,e.register(h)]})})},t}(),tk=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],Tl;(function(t){t.DeviceGray="DeviceGray",t.DeviceRGB="DeviceRGB",t.DeviceCMYK="DeviceCMYK"})(Tl||(Tl={}));var v$={1:Tl.DeviceGray,3:Tl.DeviceRGB,4:Tl.DeviceCMYK},_T=function(){function t(e,r,n,i,o){this.imageData=e,this.bitsPerComponent=r,this.width=n,this.height=i,this.colorSpace=o}return t.for=function(e){return Qe(this,void 0,void 0,function(){var r,n,i,o,a,s,l,c,d,h;return $e(this,function(f){if(r=new DataView(e.buffer),n=r.getUint16(0),n!==65496)throw new Error("SOI not found in JPEG");for(i=2;i<r.byteLength&&(o=r.getUint16(i),i+=2,!tk.includes(o));)i+=r.getUint16(i);if(!tk.includes(o))throw new Error("Invalid JPEG");if(i+=2,a=r.getUint8(i++),s=r.getUint16(i),i+=2,l=r.getUint16(i),i+=2,c=r.getUint8(i++),d=v$[c],!d)throw new Error("Unknown JPEG channel.");return h=d,[2,new t(e,a,l,s,h)]})})},t.prototype.embedIntoContext=function(e,r){return Qe(this,void 0,void 0,function(){var n;return $e(this,function(i){return n=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===Tl.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),r?(e.assign(r,n),[2,r]):[2,e.register(n)]})})},t}(),de={};de.toRGBA8=function(t){var e=t.width,r=t.height;if(t.tabs.acTL==null)return[de.toRGBA8.decodeImage(t.data,e,r,t).buffer];var n=[];t.frames[0].data==null&&(t.frames[0].data=t.data);for(var i=e*r*4,o=new Uint8Array(i),a=new Uint8Array(i),s=new Uint8Array(i),l=0;l<t.frames.length;l++){var c=t.frames[l],d=c.rect.x,h=c.rect.y,f=c.rect.width,p=c.rect.height,g=de.toRGBA8.decodeImage(c.data,f,p,t);if(l!=0)for(var m=0;m<i;m++)s[m]=o[m];if(c.blend==0?de._copyTile(g,f,p,o,e,r,d,h,0):c.blend==1&&de._copyTile(g,f,p,o,e,r,d,h,1),n.push(o.buffer.slice(0)),c.dispose!=0){if(c.dispose==1)de._copyTile(a,f,p,o,e,r,d,h,0);else if(c.dispose==2)for(var m=0;m<i;m++)o[m]=s[m]}}return n};de.toRGBA8.decodeImage=function(t,e,r,n){var i=e*r,o=de.decode._getBPP(n),a=Math.ceil(e*o/8),s=new Uint8Array(i*4),l=new Uint32Array(s.buffer),c=n.ctype,d=n.depth,h=de._bin.readUshort;if(c==6){var f=i<<2;if(d==8)for(var p=0;p<f;p+=4)s[p]=t[p],s[p+1]=t[p+1],s[p+2]=t[p+2],s[p+3]=t[p+3];if(d==16)for(var p=0;p<f;p++)s[p]=t[p<<1]}else if(c==2){var g=n.tabs.tRNS;if(g==null){if(d==8)for(var p=0;p<i;p++){var m=p*3;l[p]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m]}if(d==16)for(var p=0;p<i;p++){var m=p*6;l[p]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m]}}else{var y=g[0],v=g[1],b=g[2];if(d==8)for(var p=0;p<i;p++){var x=p<<2,m=p*3;l[p]=255<<24|t[m+2]<<16|t[m+1]<<8|t[m],t[m]==y&&t[m+1]==v&&t[m+2]==b&&(s[x+3]=0)}if(d==16)for(var p=0;p<i;p++){var x=p<<2,m=p*6;l[p]=255<<24|t[m+4]<<16|t[m+2]<<8|t[m],h(t,m)==y&&h(t,m+2)==v&&h(t,m+4)==b&&(s[x+3]=0)}}}else if(c==3){var w=n.tabs.PLTE,S=n.tabs.tRNS,k=S?S.length:0;if(d==1)for(var C=0;C<r;C++)for(var P=C*a,E=C*e,p=0;p<e;p++){var x=E+p<<2,R=t[P+(p>>3)]>>7-((p&7)<<0)&1,N=3*R;s[x]=w[N],s[x+1]=w[N+1],s[x+2]=w[N+2],s[x+3]=R<k?S[R]:255}if(d==2)for(var C=0;C<r;C++)for(var P=C*a,E=C*e,p=0;p<e;p++){var x=E+p<<2,R=t[P+(p>>2)]>>6-((p&3)<<1)&3,N=3*R;s[x]=w[N],s[x+1]=w[N+1],s[x+2]=w[N+2],s[x+3]=R<k?S[R]:255}if(d==4)for(var C=0;C<r;C++)for(var P=C*a,E=C*e,p=0;p<e;p++){var x=E+p<<2,R=t[P+(p>>1)]>>4-((p&1)<<2)&15,N=3*R;s[x]=w[N],s[x+1]=w[N+1],s[x+2]=w[N+2],s[x+3]=R<k?S[R]:255}if(d==8)for(var p=0;p<i;p++){var x=p<<2,R=t[p],N=3*R;s[x]=w[N],s[x+1]=w[N+1],s[x+2]=w[N+2],s[x+3]=R<k?S[R]:255}}else if(c==4){if(d==8)for(var p=0;p<i;p++){var x=p<<2,T=p<<1,D=t[T];s[x]=D,s[x+1]=D,s[x+2]=D,s[x+3]=t[T+1]}if(d==16)for(var p=0;p<i;p++){var x=p<<2,T=p<<2,D=t[T];s[x]=D,s[x+1]=D,s[x+2]=D,s[x+3]=t[T+2]}}else if(c==0)for(var y=n.tabs.tRNS?n.tabs.tRNS:-1,C=0;C<r;C++){var _=C*a,G=C*e;if(d==1)for(var U=0;U<e;U++){var D=255*(t[_+(U>>>3)]>>>7-(U&7)&1),O=D==y*255?0:255;l[G+U]=O<<24|D<<16|D<<8|D}else if(d==2)for(var U=0;U<e;U++){var D=85*(t[_+(U>>>2)]>>>6-((U&3)<<1)&3),O=D==y*85?0:255;l[G+U]=O<<24|D<<16|D<<8|D}else if(d==4)for(var U=0;U<e;U++){var D=17*(t[_+(U>>>1)]>>>4-((U&1)<<2)&15),O=D==y*17?0:255;l[G+U]=O<<24|D<<16|D<<8|D}else if(d==8)for(var U=0;U<e;U++){var D=t[_+U],O=D==y?0:255;l[G+U]=O<<24|D<<16|D<<8|D}else if(d==16)for(var U=0;U<e;U++){var D=t[_+(U<<1)],O=h(t,_+(U<<p))==y?0:255;l[G+U]=O<<24|D<<16|D<<8|D}}return s};de.decode=function(t){for(var e=new Uint8Array(t),r=8,n=de._bin,i=n.readUshort,o=n.readUint,a={tabs:{},frames:[]},s=new Uint8Array(e.length),l=0,c,d=0,h=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(e[f]!=h[f])throw"The input is not a PNG file!";for(;r<e.length;){var p=n.readUint(e,r);r+=4;var g=n.readASCII(e,r,4);if(r+=4,g=="IHDR")de.decode._IHDR(e,r,a);else if(g=="IDAT"){for(var f=0;f<p;f++)s[l+f]=e[r+f];l+=p}else if(g=="acTL")a.tabs[g]={num_frames:o(e,r),num_plays:o(e,r+4)},c=new Uint8Array(e.length);else if(g=="fcTL"){if(d!=0){var m=a.frames[a.frames.length-1];m.data=de.decode._decompress(a,c.slice(0,d),m.rect.width,m.rect.height),d=0}var y={x:o(e,r+12),y:o(e,r+16),width:o(e,r+4),height:o(e,r+8)},v=i(e,r+22);v=i(e,r+20)/(v==0?100:v);var b={rect:y,delay:Math.round(v*1e3),dispose:e[r+24],blend:e[r+25]};a.frames.push(b)}else if(g=="fdAT"){for(var f=0;f<p-4;f++)c[d+f]=e[r+f+4];d+=p-4}else if(g=="pHYs")a.tabs[g]=[n.readUint(e,r),n.readUint(e,r+4),e[r+8]];else if(g=="cHRM"){a.tabs[g]=[];for(var f=0;f<8;f++)a.tabs[g].push(n.readUint(e,r+f*4))}else if(g=="tEXt"){a.tabs[g]==null&&(a.tabs[g]={});var x=n.nextZero(e,r),w=n.readASCII(e,r,x-r),S=n.readASCII(e,x+1,r+p-x-1);a.tabs[g][w]=S}else if(g=="iTXt"){a.tabs[g]==null&&(a.tabs[g]={});var x=0,k=r;x=n.nextZero(e,k);var w=n.readASCII(e,k,x-k);k=x+1,e[k],e[k+1],k+=2,x=n.nextZero(e,k),n.readASCII(e,k,x-k),k=x+1,x=n.nextZero(e,k),n.readUTF8(e,k,x-k),k=x+1;var S=n.readUTF8(e,k,p-(k-r));a.tabs[g][w]=S}else if(g=="PLTE")a.tabs[g]=n.readBytes(e,r,p);else if(g=="hIST"){var C=a.tabs.PLTE.length/3;a.tabs[g]=[];for(var f=0;f<C;f++)a.tabs[g].push(i(e,r+f*2))}else if(g=="tRNS")a.ctype==3?a.tabs[g]=n.readBytes(e,r,p):a.ctype==0?a.tabs[g]=i(e,r):a.ctype==2&&(a.tabs[g]=[i(e,r),i(e,r+2),i(e,r+4)]);else if(g=="gAMA")a.tabs[g]=n.readUint(e,r)/1e5;else if(g=="sRGB")a.tabs[g]=e[r];else if(g=="bKGD")a.ctype==0||a.ctype==4?a.tabs[g]=[i(e,r)]:a.ctype==2||a.ctype==6?a.tabs[g]=[i(e,r),i(e,r+2),i(e,r+4)]:a.ctype==3&&(a.tabs[g]=e[r]);else if(g=="IEND")break;r+=p,n.readUint(e,r),r+=4}if(d!=0){var m=a.frames[a.frames.length-1];m.data=de.decode._decompress(a,c.slice(0,d),m.rect.width,m.rect.height),d=0}return a.data=de.decode._decompress(a,s,a.width,a.height),delete a.compress,delete a.interlace,delete a.filter,a};de.decode._decompress=function(t,e,r,n){var i=de.decode._getBPP(t),o=Math.ceil(r*i/8),a=new Uint8Array((o+1+t.interlace)*n);return e=de.decode._inflate(e,a),t.interlace==0?e=de.decode._filterZero(e,t,0,r,n):t.interlace==1&&(e=de.decode._readInterlace(e,t)),e};de.decode._inflate=function(t,e){var r=de.inflateRaw(new Uint8Array(t.buffer,2,t.length-6),e);return r};de.inflateRaw=function(){var t={};return t.H={},t.H.N=function(e,r){var n=Uint8Array,i=0,o=0,a=0,s=0,l=0,c=0,d=0,h=0,f=0,p,g;if(e[0]==3&&e[1]==0)return r||new n(0);var m=t.H,y=m.b,v=m.e,b=m.R,x=m.n,w=m.A,S=m.Z,k=m.m,C=r==null;for(C&&(r=new n(e.length>>>2<<3));i==0;){if(i=y(e,f,1),o=y(e,f+1,2),f+=3,o==0){f&7&&(f+=8-(f&7));var P=(f>>>3)+4,E=e[P-4]|e[P-3]<<8;C&&(r=t.H.W(r,h+E)),r.set(new n(e.buffer,e.byteOffset+P,E),h),f=P+E<<3,h+=E;continue}if(C&&(r=t.H.W(r,h+(1<<17))),o==1&&(p=k.J,g=k.h,c=511,d=31),o==2){a=v(e,f,5)+257,s=v(e,f+5,5)+1,l=v(e,f+10,4)+4,f+=14;for(var R=1,N=0;N<38;N+=2)k.Q[N]=0,k.Q[N+1]=0;for(var N=0;N<l;N++){var T=v(e,f+N*3,3);k.Q[(k.X[N]<<1)+1]=T,T>R&&(R=T)}f+=3*l,x(k.Q,R),w(k.Q,R,k.u),p=k.w,g=k.d,f=b(k.u,(1<<R)-1,a+s,e,f,k.v);var D=m.V(k.v,0,a,k.C);c=(1<<D)-1;var _=m.V(k.v,a,s,k.D);d=(1<<_)-1,x(k.C,D),w(k.C,D,p),x(k.D,_),w(k.D,_,g)}for(;;){var G=p[S(e,f)&c];f+=G&15;var U=G>>>4;if(!(U>>>8))r[h++]=U;else{if(U==256)break;var O=h+U-254;if(U>264){var W=k.q[U-257];O=h+(W>>>3)+v(e,f,W&7),f+=W&7}var A=g[S(e,f)&d];f+=A&15;var q=A>>>4,B=k.c[q],V=(B>>>4)+y(e,f,B&15);for(f+=B&15;h<O;)r[h]=r[h++-V],r[h]=r[h++-V],r[h]=r[h++-V],r[h]=r[h++-V];h=O}}}return r.length==h?r:r.slice(0,h)},t.H.W=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(n<<1);return i.set(e,0),i},t.H.R=function(e,r,n,i,o,a){for(var s=t.H.e,l=t.H.Z,c=0;c<n;){var d=e[l(i,o)&r];o+=d&15;var h=d>>>4;if(h<=15)a[c]=h,c++;else{var f=0,p=0;h==16?(p=3+s(i,o,2),o+=2,f=a[c-1]):h==17?(p=3+s(i,o,3),o+=3):h==18&&(p=11+s(i,o,7),o+=7);for(var g=c+p;c<g;)a[c]=f,c++}}return o},t.H.V=function(e,r,n,i){for(var o=0,a=0,s=i.length>>>1;a<n;){var l=e[a+r];i[a<<1]=0,i[(a<<1)+1]=l,l>o&&(o=l),a++}for(;a<s;)i[a<<1]=0,i[(a<<1)+1]=0,a++;return o},t.H.n=function(e,r){for(var n=t.H.m,i=e.length,o,a,s,l,c,d=n.j,l=0;l<=r;l++)d[l]=0;for(l=1;l<i;l+=2)d[e[l]]++;var h=n.K;for(o=0,d[0]=0,a=1;a<=r;a++)o=o+d[a-1]<<1,h[a]=o;for(s=0;s<i;s+=2)c=e[s+1],c!=0&&(e[s]=h[c],h[c]++)},t.H.A=function(e,r,n){for(var i=e.length,o=t.H.m,a=o.r,s=0;s<i;s+=2)if(e[s+1]!=0)for(var l=s>>1,c=e[s+1],d=l<<4|c,h=r-c,f=e[s]<<h,p=f+(1<<h);f!=p;){var g=a[f]>>>15-r;n[g]=d,f++}},t.H.l=function(e,r){for(var n=t.H.m.r,i=15-r,o=0;o<e.length;o+=2){var a=e[o]<<r-e[o+1];e[o]=n[a]>>>i}},t.H.M=function(e,r,n){n=n<<(r&7);var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},t.H.I=function(e,r,n){n=n<<(r&7);var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},t.H.e=function(e,r,n){return(e[r>>>3]|e[(r>>>3)+1]<<8)>>>(r&7)&(1<<n)-1},t.H.b=function(e,r,n){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16)>>>(r&7)&(1<<n)-1},t.H.Z=function(e,r){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16)>>>(r&7)},t.H.i=function(e,r){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16|e[(r>>>3)+3]<<24)>>>(r&7)},t.H.m=function(){var e=Uint16Array,r=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var e=t.H.m,r=32768,n=0;n<r;n++){var i=n;i=(i&2863311530)>>>1|(i&1431655765)<<1,i=(i&3435973836)>>>2|(i&858993459)<<2,i=(i&4042322160)>>>4|(i&252645135)<<4,i=(i&4278255360)>>>8|(i&16711935)<<8,e.r[n]=(i>>>16|i<<16)>>>17}function o(a,s,l){for(;s--!=0;)a.push(0,l)}for(var n=0;n<32;n++)e.q[n]=e.S[n]<<3|e.T[n],e.c[n]=e.p[n]<<4|e.z[n];o(e._,144,8),o(e._,112,9),o(e._,24,7),o(e._,8,8),t.H.n(e._,9),t.H.A(e._,9,e.J),t.H.l(e._,9),o(e.$,32,5),t.H.n(e.$,5),t.H.A(e.$,5,e.h),t.H.l(e.$,5),o(e.Q,19,0),o(e.C,286,0),o(e.D,30,0),o(e.v,320,0)}(),t.H.N}();de.decode._readInterlace=function(t,e){for(var r=e.width,n=e.height,i=de.decode._getBPP(e),o=i>>3,a=Math.ceil(r*i/8),s=new Uint8Array(n*a),l=0,c=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],p=0;p<7;){for(var g=h[p],m=f[p],y=0,v=0,b=c[p];b<n;)b+=g,v++;for(var x=d[p];x<r;)x+=m,y++;var w=Math.ceil(y*i/8);de.decode._filterZero(t,e,l,y,v);for(var S=0,k=c[p];k<n;){for(var C=d[p],P=l+S*w<<3;C<r;){if(i==1){var E=t[P>>3];E=E>>7-(P&7)&1,s[k*a+(C>>3)]|=E<<7-((C&7)<<0)}if(i==2){var E=t[P>>3];E=E>>6-(P&7)&3,s[k*a+(C>>2)]|=E<<6-((C&3)<<1)}if(i==4){var E=t[P>>3];E=E>>4-(P&7)&15,s[k*a+(C>>1)]|=E<<4-((C&1)<<2)}if(i>=8)for(var R=k*a+C*o,N=0;N<o;N++)s[R+N]=t[(P>>3)+N];P+=i,C+=m}S++,k+=g}y*v!=0&&(l+=v*(1+w)),p=p+1}return s};de.decode._getBPP=function(t){var e=[1,null,3,1,2,null,4][t.ctype];return e*t.depth};de.decode._filterZero=function(t,e,r,n,i){var o=de.decode._getBPP(e),a=Math.ceil(n*o/8),s=de.decode._paeth;o=Math.ceil(o/8);var l=0,c=1,d=t[r],h=0;if(d>1&&(t[r]=[0,0,1][d-2]),d==3)for(h=o;h<a;h++)t[h+1]=t[h+1]+(t[h+1-o]>>>1)&255;for(var f=0;f<i;f++)if(l=r+f*a,c=l+f+1,d=t[c-1],h=0,d==0)for(;h<a;h++)t[l+h]=t[c+h];else if(d==1){for(;h<o;h++)t[l+h]=t[c+h];for(;h<a;h++)t[l+h]=t[c+h]+t[l+h-o]}else if(d==2)for(;h<a;h++)t[l+h]=t[c+h]+t[l+h-a];else if(d==3){for(;h<o;h++)t[l+h]=t[c+h]+(t[l+h-a]>>>1);for(;h<a;h++)t[l+h]=t[c+h]+(t[l+h-a]+t[l+h-o]>>>1)}else{for(;h<o;h++)t[l+h]=t[c+h]+s(0,t[l+h-a],0);for(;h<a;h++)t[l+h]=t[c+h]+s(t[l+h-o],t[l+h-a],t[l+h-o-a])}return t};de.decode._paeth=function(t,e,r){var n=t+e-r,i=n-t,o=n-e,a=n-r;return i*i<=o*o&&i*i<=a*a?t:o*o<=a*a?e:r};de.decode._IHDR=function(t,e,r){var n=de._bin;r.width=n.readUint(t,e),e+=4,r.height=n.readUint(t,e),e+=4,r.depth=t[e],e++,r.ctype=t[e],e++,r.compress=t[e],e++,r.filter=t[e],e++,r.interlace=t[e],e++};de._bin={nextZero:function(t,e){for(;t[e]!=0;)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,r){t[e]=r>>8&255,t[e+1]=r&255},readUint:function(t,e){return t[e]*(256*256*256)+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255},readASCII:function(t,e,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(t[e+i]);return n},writeASCII:function(t,e,r){for(var n=0;n<r.length;n++)t[e+n]=r.charCodeAt(n)},readBytes:function(t,e,r){for(var n=[],i=0;i<r;i++)n.push(t[e+i]);return n},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,e,r){for(var n="",i,o=0;o<r;o++)n+="%"+de._bin.pad(t[e+o].toString(16));try{i=decodeURIComponent(n)}catch{return de._bin.readASCII(t,e,r)}return i}};de._copyTile=function(t,e,r,n,i,o,a,s,l){for(var c=Math.min(e,i),d=Math.min(r,o),h=0,f=0,p=0;p<d;p++)for(var g=0;g<c;g++)if(a>=0&&s>=0?(h=p*e+g<<2,f=(s+p)*i+a+g<<2):(h=(-s+p)*e-a+g<<2,f=p*i+g<<2),l==0)n[f]=t[h],n[f+1]=t[h+1],n[f+2]=t[h+2],n[f+3]=t[h+3];else if(l==1){var m=t[h+3]*.00392156862745098,y=t[h]*m,v=t[h+1]*m,b=t[h+2]*m,x=n[f+3]*(1/255),w=n[f]*x,S=n[f+1]*x,k=n[f+2]*x,C=1-m,P=m+x*C,E=P==0?0:1/P;n[f+3]=255*P,n[f+0]=(y+w*C)*E,n[f+1]=(v+S*C)*E,n[f+2]=(b+k*C)*E}else if(l==2){var m=t[h+3],y=t[h],v=t[h+1],b=t[h+2],x=n[f+3],w=n[f],S=n[f+1],k=n[f+2];m==x&&y==w&&v==S&&b==k?(n[f]=0,n[f+1]=0,n[f+2]=0,n[f+3]=0):(n[f]=y,n[f+1]=v,n[f+2]=b,n[f+3]=m)}else if(l==3){var m=t[h+3],y=t[h],v=t[h+1],b=t[h+2],x=n[f+3],w=n[f],S=n[f+1],k=n[f+2];if(m==x&&y==w&&v==S&&b==k)continue;if(m<220&&x>20)return!1}return!0};de.encode=function(t,e,r,n,i,o,a){n==null&&(n=0),a==null&&(a=!1);var s=de.encode.compress(t,e,r,n,[!1,!1,!1,0,a]);return de.encode.compressPNG(s,-1),de.encode._main(s,e,r,i,o)};de.encodeLL=function(t,e,r,n,i,o,a,s){for(var l={ctype:0+(n==1?0:2)+(i==0?0:4),depth:o,frames:[]},c=(n+i)*o,d=c*e,h=0;h<t.length;h++)l.frames.push({rect:{x:0,y:0,width:e,height:r},img:new Uint8Array(t[h]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(d/8)});de.encode.compressPNG(l,0,!0);var f=de.encode._main(l,e,r,a,s);return f};de.encode._main=function(t,e,r,n,i){i==null&&(i={});var o=de.crc.crc,a=de._bin.writeUint,s=de._bin.writeUshort,l=de._bin.writeASCII,c=8,d=t.frames.length>1,h=!1,f=33+(d?20:0);if(i.sRGB!=null&&(f+=13),i.pHYs!=null&&(f+=21),t.ctype==3){for(var p=t.plte.length,g=0;g<p;g++)t.plte[g]>>>24!=255&&(h=!0);f+=8+p*3+4+(h?8+p*1+4:0)}for(var m=0;m<t.frames.length;m++){var y=t.frames[m];d&&(f+=38),f+=y.cimg.length+12,m!=0&&(f+=4)}f+=12;for(var v=new Uint8Array(f),b=[137,80,78,71,13,10,26,10],g=0;g<8;g++)v[g]=b[g];if(a(v,c,13),c+=4,l(v,c,"IHDR"),c+=4,a(v,c,e),c+=4,a(v,c,r),c+=4,v[c]=t.depth,c++,v[c]=t.ctype,c++,v[c]=0,c++,v[c]=0,c++,v[c]=0,c++,a(v,c,o(v,c-17,17)),c+=4,i.sRGB!=null&&(a(v,c,1),c+=4,l(v,c,"sRGB"),c+=4,v[c]=i.sRGB,c++,a(v,c,o(v,c-5,5)),c+=4),i.pHYs!=null&&(a(v,c,9),c+=4,l(v,c,"pHYs"),c+=4,a(v,c,i.pHYs[0]),c+=4,a(v,c,i.pHYs[1]),c+=4,v[c]=i.pHYs[2],c++,a(v,c,o(v,c-13,13)),c+=4),d&&(a(v,c,8),c+=4,l(v,c,"acTL"),c+=4,a(v,c,t.frames.length),c+=4,a(v,c,i.loop!=null?i.loop:0),c+=4,a(v,c,o(v,c-12,12)),c+=4),t.ctype==3){var p=t.plte.length;a(v,c,p*3),c+=4,l(v,c,"PLTE"),c+=4;for(var g=0;g<p;g++){var x=g*3,w=t.plte[g],S=w&255,k=w>>>8&255,C=w>>>16&255;v[c+x+0]=S,v[c+x+1]=k,v[c+x+2]=C}if(c+=p*3,a(v,c,o(v,c-p*3-4,p*3+4)),c+=4,h){a(v,c,p),c+=4,l(v,c,"tRNS"),c+=4;for(var g=0;g<p;g++)v[c+g]=t.plte[g]>>>24&255;c+=p,a(v,c,o(v,c-p-4,p+4)),c+=4}}for(var P=0,m=0;m<t.frames.length;m++){var y=t.frames[m];d&&(a(v,c,26),c+=4,l(v,c,"fcTL"),c+=4,a(v,c,P++),c+=4,a(v,c,y.rect.width),c+=4,a(v,c,y.rect.height),c+=4,a(v,c,y.rect.x),c+=4,a(v,c,y.rect.y),c+=4,s(v,c,n[m]),c+=2,s(v,c,1e3),c+=2,v[c]=y.dispose,c++,v[c]=y.blend,c++,a(v,c,o(v,c-30,30)),c+=4);var E=y.cimg,p=E.length;a(v,c,p+(m==0?0:4)),c+=4;var R=c;l(v,c,m==0?"IDAT":"fdAT"),c+=4,m!=0&&(a(v,c,P++),c+=4),v.set(E,c),c+=p,a(v,c,o(v,R,c-R)),c+=4}return a(v,c,0),c+=4,l(v,c,"IEND"),c+=4,a(v,c,o(v,c-4,4)),c+=4,v.buffer};de.encode.compressPNG=function(t,e,r){for(var n=0;n<t.frames.length;n++){var i=t.frames[n];i.rect.width;var o=i.rect.height,a=new Uint8Array(o*i.bpl+o);i.cimg=de.encode._filterZero(i.img,o,i.bpp,i.bpl,a,e,r)}};de.encode.compress=function(t,e,r,n,i){for(var o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],d=6,h=8,f=255,p=0;p<t.length;p++)for(var g=new Uint8Array(t[p]),m=g.length,y=0;y<m;y+=4)f&=g[y+3];var v=f!=255,b=de.encode.framize(t,e,r,o,a,s),x={},w=[],S=[];if(n!=0){for(var k=[],y=0;y<b.length;y++)k.push(b[y].img.buffer);for(var C=de.encode.concatRGBA(k),P=de.quantize(C,n),E=0,R=new Uint8Array(P.abuf),y=0;y<b.length;y++){var N=b[y].img,T=N.length;S.push(new Uint8Array(P.inds.buffer,E>>2,T>>2));for(var p=0;p<T;p+=4)N[p]=R[E+p],N[p+1]=R[E+p+1],N[p+2]=R[E+p+2],N[p+3]=R[E+p+3];E+=T}for(var y=0;y<P.plte.length;y++)w.push(P.plte[y].est.rgba)}else for(var p=0;p<b.length;p++){var D=b[p],_=new Uint32Array(D.img.buffer),G=D.rect.width,m=_.length,U=new Uint8Array(m);S.push(U);for(var y=0;y<m;y++){var O=_[y];if(y!=0&&O==_[y-1])U[y]=U[y-1];else if(y>G&&O==_[y-G])U[y]=U[y-G];else{var W=x[O];if(W==null&&(x[O]=W=w.length,w.push(O),w.length>=300))break;U[y]=W}}}var A=w.length;A<=256&&c==!1&&(A<=2?h=1:A<=4?h=2:A<=16?h=4:h=8,h=Math.max(h,l));for(var p=0;p<b.length;p++){var D=b[p];D.rect.x,D.rect.y;var G=D.rect.width,q=D.rect.height,B=D.img;new Uint32Array(B.buffer);var V=4*G,he=4;if(A<=256&&c==!1){V=Math.ceil(h*G/8);for(var ae=new Uint8Array(V*q),ce=S[p],Ae=0;Ae<q;Ae++){var y=Ae*V,Re=Ae*G;if(h==8)for(var ke=0;ke<G;ke++)ae[y+ke]=ce[Re+ke];else if(h==4)for(var ke=0;ke<G;ke++)ae[y+(ke>>1)]|=ce[Re+ke]<<4-(ke&1)*4;else if(h==2)for(var ke=0;ke<G;ke++)ae[y+(ke>>2)]|=ce[Re+ke]<<6-(ke&3)*2;else if(h==1)for(var ke=0;ke<G;ke++)ae[y+(ke>>3)]|=ce[Re+ke]<<7-(ke&7)*1}B=ae,d=3,he=1}else if(v==!1&&b.length==1){for(var ae=new Uint8Array(G*q*3),Ee=G*q,y=0;y<Ee;y++){var N=y*3,Ze=y*4;ae[N]=B[Ze],ae[N+1]=B[Ze+1],ae[N+2]=B[Ze+2]}B=ae,d=2,he=3,V=3*G}D.img=B,D.bpl=V,D.bpp=he}return{ctype:d,depth:h,plte:w,frames:b}};de.encode.framize=function(t,e,r,n,i,o){for(var a=[],s=0;s<t.length;s++){var l=new Uint8Array(t[s]),c=new Uint32Array(l.buffer),d,h=0,f=0,p=e,g=r,m=n?1:0;if(s!=0){for(var y=o||n||s==1||a[s-2].dispose!=0?1:2,v=0,b=1e9,x=0;x<y;x++){for(var D=new Uint8Array(t[s-1-x]),w=new Uint32Array(t[s-1-x]),S=e,k=r,C=-1,P=-1,E=0;E<r;E++)for(var R=0;R<e;R++){var N=E*e+R;c[N]!=w[N]&&(R<S&&(S=R),R>C&&(C=R),E<k&&(k=E),E>P&&(P=E))}C==-1&&(S=k=C=P=0),i&&((S&1)==1&&S--,(k&1)==1&&k--);var T=(C-S+1)*(P-k+1);T<b&&(b=T,v=x,h=S,f=k,p=C-S+1,g=P-k+1)}var D=new Uint8Array(t[s-1-v]);v==1&&(a[s-1].dispose=2),d=new Uint8Array(p*g*4),de._copyTile(D,e,r,d,p,g,-h,-f,0),m=de._copyTile(l,e,r,d,p,g,-h,-f,3)?1:0,m==1?de.encode._prepareDiff(l,e,r,d,{x:h,y:f,width:p,height:g}):de._copyTile(l,e,r,d,p,g,-h,-f,0)}else d=l.slice(0);a.push({rect:{x:h,y:f,width:p,height:g},img:d,blend:m,dispose:0})}if(n)for(var s=0;s<a.length;s++){var _=a[s];if(_.blend!=1){var G=_.rect,U=a[s-1].rect,O=Math.min(G.x,U.x),W=Math.min(G.y,U.y),A=Math.max(G.x+G.width,U.x+U.width),q=Math.max(G.y+G.height,U.y+U.height),B={x:O,y:W,width:A-O,height:q-W};a[s-1].dispose=1,s-1!=0&&de.encode._updateFrame(t,e,r,a,s-1,B,i),de.encode._updateFrame(t,e,r,a,s,B,i)}}var V=0;if(t.length!=1)for(var N=0;N<a.length;N++){var _=a[N];V+=_.rect.width*_.rect.height}return a};de.encode._updateFrame=function(t,e,r,n,i,o,a){for(var s=Uint8Array,l=Uint32Array,c=new s(t[i-1]),d=new l(t[i-1]),h=i+1<t.length?new s(t[i+1]):null,f=new s(t[i]),p=new l(f.buffer),g=e,m=r,y=-1,v=-1,b=0;b<o.height;b++)for(var x=0;x<o.width;x++){var w=o.x+x,S=o.y+b,k=S*e+w,C=p[k];C==0||n[i-1].dispose==0&&d[k]==C&&(h==null||h[k*4+3]!=0)||(w<g&&(g=w),w>y&&(y=w),S<m&&(m=S),S>v&&(v=S))}y==-1&&(g=m=y=v=0),a&&((g&1)==1&&g--,(m&1)==1&&m--),o={x:g,y:m,width:y-g+1,height:v-m+1};var P=n[i];P.rect=o,P.blend=1,P.img=new Uint8Array(o.width*o.height*4),n[i-1].dispose==0?(de._copyTile(c,e,r,P.img,o.width,o.height,-o.x,-o.y,0),de.encode._prepareDiff(f,e,r,P.img,o)):de._copyTile(f,e,r,P.img,o.width,o.height,-o.x,-o.y,0)};de.encode._prepareDiff=function(t,e,r,n,i){de._copyTile(t,e,r,n,i.width,i.height,-i.x,-i.y,2)};de.encode._filterZero=function(t,e,r,n,i,o,a){var s=[],l=[0,1,2,3,4];o!=-1?l=[o]:(e*n>5e5||r==1)&&(l=[0]);var c;a&&(c={level:0});for(var d=a&&UZIP!=null?UZIP:r0,h=0;h<l.length;h++){for(var f=0;f<e;f++)de.encode._filterLine(i,t,f,n,r,l[h]);s.push(d.deflate(i,c))}for(var p,g=1e9,h=0;h<s.length;h++)s[h].length<g&&(p=h,g=s[h].length);return s[p]};de.encode._filterLine=function(t,e,r,n,i,o){var a=r*n,s=a+r,l=de.decode._paeth;if(t[s]=o,s++,o==0)if(n<500)for(var c=0;c<n;c++)t[s+c]=e[a+c];else t.set(new Uint8Array(e.buffer,a,n),s);else if(o==1){for(var c=0;c<i;c++)t[s+c]=e[a+c];for(var c=i;c<n;c++)t[s+c]=e[a+c]-e[a+c-i]+256&255}else if(r==0){for(var c=0;c<i;c++)t[s+c]=e[a+c];if(o==2)for(var c=i;c<n;c++)t[s+c]=e[a+c];if(o==3)for(var c=i;c<n;c++)t[s+c]=e[a+c]-(e[a+c-i]>>1)+256&255;if(o==4)for(var c=i;c<n;c++)t[s+c]=e[a+c]-l(e[a+c-i],0,0)+256&255}else{if(o==2)for(var c=0;c<n;c++)t[s+c]=e[a+c]+256-e[a+c-n]&255;if(o==3){for(var c=0;c<i;c++)t[s+c]=e[a+c]+256-(e[a+c-n]>>1)&255;for(var c=i;c<n;c++)t[s+c]=e[a+c]+256-(e[a+c-n]+e[a+c-i]>>1)&255}if(o==4){for(var c=0;c<i;c++)t[s+c]=e[a+c]+256-l(0,e[a+c-n],0)&255;for(var c=i;c<n;c++)t[s+c]=e[a+c]+256-l(e[a+c-i],e[a+c-n],e[a+c-i-n])&255}}};de.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var r=e,n=0;n<8;n++)r&1?r=3988292384^r>>>1:r=r>>>1;t[e]=r}return t}(),update:function(t,e,r,n){for(var i=0;i<n;i++)t=de.crc.table[(t^e[r+i])&255]^t>>>8;return t},crc:function(t,e,r){return de.crc.update(4294967295,t,e,r)^4294967295}};de.quantize=function(t,e){var r=new Uint8Array(t),n=r.slice(0),i=new Uint32Array(n.buffer),o=de.quantize.getKDtree(n,e),a=o[0],s=o[1];de.quantize.planeDst;for(var l=r,c=i,d=l.length,h=new Uint8Array(r.length>>2),f=0;f<d;f+=4){var p=l[f]*.00392156862745098,g=l[f+1]*(1/255),m=l[f+2]*(1/255),y=l[f+3]*(1/255),v=de.quantize.getNearest(a,p,g,m,y);h[f>>2]=v.ind,c[f>>2]=v.est.rgba}return{abuf:n.buffer,inds:h,plte:s}};de.quantize.getKDtree=function(t,e,r){r==null&&(r=1e-4);var n=new Uint32Array(t.buffer),i={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=de.quantize.stats(t,i.i0,i.i1),i.est=de.quantize.estats(i.bst);for(var o=[i];o.length<e;){for(var a=0,s=0,l=0;l<o.length;l++)o[l].est.L>a&&(a=o[l].est.L,s=l);if(a<r)break;var c=o[s],d=de.quantize.splitPixels(t,n,c.i0,c.i1,c.est.e,c.est.eMq255),h=c.i0>=d||c.i1<=d;if(h){c.est.L=0;continue}var f={i0:c.i0,i1:d,bst:null,est:null,tdst:0,left:null,right:null};f.bst=de.quantize.stats(t,f.i0,f.i1),f.est=de.quantize.estats(f.bst);var p={i0:d,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};p.bst={R:[],m:[],N:c.bst.N-f.bst.N};for(var l=0;l<16;l++)p.bst.R[l]=c.bst.R[l]-f.bst.R[l];for(var l=0;l<4;l++)p.bst.m[l]=c.bst.m[l]-f.bst.m[l];p.est=de.quantize.estats(p.bst),c.left=f,c.right=p,o[s]=f,o.push(p)}o.sort(function(g,m){return m.bst.N-g.bst.N});for(var l=0;l<o.length;l++)o[l].ind=l;return[i,o]};de.quantize.getNearest=function(t,e,r,n,i){if(t.left==null)return t.tdst=de.quantize.dist(t.est.q,e,r,n,i),t;var o=de.quantize.planeDst(t.est,e,r,n,i),a=t.left,s=t.right;o>0&&(a=t.right,s=t.left);var l=de.quantize.getNearest(a,e,r,n,i);if(l.tdst<=o*o)return l;var c=de.quantize.getNearest(s,e,r,n,i);return c.tdst<l.tdst?c:l};de.quantize.planeDst=function(t,e,r,n,i){var o=t.e;return o[0]*e+o[1]*r+o[2]*n+o[3]*i-t.eMq};de.quantize.dist=function(t,e,r,n,i){var o=e-t[0],a=r-t[1],s=n-t[2],l=i-t[3];return o*o+a*a+s*s+l*l};de.quantize.splitPixels=function(t,e,r,n,i,o){var a=de.quantize.vecDot;for(n-=4;r<n;){for(;a(t,r,i)<=o;)r+=4;for(;a(t,n,i)>o;)n-=4;if(r>=n)break;var s=e[r>>2];e[r>>2]=e[n>>2],e[n>>2]=s,r+=4,n-=4}for(;a(t,r,i)>o;)r-=4;return r+4};de.quantize.vecDot=function(t,e,r){return t[e]*r[0]+t[e+1]*r[1]+t[e+2]*r[2]+t[e+3]*r[3]};de.quantize.stats=function(t,e,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=r-e>>2,a=e;a<r;a+=4){var s=t[a]*.00392156862745098,l=t[a+1]*(1/255),c=t[a+2]*(1/255),d=t[a+3]*(1/255);i[0]+=s,i[1]+=l,i[2]+=c,i[3]+=d,n[0]+=s*s,n[1]+=s*l,n[2]+=s*c,n[3]+=s*d,n[5]+=l*l,n[6]+=l*c,n[7]+=l*d,n[10]+=c*c,n[11]+=c*d,n[15]+=d*d}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:o}};de.quantize.estats=function(t){var e=t.R,r=t.m,n=t.N,i=r[0],o=r[1],a=r[2],s=r[3],l=n==0?0:1/n,c=[e[0]-i*i*l,e[1]-i*o*l,e[2]-i*a*l,e[3]-i*s*l,e[4]-o*i*l,e[5]-o*o*l,e[6]-o*a*l,e[7]-o*s*l,e[8]-a*i*l,e[9]-a*o*l,e[10]-a*a*l,e[11]-a*s*l,e[12]-s*i*l,e[13]-s*o*l,e[14]-s*a*l,e[15]-s*s*l],d=c,h=de.M4,f=[.5,.5,.5,.5],p=0,g=0;if(n!=0)for(var m=0;m<10&&(f=h.multVec(d,f),g=Math.sqrt(h.dot(f,f)),f=h.sml(1/g,f),!(Math.abs(g-p)<1e-9));m++)p=g;var y=[i*l,o*l,a*l,s*l],v=h.dot(h.sml(255,y),f);return{Cov:c,q:y,e:f,L:p,eMq255:v,eMq:h.dot(f,y),rgba:(Math.round(255*y[3])<<24|Math.round(255*y[2])<<16|Math.round(255*y[1])<<8|Math.round(255*y[0])<<0)>>>0}};de.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}};de.encode.concatRGBA=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r].byteLength;for(var n=new Uint8Array(e),i=0,r=0;r<t.length;r++){for(var o=new Uint8Array(t[r]),a=o.length,s=0;s<a;s+=4){var l=o[s],c=o[s+1],d=o[s+2],h=o[s+3];h==0&&(l=c=d=0),n[i+s]=l,n[i+s+1]=c,n[i+s+2]=d,n[i+s+3]=h}i+=a}return n.buffer};var y$=function(t){if(t===0)return Ea.Greyscale;if(t===2)return Ea.Truecolour;if(t===3)return Ea.IndexedColour;if(t===4)return Ea.GreyscaleWithAlpha;if(t===6)return Ea.TruecolourWithAlpha;throw new Error("Unknown color type: "+t)},b$=function(t){for(var e=Math.floor(t.length/4),r=new Uint8Array(e*3),n=new Uint8Array(e*1),i=0,o=0,a=0;i<t.length;)r[o++]=t[i++],r[o++]=t[i++],r[o++]=t[i++],n[a++]=t[i++];return{rgbChannel:r,alphaChannel:n}},Ea;(function(t){t.Greyscale="Greyscale",t.Truecolour="Truecolour",t.IndexedColour="IndexedColour",t.GreyscaleWithAlpha="GreyscaleWithAlpha",t.TruecolourWithAlpha="TruecolourWithAlpha"})(Ea||(Ea={}));var x$=function(){function t(e){var r=de.decode(e),n=de.toRGBA8(r);if(n.length>1)throw new Error("Animated PNGs are not supported");var i=new Uint8Array(n[0]),o=b$(i),a=o.rgbChannel,s=o.alphaChannel;this.rgbChannel=a;var l=s.some(function(c){return c<255});l&&(this.alphaChannel=s),this.type=y$(r.ctype),this.width=r.width,this.height=r.height,this.bitsPerComponent=8}return t.load=function(e){return new t(e)},t}(),CT=function(){function t(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return t.for=function(e){return Qe(this,void 0,void 0,function(){var r;return $e(this,function(n){return r=x$.load(e),[2,new t(r)]})})},t.prototype.embedIntoContext=function(e,r){return Qe(this,void 0,void 0,function(){var n,i;return $e(this,function(o){return n=this.embedAlphaChannel(e),i=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),r?(e.assign(r,i),[2,r]):[2,e.register(i)]})})},t.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var r=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(r)}},t}(),jT=function(){function t(e,r,n){this.bytes=e,this.start=r||0,this.pos=this.start,this.end=r&&n?r+n:this.bytes.length}return Object.defineProperty(t.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),t.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},t.prototype.getUint16=function(){var e=this.getByte(),r=this.getByte();return e===-1||r===-1?-1:(e<<8)+r},t.prototype.getInt32=function(){var e=this.getByte(),r=this.getByte(),n=this.getByte(),i=this.getByte();return(e<<24)+(r<<16)+(n<<8)+i},t.prototype.getBytes=function(e,r){r===void 0&&(r=!1);var n=this.bytes,i=this.pos,o=this.end;if(e){var s=i+e;s>o&&(s=o),this.pos=s;var a=n.subarray(i,s);return r?new Uint8ClampedArray(a):a}else{var a=n.subarray(i,o);return r?new Uint8ClampedArray(a):a}},t.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},t.prototype.peekBytes=function(e,r){r===void 0&&(r=!1);var n=this.getBytes(e,r);return this.pos-=n.length,n},t.prototype.skip=function(e){e||(e=1),this.pos+=e},t.prototype.reset=function(){this.pos=this.start},t.prototype.moveStart=function(){this.start=this.pos},t.prototype.makeSubStream=function(e,r){return new t(this.bytes,e,r)},t.prototype.decode=function(){return this.bytes},t}(),w$=new Uint8Array(0),Td=function(){function t(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=w$,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),t.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},t.prototype.getUint16=function(){var e=this.getByte(),r=this.getByte();return e===-1||r===-1?-1:(e<<8)+r},t.prototype.getInt32=function(){var e=this.getByte(),r=this.getByte(),n=this.getByte(),i=this.getByte();return(e<<24)+(r<<16)+(n<<8)+i},t.prototype.getBytes=function(e,r){r===void 0&&(r=!1);var n,i=this.pos;if(e){for(this.ensureBuffer(i+e),n=i+e;!this.eof&&this.bufferLength<n;)this.readBlock();var o=this.bufferLength;n>o&&(n=o)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var a=this.buffer.subarray(i,n);return r&&!(a instanceof Uint8ClampedArray)?new Uint8ClampedArray(a):a},t.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},t.prototype.peekBytes=function(e,r){r===void 0&&(r=!1);var n=this.getBytes(e,r);return this.pos-=n.length,n},t.prototype.skip=function(e){e||(e=1),this.pos+=e},t.prototype.reset=function(){this.pos=0},t.prototype.makeSubStream=function(e,r){for(var n=e+r;this.bufferLength<=n&&!this.eof;)this.readBlock();return new jT(this.buffer,e,r)},t.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},t.prototype.readBlock=function(){throw new In(this.constructor.name,"readBlock")},t.prototype.ensureBuffer=function(e){var r=this.buffer;if(e<=r.byteLength)return r;for(var n=this.minBufferLength;n<e;)n*=2;var i=new Uint8Array(n);return i.set(r),this.buffer=i},t}(),rk=function(t){return t===32||t===9||t===13||t===10},S$=function(t){ye(e,t);function e(r,n){var i=t.call(this,n)||this;return i.stream=r,i.input=new Uint8Array(5),n&&(n=.8*n),i}return e.prototype.readBlock=function(){for(var r=126,n=122,i=-1,o=this.stream,a=o.getByte();rk(a);)a=o.getByte();if(a===i||a===r){this.eof=!0;return}var s=this.bufferLength,l,c;if(a===n){for(l=this.ensureBuffer(s+4),c=0;c<4;++c)l[s+c]=0;this.bufferLength+=4}else{var d=this.input;for(d[0]=a,c=1;c<5;++c){for(a=o.getByte();rk(a);)a=o.getByte();if(d[c]=a,a===i||a===r)break}if(l=this.ensureBuffer(s+c-1),this.bufferLength+=c-1,c<5){for(;c<5;++c)d[c]=117;this.eof=!0}var h=0;for(c=0;c<5;++c)h=h*85+(d[c]-33);for(c=3;c>=0;--c)l[s+c]=h&255,h>>=8}},e}(Td),k$=function(t){ye(e,t);function e(r,n){var i=t.call(this,n)||this;return i.stream=r,i.firstDigit=-1,n&&(n=.5*n),i}return e.prototype.readBlock=function(){var r=8e3,n=this.stream.getBytes(r);if(!n.length){this.eof=!0;return}for(var i=n.length+1>>1,o=this.ensureBuffer(this.bufferLength+i),a=this.bufferLength,s=this.firstDigit,l=0,c=n.length;l<c;l++){var d=n[l],h=void 0;if(d>=48&&d<=57)h=d&15;else if(d>=65&&d<=70||d>=97&&d<=102)h=(d&15)+9;else if(d===62){this.eof=!0;break}else continue;s<0?s=h:(o[a++]=s<<4|h,s=-1)}s>=0&&this.eof&&(o[a++]=s<<4,s=-1),this.firstDigit=s,this.bufferLength=a},e}(Td),nk=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_$=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),C$=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),j$=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],E$=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],T$=function(t){ye(e,t);function e(r,n){var i=t.call(this,n)||this;i.stream=r;var o=r.getByte(),a=r.getByte();if(o===-1||a===-1)throw new Error("Invalid header in flate stream: "+o+", "+a);if((o&15)!==8)throw new Error("Unknown compression method in flate stream: "+o+", "+a);if(((o<<8)+a)%31!==0)throw new Error("Bad FCHECK in flate stream: "+o+", "+a);if(a&32)throw new Error("FDICT bit set in flate stream: "+o+", "+a);return i.codeSize=0,i.codeBuf=0,i}return e.prototype.readBlock=function(){var r,n,i=this.stream,o=this.getBits(3);if(o&1&&(this.eof=!0),o>>=1,o===0){var a=void 0;if((a=i.getByte())===-1)throw new Error("Bad block header in flate stream");var s=a;if((a=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(s|=a<<8,(a=i.getByte())===-1)throw new Error("Bad block header in flate stream");var l=a;if((a=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(l|=a<<8,l!==(~s&65535)&&(s!==0||l!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var c=this.bufferLength;r=this.ensureBuffer(c+s);var d=c+s;if(this.bufferLength=d,s===0)i.peekByte()===-1&&(this.eof=!0);else for(var h=c;h<d;++h){if((a=i.getByte())===-1){this.eof=!0;break}r[h]=a}return}var f,p;if(o===1)f=j$,p=E$;else if(o===2){var g=this.getBits(5)+257,m=this.getBits(5)+1,y=this.getBits(4)+4,v=new Uint8Array(nk.length),b=void 0;for(b=0;b<y;++b)v[nk[b]]=this.getBits(3);var x=this.generateHuffmanTable(v);n=0,b=0;for(var w=g+m,S=new Uint8Array(w),k=void 0,C=void 0,P=void 0;b<w;){var E=this.getCode(x);if(E===16)k=2,C=3,P=n;else if(E===17)k=3,C=3,P=n=0;else if(E===18)k=7,C=11,P=n=0;else{S[b++]=n=E;continue}for(var R=this.getBits(k)+C;R-- >0;)S[b++]=P}f=this.generateHuffmanTable(S.subarray(0,g)),p=this.generateHuffmanTable(S.subarray(g,w))}else throw new Error("Unknown block type in flate stream");r=this.buffer;for(var N=r?r.length:0,T=this.bufferLength;;){var D=this.getCode(f);if(D<256){T+1>=N&&(r=this.ensureBuffer(T+1),N=r.length),r[T++]=D;continue}if(D===256){this.bufferLength=T;return}D-=257,D=_$[D];var _=D>>16;_>0&&(_=this.getBits(_)),n=(D&65535)+_,D=this.getCode(p),D=C$[D],_=D>>16,_>0&&(_=this.getBits(_));var G=(D&65535)+_;T+n>=N&&(r=this.ensureBuffer(T+n),N=r.length);for(var U=0;U<n;++U,++T)r[T]=r[T-G]}},e.prototype.getBits=function(r){for(var n=this.stream,i=this.codeSize,o=this.codeBuf,a;i<r;){if((a=n.getByte())===-1)throw new Error("Bad encoding in flate stream");o|=a<<i,i+=8}return a=o&(1<<r)-1,this.codeBuf=o>>r,this.codeSize=i-=r,a},e.prototype.getCode=function(r){for(var n=this.stream,i=r[0],o=r[1],a=this.codeSize,s=this.codeBuf,l;a<o&&(l=n.getByte())!==-1;)s|=l<<a,a+=8;var c=i[s&(1<<o)-1];typeof i=="number"&&console.log("FLATE:",c);var d=c>>16,h=c&65535;if(d<1||a<d)throw new Error("Bad encoding in flate stream");return this.codeBuf=s>>d,this.codeSize=a-d,h},e.prototype.generateHuffmanTable=function(r){var n=r.length,i=0,o;for(o=0;o<n;++o)r[o]>i&&(i=r[o]);for(var a=1<<i,s=new Int32Array(a),l=1,c=0,d=2;l<=i;++l,c<<=1,d<<=1)for(var h=0;h<n;++h)if(r[h]===l){var f=0,p=c;for(o=0;o<l;++o)f=f<<1|p&1,p>>=1;for(o=f;o<a;o+=d)s[o]=l<<16|h;++c}return[s,i]},e}(Td),R$=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,n)||this;o.stream=r,o.cachedData=0,o.bitsCached=0;for(var a=4096,s={earlyChange:i,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(a),dictionaryLengths:new Uint16Array(a),dictionaryPrevCodes:new Uint16Array(a),currentSequence:new Uint8Array(a),currentSequenceLength:0},l=0;l<256;++l)s.dictionaryValues[l]=l,s.dictionaryLengths[l]=1;return o.lzwState=s,o}return e.prototype.readBlock=function(){var r=512,n=r*2,i=r,o,a,s,l=this.lzwState;if(l){var c=l.earlyChange,d=l.nextCode,h=l.dictionaryValues,f=l.dictionaryLengths,p=l.dictionaryPrevCodes,g=l.codeLength,m=l.prevCode,y=l.currentSequence,v=l.currentSequenceLength,b=0,x=this.bufferLength,w=this.ensureBuffer(this.bufferLength+n);for(o=0;o<r;o++){var S=this.readBits(g),k=v>0;if(!S||S<256)y[0]=S,v=1;else if(S>=258)if(S<d)for(v=f[S],a=v-1,s=S;a>=0;a--)y[a]=h[s],s=p[s];else y[v++]=y[0];else if(S===256){g=9,d=258,v=0;continue}else{this.eof=!0,delete this.lzwState;break}if(k&&(p[d]=m,f[d]=f[m]+1,h[d]=y[0],d++,g=d+c&d+c-1?g:Math.min(Math.log(d+c)/.6931471805599453+1,12)|0),m=S,b+=v,n<b){do n+=i;while(n<b);w=this.ensureBuffer(this.bufferLength+n)}for(a=0;a<v;a++)w[x++]=y[a]}l.nextCode=d,l.codeLength=g,l.prevCode=m,l.currentSequenceLength=v,this.bufferLength=x}},e.prototype.readBits=function(r){for(var n=this.bitsCached,i=this.cachedData;n<r;){var o=this.stream.getByte();if(o===-1)return this.eof=!0,null;i=i<<8|o,n+=8}return this.bitsCached=n-=r,this.cachedData=i,i>>>n&(1<<r)-1},e}(Td),P$=function(t){ye(e,t);function e(r,n){var i=t.call(this,n)||this;return i.stream=r,i}return e.prototype.readBlock=function(){var r=this.stream.getBytes(2);if(!r||r.length<2||r[0]===128){this.eof=!0;return}var n,i=this.bufferLength,o=r[0];if(o<128){if(n=this.ensureBuffer(i+o+1),n[i++]=r[1],o>0){var a=this.stream.getBytes(o);n.set(a,i),i+=o}}else{o=257-o;var s=r[1];n=this.ensureBuffer(i+o+1);for(var l=0;l<o;l++)n[i++]=s}this.bufferLength=i},e}(Td),ik=function(t,e,r){if(e===M.of("FlateDecode"))return new T$(t);if(e===M.of("LZWDecode")){var n=1;if(r instanceof Ye){var i=r.lookup(M.of("EarlyChange"));i instanceof We&&(n=i.asNumber())}return new R$(t,void 0,n)}if(e===M.of("ASCII85Decode"))return new S$(t);if(e===M.of("ASCIIHexDecode"))return new k$(t);if(e===M.of("RunLengthDecode"))return new P$(t);throw new zQ(e.asString())},ET=function(t){var e=t.dict,r=t.contents,n=new jT(r),i=e.lookup(M.of("Filter")),o=e.lookup(M.of("DecodeParms"));if(i instanceof M)n=ik(n,i,o);else if(i instanceof xt)for(var a=0,s=i.size();a<s;a++)n=ik(n,i.lookup(a,M),o&&o.lookupMaybe(a,Ye));else if(i)throw new ap([M,xt],i);return n},O$=function(t){var e=t.MediaBox(),r=e.lookup(2,We).asNumber()-e.lookup(0,We).asNumber(),n=e.lookup(3,We).asNumber()-e.lookup(1,We).asNumber();return{left:0,bottom:0,right:r,top:n}},A$=function(t){return[1,0,0,1,-t.left,-t.bottom]},TT=function(){function t(e,r,n){this.page=e;var i=r??O$(e);this.width=i.right-i.left,this.height=i.top-i.bottom,this.boundingBox=i,this.transformationMatrix=n??A$(i)}return t.for=function(e,r,n){return Qe(this,void 0,void 0,function(){return $e(this,function(i){return[2,new t(e,r,n)]})})},t.prototype.embedIntoContext=function(e,r){return Qe(this,void 0,void 0,function(){var n,i,o,a,s,l,c,d,h,f;return $e(this,function(p){if(n=this.page.normalizedEntries(),i=n.Contents,o=n.Resources,!i)throw new BQ;return a=this.decodeContents(i),s=this.boundingBox,l=s.left,c=s.bottom,d=s.right,h=s.top,f=e.flateStream(a,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[l,c,d,h],Matrix:this.transformationMatrix,Resources:o}),r?(e.assign(r,f),[2,r]):[2,e.register(f)]})})},t.prototype.decodeContents=function(e){for(var r=Uint8Array.of(L.Newline),n=[],i=0,o=e.size();i<o;i++){var a=e.lookup(i,wn),s=void 0;if(a instanceof td)s=ET(a).decode();else if(a instanceof xu)s=a.getUnencodedContents();else throw new UQ(a);n.push(s,r)}return iY.apply(void 0,n)},t}(),Lh=function(t,e){if(t!==void 0)return e[t]},wu;(function(t){t.UseNone="UseNone",t.UseOutlines="UseOutlines",t.UseThumbs="UseThumbs",t.UseOC="UseOC"})(wu||(wu={}));var Su;(function(t){t.L2R="L2R",t.R2L="R2L"})(Su||(Su={}));var ku;(function(t){t.None="None",t.AppDefault="AppDefault"})(ku||(ku={}));var cp;(function(t){t.Simplex="Simplex",t.DuplexFlipShortEdge="DuplexFlipShortEdge",t.DuplexFlipLongEdge="DuplexFlipLongEdge"})(cp||(cp={}));var ok=function(){function t(e){this.dict=e}return t.prototype.lookupBool=function(e){var r=this.dict.lookup(M.of(e));if(r instanceof ed)return r},t.prototype.lookupName=function(e){var r=this.dict.lookup(M.of(e));if(r instanceof M)return r},t.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},t.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},t.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},t.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},t.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},t.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},t.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},t.prototype.Direction=function(){return this.lookupName("Direction")},t.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},t.prototype.Duplex=function(){return this.lookupName("Duplex")},t.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},t.prototype.PrintPageRange=function(){var e=this.dict.lookup(M.of("PrintPageRange"));if(e instanceof xt)return e},t.prototype.NumCopies=function(){var e=this.dict.lookup(M.of("NumCopies"));if(e instanceof We)return e},t.prototype.getHideToolbar=function(){var e,r;return(r=(e=this.HideToolbar())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getHideMenubar=function(){var e,r;return(r=(e=this.HideMenubar())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getHideWindowUI=function(){var e,r;return(r=(e=this.HideWindowUI())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getFitWindow=function(){var e,r;return(r=(e=this.FitWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getCenterWindow=function(){var e,r;return(r=(e=this.CenterWindow())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getDisplayDocTitle=function(){var e,r;return(r=(e=this.DisplayDocTitle())===null||e===void 0?void 0:e.asBoolean())!==null&&r!==void 0?r:!1},t.prototype.getNonFullScreenPageMode=function(){var e,r,n=(e=this.NonFullScreenPageMode())===null||e===void 0?void 0:e.decodeText();return(r=Lh(n,wu))!==null&&r!==void 0?r:wu.UseNone},t.prototype.getReadingDirection=function(){var e,r,n=(e=this.Direction())===null||e===void 0?void 0:e.decodeText();return(r=Lh(n,Su))!==null&&r!==void 0?r:Su.L2R},t.prototype.getPrintScaling=function(){var e,r,n=(e=this.PrintScaling())===null||e===void 0?void 0:e.decodeText();return(r=Lh(n,ku))!==null&&r!==void 0?r:ku.AppDefault},t.prototype.getDuplex=function(){var e,r=(e=this.Duplex())===null||e===void 0?void 0:e.decodeText();return Lh(r,cp)},t.prototype.getPickTrayByPDFSize=function(){var e;return(e=this.PickTrayByPDFSize())===null||e===void 0?void 0:e.asBoolean()},t.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var r=[],n=0;n<e.size();n+=2){var i=e.lookup(n,We).asNumber(),o=e.lookup(n+1,We).asNumber();r.push({start:i,end:o})}return r},t.prototype.getNumCopies=function(){var e,r;return(r=(e=this.NumCopies())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:1},t.prototype.setHideToolbar=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("HideToolbar"),r)},t.prototype.setHideMenubar=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("HideMenubar"),r)},t.prototype.setHideWindowUI=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("HideWindowUI"),r)},t.prototype.setFitWindow=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("FitWindow"),r)},t.prototype.setCenterWindow=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("CenterWindow"),r)},t.prototype.setDisplayDocTitle=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("DisplayDocTitle"),r)},t.prototype.setNonFullScreenPageMode=function(e){Io(e,"nonFullScreenPageMode",wu);var r=M.of(e);this.dict.set(M.of("NonFullScreenPageMode"),r)},t.prototype.setReadingDirection=function(e){Io(e,"readingDirection",Su);var r=M.of(e);this.dict.set(M.of("Direction"),r)},t.prototype.setPrintScaling=function(e){Io(e,"printScaling",ku);var r=M.of(e);this.dict.set(M.of("PrintScaling"),r)},t.prototype.setDuplex=function(e){Io(e,"duplex",cp);var r=M.of(e);this.dict.set(M.of("Duplex"),r)},t.prototype.setPickTrayByPDFSize=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("PickTrayByPDFSize"),r)},t.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].start),r.push(e[n].end);mT(r,"printPageRange",["number"]);var o=this.dict.context.obj(r);this.dict.set(M.of("PrintPageRange"),o)},t.prototype.setNumCopies=function(e){mn(e,"numCopies",1,Number.MAX_VALUE),LQ(e,"numCopies");var r=this.dict.context.obj(e);this.dict.set(M.of("NumCopies"),r)},t.fromDict=function(e){return new t(e)},t.create=function(e){var r=e.obj({});return new t(r)},t}(),N$=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,RT=function(){function t(e,r){this.dict=e,this.ref=r}return t.prototype.T=function(){return this.dict.lookupMaybe(M.of("T"),Ct,ze)},t.prototype.Ff=function(){var e=this.getInheritableAttribute(M.of("Ff"));return this.dict.context.lookupMaybe(e,We)},t.prototype.V=function(){var e=this.getInheritableAttribute(M.of("V"));return this.dict.context.lookup(e)},t.prototype.Kids=function(){return this.dict.lookupMaybe(M.of("Kids"),xt)},t.prototype.DA=function(){var e=this.dict.lookup(M.of("DA"));if(e instanceof Ct||e instanceof ze)return e},t.prototype.setKids=function(e){this.dict.set(M.of("Kids"),this.dict.context.obj(e))},t.prototype.getParent=function(){var e=this.dict.get(M.of("Parent"));if(e instanceof jt){var r=this.dict.lookup(M.of("Parent"),Ye);return new t(r,e)}},t.prototype.setParent=function(e){e?this.dict.set(M.of("Parent"),e):this.dict.delete(M.of("Parent"))},t.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},t.prototype.getPartialName=function(){var e;return(e=this.T())===null||e===void 0?void 0:e.decodeText()},t.prototype.setPartialName=function(e){e?this.dict.set(M.of("T"),ze.fromText(e)):this.dict.delete(M.of("T"))},t.prototype.setDefaultAppearance=function(e){this.dict.set(M.of("DA"),Ct.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof ze?e.decodeText():e==null?void 0:e.asString()},t.prototype.setFontSize=function(e){var r,n=(r=this.getFullyQualifiedName())!==null&&r!==void 0?r:"",i=this.getDefaultAppearance();if(!i)throw new GQ(n);var o=Cb(i,N$);if(!o.match)throw new qQ(n);var a=i.slice(0,o.pos-o.match[0].length),s=o.pos<=i.length?i.slice(o.pos):"",l=o.match[1],c=a+" /"+l+" "+e+" Tf "+s;this.setDefaultAppearance(c)},t.prototype.getFlags=function(){var e,r;return(r=(e=this.Ff())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:0},t.prototype.setFlags=function(e){this.dict.set(M.of("Ff"),We.of(e))},t.prototype.hasFlag=function(e){var r=this.getFlags();return(r&e)!==0},t.prototype.setFlag=function(e){var r=this.getFlags();this.setFlags(r|e)},t.prototype.clearFlag=function(e){var r=this.getFlags();this.setFlags(r&~e)},t.prototype.setFlagTo=function(e,r){r?this.setFlag(e):this.clearFlag(e)},t.prototype.getInheritableAttribute=function(e){var r;return this.ascend(function(n){r||(r=n.dict.get(e))}),r},t.prototype.ascend=function(e){e(this);var r=this.getParent();r&&r.ascend(e)},t}(),Lg=function(){function t(e){this.dict=e}return t.prototype.W=function(){var e=this.dict.lookup(M.of("W"));if(e instanceof We)return e},t.prototype.getWidth=function(){var e,r;return(r=(e=this.W())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:1},t.prototype.setWidth=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("W"),r)},t.fromDict=function(e){return new t(e)},t}(),F$=function(){function t(e){this.dict=e}return t.prototype.Rect=function(){return this.dict.lookup(M.of("Rect"),xt)},t.prototype.AP=function(){return this.dict.lookupMaybe(M.of("AP"),Ye)},t.prototype.F=function(){var e=this.dict.lookup(M.of("F"));return this.dict.context.lookupMaybe(e,We)},t.prototype.getRectangle=function(){var e,r=this.Rect();return(e=r==null?void 0:r.asRectangle())!==null&&e!==void 0?e:{x:0,y:0,width:0,height:0}},t.prototype.setRectangle=function(e){var r=e.x,n=e.y,i=e.width,o=e.height,a=this.dict.context.obj([r,n,r+i,n+o]);this.dict.set(M.of("Rect"),a)},t.prototype.getAppearanceState=function(){var e=this.dict.lookup(M.of("AS"));if(e instanceof M)return e},t.prototype.setAppearanceState=function(e){this.dict.set(M.of("AS"),e)},t.prototype.setAppearances=function(e){this.dict.set(M.of("AP"),e)},t.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(M.of("AP"),e)),e},t.prototype.getNormalAppearance=function(){var e=this.ensureAP(),r=e.get(M.of("N"));if(r instanceof jt||r instanceof Ye)return r;throw new Error("Unexpected N type: "+(r==null?void 0:r.constructor.name))},t.prototype.setNormalAppearance=function(e){var r=this.ensureAP();r.set(M.of("N"),e)},t.prototype.setRolloverAppearance=function(e){var r=this.ensureAP();r.set(M.of("R"),e)},t.prototype.setDownAppearance=function(e){var r=this.ensureAP();r.set(M.of("D"),e)},t.prototype.removeRolloverAppearance=function(){var e=this.AP();e==null||e.delete(M.of("R"))},t.prototype.removeDownAppearance=function(){var e=this.AP();e==null||e.delete(M.of("D"))},t.prototype.getAppearances=function(){var e=this.AP();if(e){var r=e.lookup(M.of("N"),Ye,wn),n=e.lookupMaybe(M.of("R"),Ye,wn),i=e.lookupMaybe(M.of("D"),Ye,wn);return{normal:r,rollover:n,down:i}}},t.prototype.getFlags=function(){var e,r;return(r=(e=this.F())===null||e===void 0?void 0:e.asNumber())!==null&&r!==void 0?r:0},t.prototype.setFlags=function(e){this.dict.set(M.of("F"),We.of(e))},t.prototype.hasFlag=function(e){var r=this.getFlags();return(r&e)!==0},t.prototype.setFlag=function(e){var r=this.getFlags();this.setFlags(r|e)},t.prototype.clearFlag=function(e){var r=this.getFlags();this.setFlags(r&~e)},t.prototype.setFlagTo=function(e,r){r?this.setFlag(e):this.clearFlag(e)},t.fromDict=function(e){return new t(e)},t}(),zg=function(){function t(e){this.dict=e}return t.prototype.R=function(){var e=this.dict.lookup(M.of("R"));if(e instanceof We)return e},t.prototype.BC=function(){var e=this.dict.lookup(M.of("BC"));if(e instanceof xt)return e},t.prototype.BG=function(){var e=this.dict.lookup(M.of("BG"));if(e instanceof xt)return e},t.prototype.CA=function(){var e=this.dict.lookup(M.of("CA"));if(e instanceof ze||e instanceof Ct)return e},t.prototype.RC=function(){var e=this.dict.lookup(M.of("RC"));if(e instanceof ze||e instanceof Ct)return e},t.prototype.AC=function(){var e=this.dict.lookup(M.of("AC"));if(e instanceof ze||e instanceof Ct)return e},t.prototype.getRotation=function(){var e;return(e=this.R())===null||e===void 0?void 0:e.asNumber()},t.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var r=[],n=0,i=e==null?void 0:e.size();n<i;n++){var o=e.get(n);o instanceof We&&r.push(o.asNumber())}return r}},t.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var r=[],n=0,i=e==null?void 0:e.size();n<i;n++){var o=e.get(n);o instanceof We&&r.push(o.asNumber())}return r}},t.prototype.getCaptions=function(){var e=this.CA(),r=this.RC(),n=this.AC();return{normal:e==null?void 0:e.decodeText(),rollover:r==null?void 0:r.decodeText(),down:n==null?void 0:n.decodeText()}},t.prototype.setRotation=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("R"),r)},t.prototype.setBorderColor=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("BC"),r)},t.prototype.setBackgroundColor=function(e){var r=this.dict.context.obj(e);this.dict.set(M.of("BG"),r)},t.prototype.setCaptions=function(e){var r=ze.fromText(e.normal);if(this.dict.set(M.of("CA"),r),e.rollover){var n=ze.fromText(e.rollover);this.dict.set(M.of("RC"),n)}else this.dict.delete(M.of("RC"));if(e.down){var i=ze.fromText(e.down);this.dict.set(M.of("AC"),i)}else this.dict.delete(M.of("AC"))},t.fromDict=function(e){return new t(e)},t}(),wv=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.MK=function(){var r=this.dict.lookup(M.of("MK"));if(r instanceof Ye)return r},e.prototype.BS=function(){var r=this.dict.lookup(M.of("BS"));if(r instanceof Ye)return r},e.prototype.DA=function(){var r=this.dict.lookup(M.of("DA"));if(r instanceof Ct||r instanceof ze)return r},e.prototype.P=function(){var r=this.dict.get(M.of("P"));if(r instanceof jt)return r},e.prototype.setP=function(r){this.dict.set(M.of("P"),r)},e.prototype.setDefaultAppearance=function(r){this.dict.set(M.of("DA"),Ct.of(r))},e.prototype.getDefaultAppearance=function(){var r=this.DA();return r instanceof ze?r.decodeText():r==null?void 0:r.asString()},e.prototype.getAppearanceCharacteristics=function(){var r=this.MK();if(r)return zg.fromDict(r)},e.prototype.getOrCreateAppearanceCharacteristics=function(){var r=this.MK();if(r)return zg.fromDict(r);var n=zg.fromDict(this.dict.context.obj({}));return this.dict.set(M.of("MK"),n.dict),n},e.prototype.getBorderStyle=function(){var r=this.BS();if(r)return Lg.fromDict(r)},e.prototype.getOrCreateBorderStyle=function(){var r=this.BS();if(r)return Lg.fromDict(r);var n=Lg.fromDict(this.dict.context.obj({}));return this.dict.set(M.of("BS"),n.dict),n},e.prototype.getOnValue=function(){var r,n=(r=this.getAppearances())===null||r===void 0?void 0:r.normal;if(n instanceof Ye)for(var i=n.keys(),o=0,a=i.length;o<a;o++){var s=i[o];if(s!==M.of("Off"))return s}},e.fromDict=function(r){return new e(r)},e.create=function(r,n){var i=r.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n});return new e(i)},e}(F$),oc=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.FT=function(){var r=this.getInheritableAttribute(M.of("FT"));return this.dict.context.lookup(r,M)},e.prototype.getWidgets=function(){var r=this.Kids();if(!r)return[wv.fromDict(this.dict)];for(var n=new Array(r.size()),i=0,o=r.size();i<o;i++){var a=r.lookup(i,Ye);n[i]=wv.fromDict(a)}return n},e.prototype.addWidget=function(r){var n=this.normalizedEntries().Kids;n.push(r)},e.prototype.removeWidget=function(r){var n=this.Kids();if(n){if(r<0||r>n.size())throw new sp(r,0,n.size());n.remove(r)}else{if(r!==0)throw new sp(r,0,0);this.setKids([])}},e.prototype.normalizedEntries=function(){var r=this.Kids();return r||(r=this.dict.context.obj([this.ref]),this.dict.set(M.of("Kids"),r)),{Kids:r}},e.fromDict=function(r,n){return new e(r,n)},e}(RT),Bb=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Opt=function(){return this.dict.lookupMaybe(M.of("Opt"),Ct,ze,xt)},e.prototype.setOpt=function(r){this.dict.set(M.of("Opt"),this.dict.context.obj(r))},e.prototype.getExportValues=function(){var r=this.Opt();if(r){if(r instanceof Ct||r instanceof ze)return[r];for(var n=[],i=0,o=r.size();i<o;i++){var a=r.lookup(i);(a instanceof Ct||a instanceof ze)&&n.push(a)}return n}},e.prototype.removeExportValue=function(r){var n=this.Opt();if(n)if(n instanceof Ct||n instanceof ze){if(r!==0)throw new sp(r,0,0);this.setOpt([])}else{if(r<0||r>n.size())throw new sp(r,0,n.size());n.remove(r)}},e.prototype.normalizeExportValues=function(){for(var r,n,i,o,a=(r=this.getExportValues())!==null&&r!==void 0?r:[],s=[],l=this.getWidgets(),c=0,d=l.length;c<d;c++){var h=l[c],f=(n=a[c])!==null&&n!==void 0?n:ze.fromText((o=(i=h.getOnValue())===null||i===void 0?void 0:i.decodeText())!==null&&o!==void 0?o:"");s.push(f)}this.setOpt(s)},e.prototype.addOpt=function(r,n){var i;this.normalizeExportValues();var o=r.decodeText(),a;if(n)for(var s=(i=this.getExportValues())!==null&&i!==void 0?i:[],l=0,c=s.length;l<c;l++){var d=s[l];d.decodeText()===o&&(a=l)}var h=this.Opt();return h.push(r),a??h.size()-1},e.prototype.addWidgetWithOpt=function(r,n,i){var o=this.addOpt(n,i),a=M.of(String(o));return this.addWidget(r),a},e}(oc),a0=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setValue=function(r){var n,i=(n=this.getOnValue())!==null&&n!==void 0?n:M.of("Yes");if(r!==i&&r!==M.of("Off"))throw new Db;this.dict.set(M.of("V"),r);for(var o=this.getWidgets(),a=0,s=o.length;a<s;a++){var l=o[a],c=l.getOnValue()===r?r:M.of("Off");l.setAppearanceState(c)}},e.prototype.getValue=function(){var r=this.V();return r instanceof M?r:M.of("Off")},e.prototype.getOnValue=function(){var r=this.getWidgets()[0];return r==null?void 0:r.getOnValue()},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Btn",Kids:[]}),i=r.register(n);return new e(n,i)},e}(Bb),hr=function(t){return 1<<t},ei;(function(t){t[t.ReadOnly=hr(0)]="ReadOnly",t[t.Required=hr(1)]="Required",t[t.NoExport=hr(2)]="NoExport"})(ei||(ei={}));var An;(function(t){t[t.NoToggleToOff=hr(14)]="NoToggleToOff",t[t.Radio=hr(15)]="Radio",t[t.PushButton=hr(16)]="PushButton",t[t.RadiosInUnison=hr(25)]="RadiosInUnison"})(An||(An={}));var $t;(function(t){t[t.Multiline=hr(12)]="Multiline",t[t.Password=hr(13)]="Password",t[t.FileSelect=hr(20)]="FileSelect",t[t.DoNotSpellCheck=hr(22)]="DoNotSpellCheck",t[t.DoNotScroll=hr(23)]="DoNotScroll",t[t.Comb=hr(24)]="Comb",t[t.RichText=hr(25)]="RichText"})($t||($t={}));var _t;(function(t){t[t.Combo=hr(17)]="Combo",t[t.Edit=hr(18)]="Edit",t[t.Sort=hr(19)]="Sort",t[t.MultiSelect=hr(21)]="MultiSelect",t[t.DoNotSpellCheck=hr(22)]="DoNotSpellCheck",t[t.CommitOnSelChange=hr(26)]="CommitOnSelChange"})(_t||(_t={}));var PT=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setValues=function(r){if(this.hasFlag(_t.Combo)&&!this.hasFlag(_t.Edit)&&!this.valuesAreValid(r))throw new Db;if(r.length===0&&this.dict.delete(M.of("V")),r.length===1&&this.dict.set(M.of("V"),r[0]),r.length>1){if(!this.hasFlag(_t.MultiSelect))throw new VQ;this.dict.set(M.of("V"),this.dict.context.obj(r))}this.updateSelectedIndices(r)},e.prototype.valuesAreValid=function(r){for(var n=this.getOptions(),i=function(l,c){var d=r[l].decodeText();if(!n.find(function(h){return d===(h.display||h.value).decodeText()}))return{value:!1}},o=0,a=r.length;o<a;o++){var s=i(o);if(typeof s=="object")return s.value}return!0},e.prototype.updateSelectedIndices=function(r){if(r.length>1){for(var n=new Array(r.length),i=this.getOptions(),o=function(l,c){var d=r[l].decodeText();n[l]=i.findIndex(function(h){return d===(h.display||h.value).decodeText()})},a=0,s=r.length;a<s;a++)o(a,s);this.dict.set(M.of("I"),this.dict.context.obj(n.sort()))}else this.dict.delete(M.of("I"))},e.prototype.getValues=function(){var r=this.V();if(r instanceof Ct||r instanceof ze)return[r];if(r instanceof xt){for(var n=[],i=0,o=r.size();i<o;i++){var a=r.lookup(i);(a instanceof Ct||a instanceof ze)&&n.push(a)}return n}return[]},e.prototype.Opt=function(){return this.dict.lookupMaybe(M.of("Opt"),Ct,ze,xt)},e.prototype.setOptions=function(r){for(var n=new Array(r.length),i=0,o=r.length;i<o;i++){var a=r[i],s=a.value,l=a.display;n[i]=this.dict.context.obj([s,l||s])}this.dict.set(M.of("Opt"),this.dict.context.obj(n))},e.prototype.getOptions=function(){var r=this.Opt();if(r instanceof Ct||r instanceof ze)return[{value:r,display:r}];if(r instanceof xt){for(var n=[],i=0,o=r.size();i<o;i++){var a=r.lookup(i);if((a instanceof Ct||a instanceof ze)&&n.push({value:a,display:a}),a instanceof xt&&a.size()>0){var s=a.lookup(0,Ct,ze),l=a.lookupMaybe(1,Ct,ze);n.push({value:s,display:l||s})}}return n}return[]},e}(oc),s0=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Ch",Ff:_t.Combo,Kids:[]}),i=r.register(n);return new e(n,i)},e}(PT),up=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.addField=function(r){var n=this.normalizedEntries().Kids;n==null||n.push(r)},e.prototype.normalizedEntries=function(){var r=this.Kids();return r||(r=this.dict.context.obj([]),this.dict.set(M.of("Kids"),r)),{Kids:r}},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({}),i=r.register(n);return new e(n,i)},e}(RT),Ub=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e}(oc),l0=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.MaxLen=function(){var r=this.dict.lookup(M.of("MaxLen"));if(r instanceof We)return r},e.prototype.Q=function(){var r=this.dict.lookup(M.of("Q"));if(r instanceof We)return r},e.prototype.setMaxLength=function(r){this.dict.set(M.of("MaxLen"),We.of(r))},e.prototype.removeMaxLength=function(){this.dict.delete(M.of("MaxLen"))},e.prototype.getMaxLength=function(){var r;return(r=this.MaxLen())===null||r===void 0?void 0:r.asNumber()},e.prototype.setQuadding=function(r){this.dict.set(M.of("Q"),We.of(r))},e.prototype.getQuadding=function(){var r;return(r=this.Q())===null||r===void 0?void 0:r.asNumber()},e.prototype.setValue=function(r){this.dict.set(M.of("V"),r)},e.prototype.removeValue=function(){this.dict.delete(M.of("V"))},e.prototype.getValue=function(){var r=this.V();if(r instanceof Ct||r instanceof ze)return r},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Tx",Kids:[]}),i=r.register(n);return new e(n,i)},e}(oc),c0=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Btn",Ff:An.PushButton,Kids:[]}),i=r.register(n);return new e(n,i)},e}(Bb),u0=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setValue=function(r){var n=this.getOnValues();if(!n.includes(r)&&r!==M.of("Off"))throw new Db;this.dict.set(M.of("V"),r);for(var i=this.getWidgets(),o=0,a=i.length;o<a;o++){var s=i[o],l=s.getOnValue()===r?r:M.of("Off");s.setAppearanceState(l)}},e.prototype.getValue=function(){var r=this.V();return r instanceof M?r:M.of("Off")},e.prototype.getOnValues=function(){for(var r=this.getWidgets(),n=[],i=0,o=r.length;i<o;i++){var a=r[i].getOnValue();a&&n.push(a)}return n},e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Btn",Ff:An.Radio,Kids:[]}),i=r.register(n);return new e(n,i)},e}(Bb),d0=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.fromDict=function(r,n){return new e(r,n)},e.create=function(r){var n=r.obj({FT:"Ch",Kids:[]}),i=r.register(n);return new e(n,i)},e}(PT),Hb=function(t){if(!t)return[];for(var e=[],r=0,n=t.size();r<n;r++){var i=t.get(r),o=t.lookup(r);i instanceof jt&&o instanceof Ye&&e.push([OT(o,i),i])}return e},OT=function(t,e){var r=D$(t);return r?up.fromDict(t,e):I$(t,e)},D$=function(t){var e=t.lookup(M.of("Kids"));if(e instanceof xt)for(var r=0,n=e.size();r<n;r++){var i=e.lookup(r),o=i instanceof Ye&&i.has(M.of("T"));if(o)return!0}return!1},I$=function(t,e){var r=Wb(t,M.of("FT")),n=t.context.lookup(r,M);return n===M.of("Btn")?M$(t,e):n===M.of("Ch")?L$(t,e):n===M.of("Tx")?l0.fromDict(t,e):n===M.of("Sig")?Ub.fromDict(t,e):oc.fromDict(t,e)},M$=function(t,e){var r,n=Wb(t,M.of("Ff")),i=t.context.lookupMaybe(n,We),o=(r=i==null?void 0:i.asNumber())!==null&&r!==void 0?r:0;return Sv(o,An.PushButton)?c0.fromDict(t,e):Sv(o,An.Radio)?u0.fromDict(t,e):a0.fromDict(t,e)},L$=function(t,e){var r,n=Wb(t,M.of("Ff")),i=t.context.lookupMaybe(n,We),o=(r=i==null?void 0:i.asNumber())!==null&&r!==void 0?r:0;return Sv(o,_t.Combo)?s0.fromDict(t,e):d0.fromDict(t,e)},Sv=function(t,e){return(t&e)!==0},Wb=function(t,e){var r;return AT(t,function(n){r||(r=n.get(e))}),r},AT=function(t,e){e(t);var r=t.lookupMaybe(M.of("Parent"),Ye);r&&AT(r,e)},dp=function(){function t(e){this.dict=e}return t.prototype.Fields=function(){var e=this.dict.lookup(M.of("Fields"));if(e instanceof xt)return e},t.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,r=new Array(e.size()),n=0,i=e.size();n<i;n++){var o=e.get(n),a=e.lookup(n,Ye);r[n]=[OT(a,o),o]}return r},t.prototype.getAllFields=function(){var e=[],r=function(n){if(n)for(var i=0,o=n.length;i<o;i++){var a=n[i];e.push(a);var s=a[0];s instanceof up&&r(Hb(s.Kids()))}};return r(this.getFields()),e},t.prototype.addField=function(e){var r=this.normalizedEntries().Fields;r==null||r.push(e)},t.prototype.removeField=function(e){var r=e.getParent(),n=r===void 0?this.normalizedEntries().Fields:r.Kids(),i=n==null?void 0:n.indexOf(e.ref);if(n===void 0||i===void 0)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());n.remove(i),r!==void 0&&n.size()===0&&this.removeField(r)},t.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(M.of("Fields"),e)),{Fields:e}},t.fromDict=function(e){return new t(e)},t.create=function(e){var r=e.obj({Fields:[]});return new t(r)},t}(),NT=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Pages=function(){return this.lookup(M.of("Pages"),Ye)},e.prototype.AcroForm=function(){return this.lookupMaybe(M.of("AcroForm"),Ye)},e.prototype.getAcroForm=function(){var r=this.AcroForm();if(r)return dp.fromDict(r)},e.prototype.getOrCreateAcroForm=function(){var r=this.getAcroForm();if(!r){r=dp.create(this.context);var n=this.context.register(r.dict);this.set(M.of("AcroForm"),n)}return r},e.prototype.ViewerPreferences=function(){return this.lookupMaybe(M.of("ViewerPreferences"),Ye)},e.prototype.getViewerPreferences=function(){var r=this.ViewerPreferences();if(r)return ok.fromDict(r)},e.prototype.getOrCreateViewerPreferences=function(){var r=this.getViewerPreferences();if(!r){r=ok.create(this.context);var n=this.context.register(r.dict);this.set(M.of("ViewerPreferences"),n)}return r},e.prototype.insertLeafNode=function(r,n){var i=this.get(M.of("Pages")),o=this.Pages().insertLeafNode(r,n);return o||i},e.prototype.removeLeafNode=function(r){this.Pages().removeLeafNode(r)},e.withContextAndPages=function(r,n){var i=new Map;return i.set(M.of("Type"),M.of("Catalog")),i.set(M.of("Pages"),n),new e(i,r)},e.fromMapWithContext=function(r,n){return new e(r,n)},e}(Ye),FT=function(t){ye(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Parent=function(){return this.lookup(M.of("Parent"))},e.prototype.Kids=function(){return this.lookup(M.of("Kids"),xt)},e.prototype.Count=function(){return this.lookup(M.of("Count"),We)},e.prototype.pushTreeNode=function(r){var n=this.Kids();n.push(r)},e.prototype.pushLeafNode=function(r){var n=this.Kids();this.insertLeafKid(n.size(),r)},e.prototype.insertLeafNode=function(r,n){var i=this.Kids(),o=this.Count().asNumber();if(n>o)throw new qS(n,o);for(var a=n,s=0,l=i.size();s<l;s++){if(a===0){this.insertLeafKid(s,r);return}var c=i.get(s),d=this.context.lookup(c);if(d instanceof e){if(d.Count().asNumber()>a)return d.insertLeafNode(r,a)||c;a-=d.Count().asNumber()}d instanceof $i&&(a-=1)}if(a===0){this.insertLeafKid(i.size(),r);return}throw new KS(n,"insertLeafNode")},e.prototype.removeLeafNode=function(r,n){n===void 0&&(n=!0);var i=this.Kids(),o=this.Count().asNumber();if(r>=o)throw new qS(r,o);for(var a=r,s=0,l=i.size();s<l;s++){var c=i.get(s),d=this.context.lookup(c);if(d instanceof e)if(d.Count().asNumber()>a){d.removeLeafNode(a,n),n&&d.Kids().size()===0&&i.remove(s);return}else a-=d.Count().asNumber();if(d instanceof $i)if(a===0){this.removeKid(s);return}else a-=1}throw new KS(r,"removeLeafNode")},e.prototype.ascend=function(r){r(this);var n=this.Parent();n&&n.ascend(r)},e.prototype.traverse=function(r){for(var n=this.Kids(),i=0,o=n.size();i<o;i++){var a=n.get(i),s=this.context.lookup(a);s instanceof e&&s.traverse(r),r(s,a)}},e.prototype.insertLeafKid=function(r,n){var i=this.Kids();this.ascend(function(o){var a=o.Count().asNumber()+1;o.set(M.of("Count"),We.of(a))}),i.insert(r,n)},e.prototype.removeKid=function(r){var n=this.Kids(),i=n.lookup(r);i instanceof $i&&this.ascend(function(o){var a=o.Count().asNumber()-1;o.set(M.of("Count"),We.of(a))}),n.remove(r)},e.withContext=function(r,n){var i=new Map;return i.set(M.of("Type"),M.of("Pages")),i.set(M.of("Kids"),r.obj([])),i.set(M.of("Count"),r.obj(0)),n&&i.set(M.of("Parent"),n),new e(i,r)},e.fromMapWithContext=function(r,n){return new e(r,n)},e}(Ye),Ur=new Uint8Array(256);Ur[L.Zero]=1;Ur[L.One]=1;Ur[L.Two]=1;Ur[L.Three]=1;Ur[L.Four]=1;Ur[L.Five]=1;Ur[L.Six]=1;Ur[L.Seven]=1;Ur[L.Eight]=1;Ur[L.Nine]=1;var h0=new Uint8Array(256);h0[L.Period]=1;h0[L.Plus]=1;h0[L.Minus]=1;var Vb=new Uint8Array(256);for(var Mc=0,z$=256;Mc<z$;Mc++)Vb[Mc]=Ur[Mc]||h0[Mc]?1:0;var ak=L.Newline,sk=L.CarriageReturn,B$=function(){function t(e,r){r===void 0&&(r=!1),this.bytes=e,this.capNumbers=r}return t.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var r=this.bytes.peek();if(!Ur[r])break;e+=Ji(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new XS(this.bytes.position(),e);return n},t.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var r=this.bytes.peek();if(!Vb[r]||(e+=Ji(this.bytes.next()),r===L.Period))break}for(;!this.bytes.done();){var r=this.bytes.peek();if(!Ur[r])break;e+=Ji(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new XS(this.bytes.position(),e);if(n>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var i="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(i),Number.MAX_SAFE_INTEGER}else{var i="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(i)}return n},t.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&co[this.bytes.peek()];)this.bytes.next()},t.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===ak||e===sk)return;this.bytes.next()}},t.prototype.skipComment=function(){if(this.bytes.peek()!==L.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===ak||e===sk)return!0;this.bytes.next()}return!0},t.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},t.prototype.matchKeyword=function(e){for(var r=this.bytes.offset(),n=0,i=e.length;n<i;n++)if(this.bytes.done()||this.bytes.next()!==e[n])return this.bytes.moveTo(r),!1;return!0},t}(),f0=function(){function t(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return t.prototype.moveTo=function(e){this.idx=e},t.prototype.next=function(){var e=this.bytes[this.idx++];return e===L.Newline?(this.line+=1,this.column=0):this.column+=1,e},t.prototype.assertNext=function(e){if(this.peek()!==e)throw new KQ(this.position(),e,this.peek());return this.next()},t.prototype.peek=function(){return this.bytes[this.idx]},t.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},t.prototype.peekAt=function(e){return this.bytes[e]},t.prototype.done=function(){return this.idx>=this.length},t.prototype.offset=function(){return this.idx},t.prototype.slice=function(e,r){return this.bytes.slice(e,r)},t.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},t.of=function(e){return new t(e)},t.fromPDFRawStream=function(e){return t.of(ET(e).decode())},t}(),U$=L.Space,Lc=L.CarriageReturn,zc=L.Newline,Bc=[L.s,L.t,L.r,L.e,L.a,L.m],zh=[L.e,L.n,L.d,L.s,L.t,L.r,L.e,L.a,L.m],Pt={header:[L.Percent,L.P,L.D,L.F,L.Dash],eof:[L.Percent,L.Percent,L.E,L.O,L.F],obj:[L.o,L.b,L.j],endobj:[L.e,L.n,L.d,L.o,L.b,L.j],xref:[L.x,L.r,L.e,L.f],trailer:[L.t,L.r,L.a,L.i,L.l,L.e,L.r],startxref:[L.s,L.t,L.a,L.r,L.t,L.x,L.r,L.e,L.f],true:[L.t,L.r,L.u,L.e],false:[L.f,L.a,L.l,L.s,L.e],null:[L.n,L.u,L.l,L.l],stream:Bc,streamEOF1:vt(Bc,[U$,Lc,zc]),streamEOF2:vt(Bc,[Lc,zc]),streamEOF3:vt(Bc,[Lc]),streamEOF4:vt(Bc,[zc]),endstream:zh,EOF1endstream:vt([Lc,zc],zh),EOF2endstream:vt([Lc],zh),EOF3endstream:vt([zc],zh)},DT=function(t){ye(e,t);function e(r,n,i){i===void 0&&(i=!1);var o=t.call(this,r,i)||this;return o.context=n,o}return e.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Pt.true))return ed.True;if(this.matchKeyword(Pt.false))return ed.False;if(this.matchKeyword(Pt.null))return $r;var r=this.bytes.peek();if(r===L.LessThan&&this.bytes.peekAhead(1)===L.LessThan)return this.parseDictOrStream();if(r===L.LessThan)return this.parseHexString();if(r===L.LeftParen)return this.parseString();if(r===L.ForwardSlash)return this.parseName();if(r===L.LeftSquareBracket)return this.parseArray();if(Vb[r])return this.parseNumberOrRef();throw new XQ(this.bytes.position(),r)},e.prototype.parseNumberOrRef=function(){var r=this.parseRawNumber();this.skipWhitespaceAndComments();var n=this.bytes.offset();if(Ur[this.bytes.peek()]){var i=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===L.R)return this.bytes.assertNext(L.R),jt.of(r,i)}return this.bytes.moveTo(n),We.of(r)},e.prototype.parseHexString=function(){var r="";for(this.bytes.assertNext(L.LessThan);!this.bytes.done()&&this.bytes.peek()!==L.GreaterThan;)r+=Ji(this.bytes.next());return this.bytes.assertNext(L.GreaterThan),ze.of(r)},e.prototype.parseString=function(){for(var r=0,n=!1,i="";!this.bytes.done();){var o=this.bytes.next();if(i+=Ji(o),n||(o===L.LeftParen&&(r+=1),o===L.RightParen&&(r-=1)),o===L.BackSlash?n=!n:n&&(n=!1),r===0)return Ct.of(i.substring(1,i.length-1))}throw new JQ(this.bytes.position())},e.prototype.parseName=function(){this.bytes.assertNext(L.ForwardSlash);for(var r="";!this.bytes.done();){var n=this.bytes.peek();if(co[n]||Kn[n])break;r+=Ji(n),this.bytes.next()}return M.of(r)},e.prototype.parseArray=function(){this.bytes.assertNext(L.LeftSquareBracket),this.skipWhitespaceAndComments();for(var r=xt.withContext(this.context);this.bytes.peek()!==L.RightSquareBracket;){var n=this.parseObject();r.push(n),this.skipWhitespaceAndComments()}return this.bytes.assertNext(L.RightSquareBracket),r},e.prototype.parseDict=function(){this.bytes.assertNext(L.LessThan),this.bytes.assertNext(L.LessThan),this.skipWhitespaceAndComments();for(var r=new Map;!this.bytes.done()&&this.bytes.peek()!==L.GreaterThan&&this.bytes.peekAhead(1)!==L.GreaterThan;){var n=this.parseName(),i=this.parseObject();r.set(n,i),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(L.GreaterThan),this.bytes.assertNext(L.GreaterThan);var o=r.get(M.of("Type"));return o===M.of("Catalog")?NT.fromMapWithContext(r,this.context):o===M.of("Pages")?FT.fromMapWithContext(r,this.context):o===M.of("Page")?$i.fromMapWithContext(r,this.context):Ye.fromMapWithContext(r,this.context)},e.prototype.parseDictOrStream=function(){var r=this.bytes.position(),n=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Pt.streamEOF1)&&!this.matchKeyword(Pt.streamEOF2)&&!this.matchKeyword(Pt.streamEOF3)&&!this.matchKeyword(Pt.streamEOF4)&&!this.matchKeyword(Pt.stream))return n;var i=this.bytes.offset(),o,a=n.get(M.of("Length"));a instanceof We?(o=i+a.asNumber(),this.bytes.moveTo(o),this.skipWhitespaceAndComments(),this.matchKeyword(Pt.endstream)||(this.bytes.moveTo(i),o=this.findEndOfStreamFallback(r))):o=this.findEndOfStreamFallback(r);var s=this.bytes.slice(i,o);return td.of(n,s)},e.prototype.findEndOfStreamFallback=function(r){for(var n=1,i=this.bytes.offset();!this.bytes.done()&&(i=this.bytes.offset(),this.matchKeyword(Pt.stream)?n+=1:this.matchKeyword(Pt.EOF1endstream)||this.matchKeyword(Pt.EOF2endstream)||this.matchKeyword(Pt.EOF3endstream)||this.matchKeyword(Pt.endstream)?n-=1:this.bytes.next(),n!==0););if(n!==0)throw new YQ(r);return i},e.forBytes=function(r,n,i){return new e(f0.of(r),n,i)},e.forByteStream=function(r,n,i){return i===void 0&&(i=!1),new e(r,n,i)},e}(B$),H$=function(t){ye(e,t);function e(r,n){var i=t.call(this,f0.fromPDFRawStream(r),r.dict.context)||this,o=r.dict;return i.alreadyParsed=!1,i.shouldWaitForTick=n||function(){return!1},i.firstOffset=o.lookup(M.of("First"),We).asNumber(),i.objectCount=o.lookup(M.of("N"),We).asNumber(),i}return e.prototype.parseIntoContext=function(){return Qe(this,void 0,void 0,function(){var r,n,i,o,a,s,l,c;return $e(this,function(d){switch(d.label){case 0:if(this.alreadyParsed)throw new Fb("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,r=this.parseOffsetsAndObjectNumbers(),n=0,i=r.length,d.label=1;case 1:return n<i?(o=r[n],a=o.objectNumber,s=o.offset,this.bytes.moveTo(this.firstOffset+s),l=this.parseObject(),c=jt.of(a,0),this.context.assign(c,l),this.shouldWaitForTick()?[4,Ml()]:[3,3]):[3,4];case 2:d.sent(),d.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.parseOffsetsAndObjectNumbers=function(){for(var r=[],n=0,i=this.objectCount;n<i;n++){this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.parseRawInt();r.push({objectNumber:o,offset:a})}return r},e.forStream=function(r,n){return new e(r,n)},e}(DT),W$=function(){function t(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=f0.fromPDFRawStream(e),this.context=this.dict.context;var r=this.dict.lookup(M.of("Size"),We),n=this.dict.lookup(M.of("Index"));if(n instanceof xt){this.subsections=[];for(var i=0,o=n.size();i<o;i+=2){var a=n.lookup(i+0,We).asNumber(),s=n.lookup(i+1,We).asNumber();this.subsections.push({firstObjectNumber:a,length:s})}}else this.subsections=[{firstObjectNumber:0,length:r.asNumber()}];var l=this.dict.lookup(M.of("W"),xt);this.byteWidths=[-1,-1,-1];for(var i=0,o=l.size();i<o;i++)this.byteWidths[i]=l.lookup(i,We).asNumber()}return t.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new Fb("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(M.of("Root")),Encrypt:this.dict.get(M.of("Encrypt")),Info:this.dict.get(M.of("Info")),ID:this.dict.get(M.of("ID"))};var e=this.parseEntries();return e},t.prototype.parseEntries=function(){for(var e=[],r=this.byteWidths,n=r[0],i=r[1],o=r[2],a=0,s=this.subsections.length;a<s;a++)for(var l=this.subsections[a],c=l.firstObjectNumber,d=l.length,h=0;h<d;h++){for(var f=0,p=0,g=n;p<g;p++)f=f<<8|this.bytes.next();for(var m=0,p=0,g=i;p<g;p++)m=m<<8|this.bytes.next();for(var y=0,p=0,g=o;p<g;p++)y=y<<8|this.bytes.next();n===0&&(f=1);var v=c+h,b={ref:jt.of(v,y),offset:m,deleted:f===0,inObjectStream:f===2};e.push(b)}return e},t.forStream=function(e){return new t(e)},t}(),V$=function(t){ye(e,t);function e(r,n,i,o){n===void 0&&(n=1/0),i===void 0&&(i=!1),o===void 0&&(o=!1);var a=t.call(this,f0.of(r),bv.create(),o)||this;return a.alreadyParsed=!1,a.parsedObjects=0,a.shouldWaitForTick=function(){return a.parsedObjects+=1,a.parsedObjects%a.objectsPerTick===0},a.objectsPerTick=n,a.throwOnInvalidObject=i,a}return e.prototype.parseDocument=function(){return Qe(this,void 0,void 0,function(){var r,n;return $e(this,function(i){switch(i.label){case 0:if(this.alreadyParsed)throw new Fb("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),i.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(i.sent(),n=this.bytes.offset(),n===r)throw new QQ(this.bytes.position());return r=n,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(jt.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(jt.of(0))),[2,this.context]}})})},e.prototype.maybeRecoverRoot=function(){var r=function(d){return d instanceof Ye&&d.lookup(M.of("Type"))===M.of("Catalog")},n=this.context.lookup(this.context.trailerInfo.Root);if(!r(n))for(var i=this.context.enumerateIndirectObjects(),o=0,a=i.length;o<a;o++){var s=i[o],l=s[0],c=s[1];r(c)&&(this.context.trailerInfo.Root=l)}},e.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Pt.header)){var r=this.parseRawInt();this.bytes.assertNext(L.Period);var n=this.parseRawInt(),i=o0.forVersion(r,n);return this.skipBinaryHeaderComment(),i}this.bytes.next()}throw new $Q(this.bytes.position())},e.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Pt.obj))throw new e$(this.bytes.position(),Pt.obj);return jt.of(r,n)},e.prototype.matchIndirectObjectHeader=function(){var r=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(r),!1}},e.prototype.parseIndirectObject=function(){return Qe(this,void 0,void 0,function(){var r,n;return $e(this,function(i){switch(i.label){case 0:return r=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),n=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Pt.endobj),n instanceof td&&n.dict.lookup(M.of("Type"))===M.of("ObjStm")?[4,H$.forStream(n,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return i.sent(),[3,3];case 2:n instanceof td&&n.dict.lookup(M.of("Type"))===M.of("XRef")?W$.forStream(n).parseIntoContext():this.context.assign(r,n),i.label=3;case 3:return[2,r]}})})},e.prototype.tryToParseInvalidIndirectObject=function(){var r=this.bytes.position(),n="Trying to parse invalid object: "+JSON.stringify(r)+")";if(this.throwOnInvalidObject)throw new Error(n);console.warn(n);var i=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+i),this.skipWhitespaceAndComments();for(var o=this.bytes.offset(),a=!0;!this.bytes.done()&&(this.matchKeyword(Pt.endobj)&&(a=!1),!!a);)this.bytes.next();if(a)throw new ZQ(r);var s=this.bytes.offset()-Pt.endobj.length,l=kT.of(this.bytes.slice(o,s));return this.context.assign(i,l),i},e.prototype.parseIndirectObjects=function(){return Qe(this,void 0,void 0,function(){var r;return $e(this,function(n){switch(n.label){case 0:this.skipWhitespaceAndComments(),n.label=1;case 1:if(!(!this.bytes.done()&&Ur[this.bytes.peek()]))return[3,8];r=this.bytes.offset(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return n.sent(),[3,5];case 4:return n.sent(),this.bytes.moveTo(r),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,Ml()]:[3,7];case 6:n.sent(),n.label=7;case 7:return[3,1];case 8:return[2]}})})},e.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Pt.xref)){this.skipWhitespaceAndComments();for(var r=-1,n=xT.createEmpty();!this.bytes.done()&&Ur[this.bytes.peek()];){var i=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.bytes.peek();if(a===L.n||a===L.f){var s=jt.of(r,o);this.bytes.next()===L.n?n.addEntry(s,i):n.addDeletedEntry(s,i),r+=1}else r=i;this.skipWhitespaceAndComments()}return n}},e.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Pt.trailer)){this.skipWhitespaceAndComments();var r=this.parseDict(),n=this.context;n.trailerInfo={Root:r.get(M.of("Root"))||n.trailerInfo.Root,Encrypt:r.get(M.of("Encrypt"))||n.trailerInfo.Encrypt,Info:r.get(M.of("Info"))||n.trailerInfo.Info,ID:r.get(M.of("ID"))||n.trailerInfo.ID}}},e.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Pt.startxref)){this.skipWhitespaceAndComments();var r=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Pt.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Pt.eof),this.skipWhitespaceAndComments(),Lb.forLastCrossRefSectionOffset(r)}},e.prototype.parseDocumentSection=function(){return Qe(this,void 0,void 0,function(){return $e(this,function(r){switch(r.label){case 0:return[4,this.parseIndirectObjects()];case 1:return r.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},e.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var r=this.bytes.offset(),n=this.bytes.peek(),i=n>=L.Space&&n<=L.Tilde;if(i&&(this.matchKeyword(Pt.xref)||this.matchKeyword(Pt.trailer)||this.matchKeyword(Pt.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(r);break}this.bytes.next()}},e.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var r=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(r)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},e.forBytesWithOptions=function(r,n,i,o){return new e(r,n,i,o)},e}(DT),wi=function(t){return 1<<t},_u;(function(t){t[t.Invisible=wi(0)]="Invisible",t[t.Hidden=wi(1)]="Hidden",t[t.Print=wi(2)]="Print",t[t.NoZoom=wi(3)]="NoZoom",t[t.NoRotate=wi(4)]="NoRotate",t[t.NoView=wi(5)]="NoView",t[t.ReadOnly=wi(6)]="ReadOnly",t[t.Locked=wi(7)]="Locked",t[t.ToggleNoView=wi(8)]="ToggleNoView",t[t.LockedContents=wi(9)]="LockedContents"})(_u||(_u={}));var p0=function(t){return t instanceof M?t:M.of(t)},Ve=function(t){return t instanceof We?t:We.of(t)},et=function(t){return t instanceof We?t.asNumber():t},rd;(function(t){t.Degrees="degrees",t.Radians="radians"})(rd||(rd={}));var Be=function(t){return Q(t,"degreeAngle",["number"]),{type:rd.Degrees,angle:t}},IT=rd.Radians,MT=rd.Degrees,LT=function(t){return t*Math.PI/180},G$=function(t){return t*180/Math.PI},Ar=function(t){return t.type===IT?t.angle:t.type===MT?LT(t.angle):kd("Invalid rotation: "+JSON.stringify(t))},zT=function(t){return t.type===IT?G$(t.angle):t.type===MT?t.angle:kd("Invalid rotation: "+JSON.stringify(t))},uo=function(t){t===void 0&&(t=0);var e=t/90%4;return e===0?0:e===1?90:e===2?180:e===3?270:0},ss=function(t,e){e===void 0&&(e=0);var r=uo(e);return r===90||r===270?{width:t.height,height:t.width}:{width:t.width,height:t.height}},q$=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var n=t.x,i=t.y,o=t.width,a=t.height,s=uo(r),l=e/2;return s===0?{x:n-l,y:i-l,width:o,height:a}:s===90?{x:n-a+l,y:i-l,width:a,height:o}:s===180?{x:n-o+l,y:i-a+l,width:o,height:a}:s===270?{x:n-l,y:i-o+l,width:a,height:o}:{x:n-l,y:i-l,width:o,height:a}},BT=function(){return pt.of(yt.ClipNonZero)},hp=Math.cos,fp=Math.sin,pp=Math.tan,g0=function(t,e,r,n,i,o){return pt.of(yt.ConcatTransformationMatrix,[Ve(t),Ve(e),Ve(r),Ve(n),Ve(i),Ve(o)])},Mn=function(t,e){return g0(1,0,0,1,t,e)},nd=function(t,e){return g0(t,0,0,e,0,0)},ac=function(t){return g0(hp(et(t)),fp(et(t)),-fp(et(t)),hp(et(t)),0,0)},Bh=function(t){return ac(LT(et(t)))},Gb=function(t,e){return g0(1,pp(et(t)),pp(et(e)),1,0,0)},m0=function(t,e){return pt.of(yt.SetLineDashPattern,["["+t.map(Ve).join(" ")+"]",Ve(e)])},vl;(function(t){t[t.Butt=0]="Butt",t[t.Round=1]="Round",t[t.Projecting=2]="Projecting"})(vl||(vl={}));var v0=function(t){return pt.of(yt.SetLineCapStyle,[Ve(t)])},lk;(function(t){t[t.Miter=0]="Miter",t[t.Round=1]="Round",t[t.Bevel=2]="Bevel"})(lk||(lk={}));var ls=function(t){return pt.of(yt.SetGraphicsStateParams,[p0(t)])},Sr=function(){return pt.of(yt.PushGraphicsState)},kr=function(){return pt.of(yt.PopGraphicsState)},Rd=function(t){return pt.of(yt.SetLineWidth,[Ve(t)])},vn=function(t,e,r,n,i,o){return pt.of(yt.AppendBezierCurve,[Ve(t),Ve(e),Ve(r),Ve(n),Ve(i),Ve(o)])},Uh=function(t,e,r,n){return pt.of(yt.CurveToReplicateInitialPoint,[Ve(t),Ve(e),Ve(r),Ve(n)])},Qo=function(){return pt.of(yt.ClosePath)},Oi=function(t,e){return pt.of(yt.MoveTo,[Ve(t),Ve(e)])},Cr=function(t,e){return pt.of(yt.LineTo,[Ve(t),Ve(e)])},Pd=function(){return pt.of(yt.StrokePath)},qb=function(){return pt.of(yt.FillNonZero)},Kb=function(){return pt.of(yt.FillNonZeroAndStroke)},UT=function(){return pt.of(yt.EndPath)},K$=function(){return pt.of(yt.NextLine)},HT=function(t){return pt.of(yt.ShowText,[t])},WT=function(){return pt.of(yt.BeginText)},VT=function(){return pt.of(yt.EndText)},Xb=function(t,e){return pt.of(yt.SetFontAndSize,[p0(t),Ve(e)])},X$=function(t){return pt.of(yt.SetTextLineHeight,[Ve(t)])},ck;(function(t){t[t.Fill=0]="Fill",t[t.Outline=1]="Outline",t[t.FillAndOutline=2]="FillAndOutline",t[t.Invisible=3]="Invisible",t[t.FillAndClip=4]="FillAndClip",t[t.OutlineAndClip=5]="OutlineAndClip",t[t.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",t[t.Clip=7]="Clip"})(ck||(ck={}));var Z$=function(t,e,r,n,i,o){return pt.of(yt.SetTextMatrix,[Ve(t),Ve(e),Ve(r),Ve(n),Ve(i),Ve(o)])},GT=function(t,e,r,n,i){return Z$(hp(et(t)),fp(et(t))+pp(et(e)),-fp(et(t))+pp(et(r)),hp(et(t)),n,i)},Zb=function(t){return pt.of(yt.DrawObject,[p0(t)])},Y$=function(t){return pt.of(yt.NonStrokingColorGray,[Ve(t)])},J$=function(t){return pt.of(yt.StrokingColorGray,[Ve(t)])},Q$=function(t,e,r){return pt.of(yt.NonStrokingColorRgb,[Ve(t),Ve(e),Ve(r)])},$$=function(t,e,r){return pt.of(yt.StrokingColorRgb,[Ve(t),Ve(e),Ve(r)])},eee=function(t,e,r,n){return pt.of(yt.NonStrokingColorCmyk,[Ve(t),Ve(e),Ve(r),Ve(n)])},tee=function(t,e,r,n){return pt.of(yt.StrokingColorCmyk,[Ve(t),Ve(e),Ve(r),Ve(n)])},qT=function(t){return pt.of(yt.BeginMarkedContent,[p0(t)])},KT=function(){return pt.of(yt.EndMarkedContent)},$o;(function(t){t.Grayscale="Grayscale",t.RGB="RGB",t.CMYK="CMYK"})($o||($o={}));var XT=function(t){return mn(t,"gray",0,1),{type:$o.Grayscale,gray:t}},ut=function(t,e,r){return mn(t,"red",0,1),mn(e,"green",0,1),mn(r,"blue",0,1),{type:$o.RGB,red:t,green:e,blue:r}},ZT=function(t,e,r,n){return mn(t,"cyan",0,1),mn(e,"magenta",0,1),mn(r,"yellow",0,1),mn(n,"key",0,1),{type:$o.CMYK,cyan:t,magenta:e,yellow:r,key:n}},Yb=$o.Grayscale,Jb=$o.RGB,Qb=$o.CMYK,cs=function(t){return t.type===Yb?Y$(t.gray):t.type===Jb?Q$(t.red,t.green,t.blue):t.type===Qb?eee(t.cyan,t.magenta,t.yellow,t.key):kd("Invalid color: "+JSON.stringify(t))},Od=function(t){return t.type===Yb?J$(t.gray):t.type===Jb?$$(t.red,t.green,t.blue):t.type===Qb?tee(t.cyan,t.magenta,t.yellow,t.key):kd("Invalid color: "+JSON.stringify(t))},Xr=function(t,e){return e===void 0&&(e=1),(t==null?void 0:t.length)===1?XT(t[0]*e):(t==null?void 0:t.length)===3?ut(t[0]*e,t[1]*e,t[2]*e):(t==null?void 0:t.length)===4?ZT(t[0]*e,t[1]*e,t[2]*e,t[3]*e):void 0},uk=function(t){return t.type===Yb?[t.gray]:t.type===Jb?[t.red,t.green,t.blue]:t.type===Qb?[t.cyan,t.magenta,t.yellow,t.key]:kd("Invalid color: "+JSON.stringify(t))},De=0,Ie=0,ht=0,ft=0,Qc=0,$c=0,dk=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),ree=function(t){for(var e,r=[],n=[],i="",o=!1,a=0,s=0,l=t;s<l.length;s++){var c=l[s];if(dk.has(c))a=dk.get(c),e&&(i.length>0&&(n[n.length]=+i),r[r.length]={cmd:e,args:n},n=[],i="",o=!1),e=c;else if([" ",","].includes(c)||c==="-"&&i.length>0&&i[i.length-1]!=="e"||c==="."&&o){if(i.length===0)continue;n.length===a?(r[r.length]={cmd:e,args:n},n=[+i],e==="M"&&(e="L"),e==="m"&&(e="l")):n[n.length]=+i,o=c===".",i=["-","."].includes(c)?c:""}else i+=c,c==="."&&(o=!0)}return i.length>0&&(n.length===a?(r[r.length]={cmd:e,args:n},n=[+i],e==="M"&&(e="L"),e==="m"&&(e="l")):n[n.length]=+i),r[r.length]={cmd:e,args:n},r},nee=function(t){De=Ie=ht=ft=Qc=$c=0;for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n.cmd&&typeof hk[n.cmd]=="function"){var i=hk[n.cmd](n.args);Array.isArray(i)?e=e.concat(i):e.push(i)}}return e},hk={M:function(t){return De=t[0],Ie=t[1],ht=ft=null,Qc=De,$c=Ie,Oi(De,Ie)},m:function(t){return De+=t[0],Ie+=t[1],ht=ft=null,Qc=De,$c=Ie,Oi(De,Ie)},C:function(t){return De=t[4],Ie=t[5],ht=t[2],ft=t[3],vn(t[0],t[1],t[2],t[3],t[4],t[5])},c:function(t){var e=vn(t[0]+De,t[1]+Ie,t[2]+De,t[3]+Ie,t[4]+De,t[5]+Ie);return ht=De+t[2],ft=Ie+t[3],De+=t[4],Ie+=t[5],e},S:function(t){(ht===null||ft===null)&&(ht=De,ft=Ie);var e=vn(De-(ht-De),Ie-(ft-Ie),t[0],t[1],t[2],t[3]);return ht=t[0],ft=t[1],De=t[2],Ie=t[3],e},s:function(t){(ht===null||ft===null)&&(ht=De,ft=Ie);var e=vn(De-(ht-De),Ie-(ft-Ie),De+t[0],Ie+t[1],De+t[2],Ie+t[3]);return ht=De+t[0],ft=Ie+t[1],De+=t[2],Ie+=t[3],e},Q:function(t){return ht=t[0],ft=t[1],De=t[2],Ie=t[3],Uh(t[0],t[1],De,Ie)},q:function(t){var e=Uh(t[0]+De,t[1]+Ie,t[2]+De,t[3]+Ie);return ht=De+t[0],ft=Ie+t[1],De+=t[2],Ie+=t[3],e},T:function(t){ht===null||ft===null?(ht=De,ft=Ie):(ht=De-(ht-De),ft=Ie-(ft-Ie));var e=Uh(ht,ft,t[0],t[1]);return ht=De-(ht-De),ft=Ie-(ft-Ie),De=t[0],Ie=t[1],e},t:function(t){ht===null||ft===null?(ht=De,ft=Ie):(ht=De-(ht-De),ft=Ie-(ft-Ie));var e=Uh(ht,ft,De+t[0],Ie+t[1]);return De+=t[0],Ie+=t[1],e},A:function(t){var e=fk(De,Ie,t);return De=t[5],Ie=t[6],e},a:function(t){t[5]+=De,t[6]+=Ie;var e=fk(De,Ie,t);return De=t[5],Ie=t[6],e},L:function(t){return De=t[0],Ie=t[1],ht=ft=null,Cr(De,Ie)},l:function(t){return De+=t[0],Ie+=t[1],ht=ft=null,Cr(De,Ie)},H:function(t){return De=t[0],ht=ft=null,Cr(De,Ie)},h:function(t){return De+=t[0],ht=ft=null,Cr(De,Ie)},V:function(t){return Ie=t[0],ht=ft=null,Cr(De,Ie)},v:function(t){return Ie+=t[0],ht=ft=null,Cr(De,Ie)},Z:function(){var t=Qo();return De=Qc,Ie=$c,t},z:function(){var t=Qo();return De=Qc,Ie=$c,t}},fk=function(t,e,r){for(var n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],c=r[6],d=iee(l,c,n,i,a,s,o,t,e),h=[],f=0,p=d;f<p.length;f++){var g=p[f],m=oee.apply(void 0,g);h.push(vn.apply(void 0,m))}return h},iee=function(t,e,r,n,i,o,a,s,l){var c=a*(Math.PI/180),d=Math.sin(c),h=Math.cos(c);r=Math.abs(r),n=Math.abs(n),ht=h*(s-t)*.5+d*(l-e)*.5,ft=h*(l-e)*.5-d*(s-t)*.5;var f=ht*ht/(r*r)+ft*ft/(n*n);f>1&&(f=Math.sqrt(f),r*=f,n*=f);var p=h/r,g=d/r,m=-d/n,y=h/n,v=p*s+g*l,b=m*s+y*l,x=p*t+g*e,w=m*t+y*e,S=(x-v)*(x-v)+(w-b)*(w-b),k=1/S-.25;k<0&&(k=0);var C=Math.sqrt(k);o===i&&(C=-C);var P=.5*(v+x)-C*(w-b),E=.5*(b+w)+C*(x-v),R=Math.atan2(b-E,v-P),N=Math.atan2(w-E,x-P),T=N-R;T<0&&o===1?T+=2*Math.PI:T>0&&o===0&&(T-=2*Math.PI);for(var D=Math.ceil(Math.abs(T/(Math.PI*.5+.001))),_=[],G=0;G<D;G++){var U=R+G*T/D,O=R+(G+1)*T/D;_[G]=[P,E,U,O,r,n,d,h]}return _},oee=function(t,e,r,n,i,o,a,s){var l=s*i,c=-a*o,d=a*i,h=s*o,f=.5*(n-r),p=8/3*Math.sin(f*.5)*Math.sin(f*.5)/Math.sin(f),g=t+Math.cos(r)-p*Math.sin(r),m=e+Math.sin(r)+p*Math.cos(r),y=t+Math.cos(n),v=e+Math.sin(n),b=y+p*Math.sin(n),x=v-p*Math.cos(n),w=[l*g+c*m,d*g+h*m,l*b+c*x,d*b+h*x,l*y+c*v,d*y+h*v];return w},aee=function(t){return nee(ree(t))},see=function(t,e){for(var r=[Sr(),e.graphicsState&&ls(e.graphicsState),WT(),cs(e.color),Xb(e.font,e.size),X$(e.lineHeight),GT(Ar(e.rotate),Ar(e.xSkew),Ar(e.ySkew),e.x,e.y)].filter(Boolean),n=0,i=t.length;n<i;n++)r.push(HT(t[n]),K$());return r.push(VT(),kr()),r},YT=function(t,e){return[Sr(),e.graphicsState&&ls(e.graphicsState),Mn(e.x,e.y),ac(Ar(e.rotate)),nd(e.width,e.height),Gb(Ar(e.xSkew),Ar(e.ySkew)),Zb(t),kr()].filter(Boolean)},lee=function(t,e){return[Sr(),e.graphicsState&&ls(e.graphicsState),Mn(e.x,e.y),ac(Ar(e.rotate)),nd(e.xScale,e.yScale),Gb(Ar(e.xSkew),Ar(e.ySkew)),Zb(t),kr()].filter(Boolean)},cee=function(t){var e,r;return[Sr(),t.graphicsState&&ls(t.graphicsState),t.color&&Od(t.color),Rd(t.thickness),m0((e=t.dashArray)!==null&&e!==void 0?e:[],(r=t.dashPhase)!==null&&r!==void 0?r:0),Oi(t.start.x,t.start.y),t.lineCap&&v0(t.lineCap),Oi(t.start.x,t.start.y),Cr(t.end.x,t.end.y),Pd(),kr()].filter(Boolean)},Ll=function(t){var e,r;return[Sr(),t.graphicsState&&ls(t.graphicsState),t.color&&cs(t.color),t.borderColor&&Od(t.borderColor),Rd(t.borderWidth),t.borderLineCap&&v0(t.borderLineCap),m0((e=t.borderDashArray)!==null&&e!==void 0?e:[],(r=t.borderDashPhase)!==null&&r!==void 0?r:0),Mn(t.x,t.y),ac(Ar(t.rotate)),Gb(Ar(t.xSkew),Ar(t.ySkew)),Oi(0,0),Cr(0,t.height),Cr(t.width,t.height),Cr(t.width,0),Qo(),t.color&&t.borderWidth?Kb():t.color?qb():t.borderColor?Pd():Qo(),kr()].filter(Boolean)},gp=4*((Math.sqrt(2)-1)/3),uee=function(t){var e=et(t.x),r=et(t.y),n=et(t.xScale),i=et(t.yScale);e-=n,r-=i;var o=n*gp,a=i*gp,s=e+n*2,l=r+i*2,c=e+n,d=r+i;return[Sr(),Oi(e,d),vn(e,d-a,c-o,r,c,r),vn(c+o,r,s,d-a,s,d),vn(s,d+a,c+o,l,c,l),vn(c-o,l,e,d+a,e,d),kr()]},dee=function(t){var e=et(t.x),r=et(t.y),n=et(t.xScale),i=et(t.yScale),o=-n,a=-i,s=n*gp,l=i*gp,c=o+n*2,d=a+i*2,h=o+n,f=a+i;return[Mn(e,r),ac(Ar(t.rotate)),Oi(o,f),vn(o,f-l,h-s,a,h,a),vn(h+s,a,c,f-l,c,f),vn(c,f+l,h+s,d,h,d),vn(h-s,d,o,f+l,o,f)]},kv=function(t){var e,r,n;return vt([Sr(),t.graphicsState&&ls(t.graphicsState),t.color&&cs(t.color),t.borderColor&&Od(t.borderColor),Rd(t.borderWidth),t.borderLineCap&&v0(t.borderLineCap),m0((e=t.borderDashArray)!==null&&e!==void 0?e:[],(r=t.borderDashPhase)!==null&&r!==void 0?r:0)],t.rotate===void 0?uee({x:t.x,y:t.y,xScale:t.xScale,yScale:t.yScale}):dee({x:t.x,y:t.y,xScale:t.xScale,yScale:t.yScale,rotate:(n=t.rotate)!==null&&n!==void 0?n:Be(0)}),[t.color&&t.borderWidth?Kb():t.color?qb():t.borderColor?Pd():Qo(),kr()]).filter(Boolean)},hee=function(t,e){var r,n,i;return vt([Sr(),e.graphicsState&&ls(e.graphicsState),Mn(e.x,e.y),ac(Ar((r=e.rotate)!==null&&r!==void 0?r:Be(0))),e.scale?nd(e.scale,-e.scale):nd(1,-1),e.color&&cs(e.color),e.borderColor&&Od(e.borderColor),e.borderWidth&&Rd(e.borderWidth),e.borderLineCap&&v0(e.borderLineCap),m0((n=e.borderDashArray)!==null&&n!==void 0?n:[],(i=e.borderDashPhase)!==null&&i!==void 0?i:0)],aee(t),[e.color&&e.borderWidth?Kb():e.color?qb():e.borderColor?Pd():Qo(),kr()]).filter(Boolean)},fee=function(t){var e=et(t.size),r=-1+.75,n=-1+.51,i=1-.525,o=1-.31,a=-1+.325,s=.3995/(i-n)+n;return[Sr(),t.color&&Od(t.color),Rd(t.thickness),Mn(t.x,t.y),Oi(a*e,s*e),Cr(r*e,n*e),Cr(o*e,i*e),Pd(),kr()].filter(Boolean)},la=function(t){return t.rotation===0?[Mn(0,0),Bh(0)]:t.rotation===90?[Mn(t.width,0),Bh(90)]:t.rotation===180?[Mn(t.width,t.height),Bh(180)]:t.rotation===270?[Mn(0,t.height),Bh(270)]:[]},Hh=function(t){var e=Ll({x:t.x,y:t.y,width:t.width,height:t.height,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)});if(!t.filled)return e;var r=et(t.width),n=et(t.height),i=Math.min(r,n)/2,o=fee({x:r/2,y:n/2,size:i,thickness:t.thickness,color:t.markColor});return vt([Sr()],e,o,[kr()])},Wh=function(t){var e=et(t.width),r=et(t.height),n=Math.min(e,r)/2,i=kv({x:t.x,y:t.y,xScale:n,yScale:n,color:t.color,borderColor:t.borderColor,borderWidth:t.borderWidth});if(!t.filled)return i;var o=kv({x:t.x,y:t.y,xScale:n*.45,yScale:n*.45,color:t.dotColor,borderColor:void 0,borderWidth:0});return vt([Sr()],i,o,[kr()])},pk=function(t){var e=et(t.x),r=et(t.y),n=et(t.width),i=et(t.height),o=Ll({x:e,y:r,width:n,height:i,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)}),a=$b(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)});return vt([Sr()],o,a,[kr()])},$b=function(t,e){for(var r=[WT(),cs(e.color),Xb(e.font,e.size)],n=0,i=t.length;n<i;n++){var o=t[n],a=o.encoded,s=o.x,l=o.y;r.push(GT(Ar(e.rotate),Ar(e.xSkew),Ar(e.ySkew),s,l),HT(a))}return r.push(VT()),r},JT=function(t){var e=et(t.x),r=et(t.y),n=et(t.width),i=et(t.height),o=et(t.borderWidth),a=et(t.padding),s=e+o/2+a,l=r+o/2+a,c=n-(o/2+a)*2,d=i-(o/2+a)*2,h=[Oi(s,l),Cr(s,l+d),Cr(s+c,l+d),Cr(s+c,l),Qo(),BT(),UT()],f=Ll({x:e,y:r,width:n,height:i,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)}),p=$b(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)}),g=vt([qT("Tx"),Sr()],p,[kr(),KT()]);return vt([Sr()],f,h,g,[kr()])},pee=function(t){for(var e=et(t.x),r=et(t.y),n=et(t.width),i=et(t.height),o=et(t.lineHeight),a=et(t.borderWidth),s=et(t.padding),l=e+a/2+s,c=r+a/2+s,d=n-(a/2+s)*2,h=i-(a/2+s)*2,f=[Oi(l,c),Cr(l,c+h),Cr(l+d,c+h),Cr(l+d,c),Qo(),BT(),UT()],p=Ll({x:e,y:r,width:n,height:i,borderWidth:t.borderWidth,color:t.color,borderColor:t.borderColor,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)}),g=[],m=0,y=t.selectedLines.length;m<y;m++){var v=t.textLines[t.selectedLines[m]];g.push.apply(g,Ll({x:v.x-s,y:v.y-(o-v.height)/2,width:n-a,height:v.height+(o-v.height)/2,borderWidth:0,color:t.selectedColor,borderColor:void 0,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)}))}var b=$b(t.textLines,{color:t.textColor,font:t.font,size:t.fontSize,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)}),x=vt([qT("Tx"),Sr()],b,[kr(),KT()]);return vt([Sr()],p,g,f,x,[kr()])},gee=function(t){ye(e,t);function e(){var r=this,n="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return r=t.call(this,n)||this,r}return e}(Error),mee=function(t){ye(e,t);function e(){var r=this,n="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return r=t.call(this,n)||this,r}return e}(Error),vee=function(t){ye(e,t);function e(){var r=this,n="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return r=t.call(this,n)||this,r}return e}(Error),yee=function(t){ye(e,t);function e(){var r=this,n="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return r=t.call(this,n)||this,r}return e}(Error),bee=function(t){ye(e,t);function e(r){var n=this,i='PDFDocument has no form field with the name "'+r+'"';return n=t.call(this,i)||this,n}return e}(Error),xa=function(t){ye(e,t);function e(r,n,i){var o,a,s=this,l=n==null?void 0:n.name,c=(a=(o=i==null?void 0:i.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:i,d='Expected field "'+r+'" to be of type '+l+", "+("but it is actually of type "+c);return s=t.call(this,d)||this,s}return e}(Error);(function(t){ye(e,t);function e(r){var n=this,i='Failed to select check box due to missing onValue: "'+r+'"';return n=t.call(this,i)||this,n}return e})(Error);var QT=function(t){ye(e,t);function e(r){var n=this,i='A field already exists with the specified name: "'+r+'"';return n=t.call(this,i)||this,n}return e}(Error),xee=function(t){ye(e,t);function e(r){var n=this,i='Field name contains invalid component: "'+r+'"';return n=t.call(this,i)||this,n}return e}(Error);(function(t){ye(e,t);function e(r){var n=this,i='A non-terminal field already exists with the specified name: "'+r+'"';return n=t.call(this,i)||this,n}return e})(Error);var wee=function(t){ye(e,t);function e(r){var n=this,i="Reading rich text fields is not supported: Attempted to read rich text field: "+r;return n=t.call(this,i)||this,n}return e}(Error),See=function(t){ye(e,t);function e(r,n){var i=this,o="Failed to layout combed text as lineLength="+r+" is greater than cellCount="+n;return i=t.call(this,o)||this,i}return e}(Error),kee=function(t){ye(e,t);function e(r,n,i){var o=this,a="Attempted to set text with length="+r+" for TextField with maxLength="+n+" and name="+i;return o=t.call(this,a)||this,o}return e}(Error),_ee=function(t){ye(e,t);function e(r,n,i){var o=this,a="Attempted to set maxLength="+n+", which is less than "+r+", the length of this field's current value (name="+i+")";return o=t.call(this,a)||this,o}return e}(Error),yr;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(yr||(yr={}));var $T=4,e3=500,t3=function(t,e,r,n){n===void 0&&(n=!1);for(var i=$T;i<e3;){for(var o=0,a=0,s=t.length;a<s;a++){o+=1;for(var l=t[a],c=l.split(" "),d=r.width,h=0,f=c.length;h<f;h++){var p=h===f-1,g=p?c[h]:c[h]+" ",m=e.widthOfTextAtSize(g,i);d-=m,d<=0&&(o+=1,d=r.width-m)}}if(!n&&o>t.length)return i-1;var y=e.heightAtSize(i),v=y+y*.2,b=v*o;if(b>Math.abs(r.height))return i-1;i+=1}return i},Cee=function(t,e,r,n){for(var i=r.width/n,o=r.height,a=$T,s=eY(t);a<e3;){for(var l=0,c=s.length;l<c;l++){var d=s[l],h=e.widthOfTextAtSize(d,a)>i*.75;if(h)return a-1}var f=e.heightAtSize(a,{descender:!1});if(f>o)return a-1;a+=1}return a},jee=function(t){for(var e=t.length;e>0;e--)if(/\s/.test(t[e]))return e},Eee=function(t,e,r,n){for(var i,o=t.length;o>0;){var a=t.substring(0,o),s=r.encodeText(a),l=r.widthOfTextAtSize(a,n);if(l<e){var c=t.substring(o)||void 0;return{line:a,encoded:s,width:l,remainder:c}}o=(i=jee(a))!==null&&i!==void 0?i:0}return{line:t,encoded:r.encodeText(t),width:r.widthOfTextAtSize(t,n),remainder:void 0}},r3=function(t,e){var r=e.alignment,n=e.fontSize,i=e.font,o=e.bounds,a=v5(Sd(t));(n===void 0||n===0)&&(n=t3(a,i,o,!0));for(var s=i.heightAtSize(n),l=s+s*.2,c=[],d=o.x,h=o.y,f=o.x+o.width,p=o.y+o.height,g=o.y+o.height,m=0,y=a.length;m<y;m++)for(var v=a[m];v!==void 0;){var b=Eee(v,o.width,i,n),x=b.line,w=b.encoded,S=b.width,k=b.remainder,C=r===yr.Left?o.x:r===yr.Center?o.x+o.width/2-S/2:r===yr.Right?o.x+o.width-S:o.x;g-=l,C<d&&(d=C),g<h&&(h=g),C+S>f&&(f=C+S),g+s>p&&(p=g+s),c.push({text:x,encoded:w,width:S,height:s,x:C,y:g}),v=k==null?void 0:k.trim()}return{fontSize:n,lineHeight:l,lines:c,bounds:{x:d,y:h,width:f-d,height:p-h}}},Tee=function(t,e){var r=e.fontSize,n=e.font,i=e.bounds,o=e.cellCount,a=y5(Sd(t));if(a.length>o)throw new See(a.length,o);(r===void 0||r===0)&&(r=Cee(a,n,i,o));for(var s=i.width/o,l=n.heightAtSize(r,{descender:!1}),c=i.y+(i.height/2-l/2),d=[],h=i.x,f=i.y,p=i.x+i.width,g=i.y+i.height,m=0,y=0;m<o;){var v=b5(a,y),b=v[0],x=v[1],w=n.encodeText(b),S=n.widthOfTextAtSize(b,r),k=i.x+(s*m+s/2),C=k-S/2;C<h&&(h=C),c<f&&(f=c),C+S>p&&(p=C+S),c+l>g&&(g=c+l),d.push({text:a,encoded:w,width:S,height:l,x:C,y:c}),m+=1,y+=x}return{fontSize:r,cells:d,bounds:{x:h,y:f,width:p-h,height:g-f}}},mp=function(t,e){var r=e.alignment,n=e.fontSize,i=e.font,o=e.bounds,a=y5(Sd(t));(n===void 0||n===0)&&(n=t3([a],i,o));var s=i.encodeText(a),l=i.widthOfTextAtSize(a,n),c=i.heightAtSize(n,{descender:!1}),d=r===yr.Left?o.x:r===yr.Center?o.x+o.width/2-l/2:r===yr.Right?o.x+o.width-l:o.x,h=o.y+(o.height/2-c/2);return{fontSize:n,line:{text:a,encoded:s,width:l,height:c,x:d,y:h},bounds:{x:d,y:h,width:l,height:c}}},sc=function(t){return"normal"in t?t:{normal:t}},Ree=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,ea=function(t){var e,r,n=(e=t.getDefaultAppearance())!==null&&e!==void 0?e:"",i=(r=Cb(n,Ree).match)!==null&&r!==void 0?r:[],o=Number(i[2]);return isFinite(o)?o:void 0},Pee=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Gn=function(t){var e,r=(e=t.getDefaultAppearance())!==null&&e!==void 0?e:"",n=Cb(r,Pee).match,i=n??[],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5];if(c==="g"&&o)return XT(Number(o));if(c==="rg"&&o&&a&&s)return ut(Number(o),Number(a),Number(s));if(c==="k"&&o&&a&&s&&l)return ZT(Number(o),Number(a),Number(s),Number(l))},qn=function(t,e,r,n){var i;n===void 0&&(n=0);var o=[cs(e).toString(),Xb((i=r==null?void 0:r.name)!==null&&i!==void 0?i:"dummy__noop",n).toString()].join(`
`);t.setDefaultAppearance(o)},Oee=function(t,e){var r,n,i,o=Gn(e),a=Gn(t.acroField),s=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),d=(r=c==null?void 0:c.getWidth())!==null&&r!==void 0?r:0,h=uo(l==null?void 0:l.getRotation()),f=ss(s,h),p=f.width,g=f.height,m=la(qe(qe({},s),{rotation:h})),y=ut(0,0,0),v=(n=Xr(l==null?void 0:l.getBorderColor()))!==null&&n!==void 0?n:y,b=Xr(l==null?void 0:l.getBackgroundColor()),x=Xr(l==null?void 0:l.getBackgroundColor(),.8),w=(i=o??a)!==null&&i!==void 0?i:y;qn(o?e:t.acroField,w);var S={x:0+d/2,y:0+d/2,width:p-d,height:g-d,thickness:1.5,borderWidth:d,borderColor:v,markColor:w};return{normal:{on:vt(m,Hh(qe(qe({},S),{color:b,filled:!0}))),off:vt(m,Hh(qe(qe({},S),{color:b,filled:!1})))},down:{on:vt(m,Hh(qe(qe({},S),{color:x,filled:!0}))),off:vt(m,Hh(qe(qe({},S),{color:x,filled:!1})))}}},Aee=function(t,e){var r,n,i,o=Gn(e),a=Gn(t.acroField),s=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),d=(r=c==null?void 0:c.getWidth())!==null&&r!==void 0?r:0,h=uo(l==null?void 0:l.getRotation()),f=ss(s,h),p=f.width,g=f.height,m=la(qe(qe({},s),{rotation:h})),y=ut(0,0,0),v=(n=Xr(l==null?void 0:l.getBorderColor()))!==null&&n!==void 0?n:y,b=Xr(l==null?void 0:l.getBackgroundColor()),x=Xr(l==null?void 0:l.getBackgroundColor(),.8),w=(i=o??a)!==null&&i!==void 0?i:y;qn(o?e:t.acroField,w);var S={x:p/2,y:g/2,width:p-d,height:g-d,borderWidth:d,borderColor:v,dotColor:w};return{normal:{on:vt(m,Wh(qe(qe({},S),{color:b,filled:!0}))),off:vt(m,Wh(qe(qe({},S),{color:b,filled:!1})))},down:{on:vt(m,Wh(qe(qe({},S),{color:x,filled:!0}))),off:vt(m,Wh(qe(qe({},S),{color:x,filled:!1})))}}},Nee=function(t,e,r){var n,i,o,a,s,l=Gn(e),c=Gn(t.acroField),d=ea(e),h=ea(t.acroField),f=e.getRectangle(),p=e.getAppearanceCharacteristics(),g=e.getBorderStyle(),m=p==null?void 0:p.getCaptions(),y=(n=m==null?void 0:m.normal)!==null&&n!==void 0?n:"",v=(o=(i=m==null?void 0:m.down)!==null&&i!==void 0?i:y)!==null&&o!==void 0?o:"",b=(a=g==null?void 0:g.getWidth())!==null&&a!==void 0?a:0,x=uo(p==null?void 0:p.getRotation()),w=ss(f,x),S=w.width,k=w.height,C=la(qe(qe({},f),{rotation:x})),P=ut(0,0,0),E=Xr(p==null?void 0:p.getBorderColor()),R=Xr(p==null?void 0:p.getBackgroundColor()),N=Xr(p==null?void 0:p.getBackgroundColor(),.8),T={x:b,y:b,width:S-b*2,height:k-b*2},D=mp(y,{alignment:yr.Center,fontSize:d??h,font:r,bounds:T}),_=mp(v,{alignment:yr.Center,fontSize:d??h,font:r,bounds:T}),G=Math.min(D.fontSize,_.fontSize),U=(s=l??c)!==null&&s!==void 0?s:P;qn(l||d!==void 0?e:t.acroField,U,r,G);var O={x:0+b/2,y:0+b/2,width:S-b,height:k-b,borderWidth:b,borderColor:E,textColor:U,font:r.name,fontSize:G};return{normal:vt(C,pk(qe(qe({},O),{color:R,textLines:[D.line]}))),down:vt(C,pk(qe(qe({},O),{color:N,textLines:[_.line]})))}},Fee=function(t,e,r){var n,i,o,a,s=Gn(e),l=Gn(t.acroField),c=ea(e),d=ea(t.acroField),h=e.getRectangle(),f=e.getAppearanceCharacteristics(),p=e.getBorderStyle(),g=(n=t.getText())!==null&&n!==void 0?n:"",m=(i=p==null?void 0:p.getWidth())!==null&&i!==void 0?i:0,y=uo(f==null?void 0:f.getRotation()),v=ss(h,y),b=v.width,x=v.height,w=la(qe(qe({},h),{rotation:y})),S=ut(0,0,0),k=Xr(f==null?void 0:f.getBorderColor()),C=Xr(f==null?void 0:f.getBackgroundColor()),P,E,R=t.isCombed()?0:1,N={x:m+R,y:m+R,width:b-(m+R)*2,height:x-(m+R)*2};if(t.isMultiline()){var T=r3(g,{alignment:t.getAlignment(),fontSize:c??d,font:r,bounds:N});P=T.lines,E=T.fontSize}else if(t.isCombed()){var T=Tee(g,{fontSize:c??d,font:r,bounds:N,cellCount:(o=t.getMaxLength())!==null&&o!==void 0?o:0});P=T.cells,E=T.fontSize}else{var T=mp(g,{alignment:t.getAlignment(),fontSize:c??d,font:r,bounds:N});P=[T.line],E=T.fontSize}var D=(a=s??l)!==null&&a!==void 0?a:S;qn(s||c!==void 0?e:t.acroField,D,r,E);var _={x:0+m/2,y:0+m/2,width:b-m,height:x-m,borderWidth:m??0,borderColor:k,textColor:D,font:r.name,fontSize:E,color:C,textLines:P,padding:R};return vt(w,JT(_))},Dee=function(t,e,r){var n,i,o,a=Gn(e),s=Gn(t.acroField),l=ea(e),c=ea(t.acroField),d=e.getRectangle(),h=e.getAppearanceCharacteristics(),f=e.getBorderStyle(),p=(n=t.getSelected()[0])!==null&&n!==void 0?n:"",g=(i=f==null?void 0:f.getWidth())!==null&&i!==void 0?i:0,m=uo(h==null?void 0:h.getRotation()),y=ss(d,m),v=y.width,b=y.height,x=la(qe(qe({},d),{rotation:m})),w=ut(0,0,0),S=Xr(h==null?void 0:h.getBorderColor()),k=Xr(h==null?void 0:h.getBackgroundColor()),C=1,P={x:g+C,y:g+C,width:v-(g+C)*2,height:b-(g+C)*2},E=mp(p,{alignment:yr.Left,fontSize:l??c,font:r,bounds:P}),R=E.line,N=E.fontSize,T=(o=a??s)!==null&&o!==void 0?o:w;qn(a||l!==void 0?e:t.acroField,T,r,N);var D={x:0+g/2,y:0+g/2,width:v-g,height:b-g,borderWidth:g??0,borderColor:S,textColor:T,font:r.name,fontSize:N,color:k,textLines:[R],padding:C};return vt(x,JT(D))},Iee=function(t,e,r){var n,i,o=Gn(e),a=Gn(t.acroField),s=ea(e),l=ea(t.acroField),c=e.getRectangle(),d=e.getAppearanceCharacteristics(),h=e.getBorderStyle(),f=(n=h==null?void 0:h.getWidth())!==null&&n!==void 0?n:0,p=uo(d==null?void 0:d.getRotation()),g=ss(c,p),m=g.width,y=g.height,v=la(qe(qe({},c),{rotation:p})),b=ut(0,0,0),x=Xr(d==null?void 0:d.getBorderColor()),w=Xr(d==null?void 0:d.getBackgroundColor()),S=t.getOptions(),k=t.getSelected();t.isSorted()&&S.sort();for(var C="",P=0,E=S.length;P<E;P++)C+=S[P],P<E-1&&(C+=`
`);for(var R=1,N={x:f+R,y:f+R,width:m-(f+R)*2,height:y-(f+R)*2},T=r3(C,{alignment:yr.Left,fontSize:s??l,font:r,bounds:N}),D=T.lines,_=T.fontSize,G=T.lineHeight,U=[],P=0,E=D.length;P<E;P++){var O=D[P];k.includes(O.text)&&U.push(P)}var W=ut(153/255,193/255,218/255),A=(i=o??a)!==null&&i!==void 0?i:b;return qn(o||s!==void 0?e:t.acroField,A,r,_),vt(v,pee({x:0+f/2,y:0+f/2,width:m-f,height:y-f,borderWidth:f??0,borderColor:x,textColor:A,font:r.name,fontSize:_,color:w,textLines:D,lineHeight:G,selectedColor:W,selectedLines:U,padding:R}))},n3=function(){function t(e,r,n){this.alreadyEmbedded=!1,Q(e,"ref",[[jt,"PDFRef"]]),Q(r,"doc",[[ta,"PDFDocument"]]),Q(n,"embedder",[[TT,"PDFPageEmbedder"]]),this.ref=e,this.doc=r,this.width=n.width,this.height=n.height,this.embedder=n}return t.prototype.scale=function(e){return Q(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},t.prototype.size=function(){return this.scale(1)},t.prototype.embed=function(){return Qe(this,void 0,void 0,function(){return $e(this,function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),_n=function(){function t(e,r,n){this.modified=!0,Q(e,"ref",[[jt,"PDFRef"]]),Q(r,"doc",[[ta,"PDFDocument"]]),Q(n,"embedder",[[zb,"CustomFontEmbedder"],[lp,"StandardFontEmbedder"]]),this.ref=e,this.doc=r,this.name=n.fontName,this.embedder=n}return t.prototype.encodeText=function(e){return Q(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},t.prototype.widthOfTextAtSize=function(e,r){return Q(e,"text",["string"]),Q(r,"size",["number"]),this.embedder.widthOfTextAtSize(e,r)},t.prototype.heightAtSize=function(e,r){var n;return Q(e,"size",["number"]),ge(r==null?void 0:r.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:(n=r==null?void 0:r.descender)!==null&&n!==void 0?n:!0})},t.prototype.sizeAtHeight=function(e){return Q(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},t.prototype.getCharacterSet=function(){return this.embedder instanceof lp?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},t.prototype.embed=function(){return Qe(this,void 0,void 0,function(){return $e(this,function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),_v=function(){function t(e,r,n){Q(e,"ref",[[jt,"PDFRef"]]),Q(r,"doc",[[ta,"PDFDocument"]]),Q(n,"embedder",[[_T,"JpegEmbedder"],[CT,"PngEmbedder"]]),this.ref=e,this.doc=r,this.width=n.width,this.height=n.height,this.embedder=n}return t.prototype.scale=function(e){return Q(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},t.prototype.scaleToFit=function(e,r){Q(e,"width",["number"]),Q(r,"height",["number"]);var n=e/this.width,i=r/this.height,o=Math.min(n,i);return this.scale(o)},t.prototype.size=function(){return this.scale(1)},t.prototype.embed=function(){return Qe(this,void 0,void 0,function(){var e,r,n;return $e(this,function(i){switch(i.label){case 0:return this.embedder?(this.embedTask||(e=this,r=e.doc,n=e.ref,this.embedTask=this.embedder.embedIntoContext(r.context,n)),[4,this.embedTask]):[2];case 1:return i.sent(),this.embedder=void 0,[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),Ko;(function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"})(Ko||(Ko={}));var lc=function(t){ge(t==null?void 0:t.x,"options.x",["number"]),ge(t==null?void 0:t.y,"options.y",["number"]),ge(t==null?void 0:t.width,"options.width",["number"]),ge(t==null?void 0:t.height,"options.height",["number"]),ge(t==null?void 0:t.textColor,"options.textColor",[[Object,"Color"]]),ge(t==null?void 0:t.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),ge(t==null?void 0:t.borderColor,"options.borderColor",[[Object,"Color"]]),ge(t==null?void 0:t.borderWidth,"options.borderWidth",["number"]),ge(t==null?void 0:t.rotate,"options.rotate",[[Object,"Rotation"]])},us=function(){function t(e,r,n){Q(e,"acroField",[[oc,"PDFAcroTerminal"]]),Q(r,"ref",[[jt,"PDFRef"]]),Q(n,"doc",[[ta,"PDFDocument"]]),this.acroField=e,this.ref=r,this.doc=n}return t.prototype.getName=function(){var e;return(e=this.acroField.getFullyQualifiedName())!==null&&e!==void 0?e:""},t.prototype.isReadOnly=function(){return this.acroField.hasFlag(ei.ReadOnly)},t.prototype.enableReadOnly=function(){this.acroField.setFlagTo(ei.ReadOnly,!0)},t.prototype.disableReadOnly=function(){this.acroField.setFlagTo(ei.ReadOnly,!1)},t.prototype.isRequired=function(){return this.acroField.hasFlag(ei.Required)},t.prototype.enableRequired=function(){this.acroField.setFlagTo(ei.Required,!0)},t.prototype.disableRequired=function(){this.acroField.setFlagTo(ei.Required,!1)},t.prototype.isExported=function(){return!this.acroField.hasFlag(ei.NoExport)},t.prototype.enableExporting=function(){this.acroField.setFlagTo(ei.NoExport,!1)},t.prototype.disableExporting=function(){this.acroField.setFlagTo(ei.NoExport,!0)},t.prototype.needsAppearancesUpdate=function(){throw new In(this.constructor.name,"needsAppearancesUpdate")},t.prototype.defaultUpdateAppearances=function(e){throw new In(this.constructor.name,"defaultUpdateAppearances")},t.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},t.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},t.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},t.prototype.createWidget=function(e){var r,n=e.textColor,i=e.backgroundColor,o=e.borderColor,a=e.borderWidth,s=zT(e.rotate),l=e.caption,c=e.x,d=e.y,h=e.width+a,f=e.height+a,p=!!e.hidden,g=e.page;vT(s,"degreesAngle",90);var m=wv.create(this.doc.context,this.ref),y=q$({x:c,y:d,width:h,height:f},a,s);m.setRectangle(y),g&&m.setP(g);var v=m.getOrCreateAppearanceCharacteristics();i&&v.setBackgroundColor(uk(i)),v.setRotation(s),l&&v.setCaptions({normal:l}),o&&v.setBorderColor(uk(o));var b=m.getOrCreateBorderStyle();if(a!==void 0&&b.setWidth(a),m.setFlagTo(_u.Print,!0),m.setFlagTo(_u.Hidden,p),m.setFlagTo(_u.Invisible,!1),n){var x=(r=this.acroField.getDefaultAppearance())!==null&&r!==void 0?r:"",w=x+`
`+cs(n).toString();this.acroField.setDefaultAppearance(w)}return m},t.prototype.updateWidgetAppearanceWithFont=function(e,r,n){var i=n.normal,o=n.rollover,a=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,i,r),rollover:o&&this.createAppearanceStream(e,o,r),down:a&&this.createAppearanceStream(e,a,r)})},t.prototype.updateOnOffWidgetAppearance=function(e,r,n){var i=n.normal,o=n.rollover,a=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,i,r),rollover:o&&this.createAppearanceDict(e,o,r),down:a&&this.createAppearanceDict(e,a,r)})},t.prototype.updateWidgetAppearances=function(e,r){var n=r.normal,i=r.rollover,o=r.down;e.setNormalAppearance(n),i?e.setRolloverAppearance(i):e.removeRolloverAppearance(),o?e.setDownAppearance(o):e.removeDownAppearance()},t.prototype.createAppearanceStream=function(e,r,n){var i,o=this.acroField.dict.context,a=e.getRectangle(),s=a.width,l=a.height,c=n&&{Font:(i={},i[n.name]=n.ref,i)},d=o.formXObject(r,{Resources:c,BBox:o.obj([0,0,s,l]),Matrix:o.obj([1,0,0,1,0,0])}),h=o.register(d);return h},t.prototype.createImageAppearanceStream=function(e,r,n){var i,o,a=this.acroField.dict.context,s=e.getRectangle(),l=e.getAppearanceCharacteristics(),c=e.getBorderStyle(),d=(o=c==null?void 0:c.getWidth())!==null&&o!==void 0?o:0,h=uo(l==null?void 0:l.getRotation()),f=la(qe(qe({},s),{rotation:h})),p=ss(s,h),g=r.scaleToFit(p.width-d*2,p.height-d*2),m={x:d,y:d,width:g.width,height:g.height,rotate:Be(0),xSkew:Be(0),ySkew:Be(0)};n===Ko.Center?(m.x+=(p.width-d*2)/2-g.width/2,m.y+=(p.height-d*2)/2-g.height/2):n===Ko.Right&&(m.x=p.width-d-g.width,m.y=p.height-d-g.height);var y=this.doc.context.addRandomSuffix("Image",10),v=vt(f,YT(y,m)),b={XObject:(i={},i[y]=r.ref,i)},x=a.formXObject(v,{Resources:b,BBox:a.obj([0,0,s.width,s.height]),Matrix:a.obj([1,0,0,1,0,0])});return a.register(x)},t.prototype.createAppearanceDict=function(e,r,n){var i=this.acroField.dict.context,o=this.createAppearanceStream(e,r.on),a=this.createAppearanceStream(e,r.off),s=i.obj({});return s.set(n,o),s.set(M.of("Off"),a),s},t}(),eu=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,r,n,i)||this;return Q(r,"acroCheckBox",[[a0,"PDFAcroCheckBox"]]),o.acroField=r,o}return e.prototype.check=function(){var r,n=(r=this.acroField.getOnValue())!==null&&r!==void 0?r:M.of("Yes");this.markAsDirty(),this.acroField.setValue(n)},e.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(M.of("Off"))},e.prototype.isChecked=function(){var r=this.acroField.getOnValue();return!!r&&r===this.acroField.getValue()},e.prototype.addToPage=function(r,n){var i,o,a,s,l,c;Q(r,"page",[[Nn,"PDFPage"]]),lc(n),n||(n={}),"textColor"in n||(n.textColor=ut(0,0,0)),"backgroundColor"in n||(n.backgroundColor=ut(1,1,1)),"borderColor"in n||(n.borderColor=ut(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var d=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(o=n.y)!==null&&o!==void 0?o:0,width:(a=n.width)!==null&&a!==void 0?a:50,height:(s=n.height)!==null&&s!==void 0?s:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:Be(0),hidden:n.hidden,page:r.ref}),h=this.doc.context.register(d.dict);this.acroField.addWidget(h),d.setAppearanceState(M.of("Off")),this.updateWidgetAppearance(d,M.of("Yes")),r.node.addAnnot(h)},e.prototype.needsAppearancesUpdate=function(){for(var r,n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=a.getAppearanceState(),l=(r=a.getAppearances())===null||r===void 0?void 0:r.normal;if(!(l instanceof Ye)||s&&!l.has(s))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(r){var n;ge(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,a=i.length;o<a;o++){var s=i[o],l=(n=s.getOnValue())!==null&&n!==void 0?n:M.of("Yes");l&&this.updateWidgetAppearance(s,l,r)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,i){var o=i??Oee,a=sc(o(this,r));this.updateOnOffWidgetAppearance(r,n,a)},e.of=function(r,n,i){return new e(r,n,i)},e}(us),ff=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,r,n,i)||this;return Q(r,"acroComboBox",[[s0,"PDFAcroComboBox"]]),o.acroField=r,o}return e.prototype.getOptions=function(){for(var r=this.acroField.getOptions(),n=new Array(r.length),i=0,o=n.length;i<o;i++){var a=r[i],s=a.display,l=a.value;n[i]=(s??l).decodeText()}return n},e.prototype.getSelected=function(){for(var r=this.acroField.getValues(),n=new Array(r.length),i=0,o=r.length;i<o;i++)n[i]=r[i].decodeText();return n},e.prototype.setOptions=function(r){Q(r,"options",[Array]);for(var n=new Array(r.length),i=0,o=r.length;i<o;i++)n[i]={value:ze.fromText(r[i])};this.acroField.setOptions(n)},e.prototype.addOptions=function(r){Q(r,"options",["string",Array]);for(var n=Array.isArray(r)?r:[r],i=this.acroField.getOptions(),o=new Array(n.length),a=0,s=n.length;a<s;a++)o[a]={value:ze.fromText(n[a])};this.acroField.setOptions(i.concat(o))},e.prototype.select=function(r,n){n===void 0&&(n=!1),Q(r,"options",["string",Array]),Q(n,"merge",["boolean"]);var i=Array.isArray(r)?r:[r],o=this.getOptions(),a=i.find(function(h){return!o.includes(h)});a&&this.enableEditing(),this.markAsDirty(),(i.length>1||i.length===1&&n)&&this.enableMultiselect();for(var s=new Array(i.length),l=0,c=i.length;l<c;l++)s[l]=ze.fromText(i[l]);if(n){var d=this.acroField.getValues();this.acroField.setValues(d.concat(s))}else this.acroField.setValues(s)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(r){i0(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.isEditable=function(){return this.acroField.hasFlag(_t.Edit)},e.prototype.enableEditing=function(){this.acroField.setFlagTo(_t.Edit,!0)},e.prototype.disableEditing=function(){this.acroField.setFlagTo(_t.Edit,!1)},e.prototype.isSorted=function(){return this.acroField.hasFlag(_t.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(_t.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(_t.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(_t.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(_t.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(_t.MultiSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(_t.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(_t.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(_t.DoNotSpellCheck,!0)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(_t.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(_t.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(_t.CommitOnSelChange,!1)},e.prototype.addToPage=function(r,n){var i,o,a,s,l,c,d;Q(r,"page",[[Nn,"PDFPage"]]),lc(n),n||(n={}),"textColor"in n||(n.textColor=ut(0,0,0)),"backgroundColor"in n||(n.backgroundColor=ut(1,1,1)),"borderColor"in n||(n.borderColor=ut(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var h=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(o=n.y)!==null&&o!==void 0?o:0,width:(a=n.width)!==null&&a!==void 0?a:200,height:(s=n.height)!==null&&s!==void 0?s:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:Be(0),hidden:n.hidden,page:r.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var p=(d=n.font)!==null&&d!==void 0?d:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,p),r.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=((r=a.getAppearances())===null||r===void 0?void 0:r.normal)instanceof wn;if(!s)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Q(r,"font",[[_n,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Q(r,"font",[[_n,"PDFFont"]]),ge(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,a=i.length;o<a;o++){var s=i[o];this.updateWidgetAppearance(s,r,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,i){var o=i??Dee,a=sc(o(this,r,n));this.updateWidgetAppearanceWithFont(r,n,a)},e.of=function(r,n,i){return new e(r,n,i)},e}(us),pf=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,r,n,i)||this;return Q(r,"acroListBox",[[d0,"PDFAcroListBox"]]),o.acroField=r,o}return e.prototype.getOptions=function(){for(var r=this.acroField.getOptions(),n=new Array(r.length),i=0,o=n.length;i<o;i++){var a=r[i],s=a.display,l=a.value;n[i]=(s??l).decodeText()}return n},e.prototype.getSelected=function(){for(var r=this.acroField.getValues(),n=new Array(r.length),i=0,o=r.length;i<o;i++)n[i]=r[i].decodeText();return n},e.prototype.setOptions=function(r){Q(r,"options",[Array]),this.markAsDirty();for(var n=new Array(r.length),i=0,o=r.length;i<o;i++)n[i]={value:ze.fromText(r[i])};this.acroField.setOptions(n)},e.prototype.addOptions=function(r){Q(r,"options",["string",Array]),this.markAsDirty();for(var n=Array.isArray(r)?r:[r],i=this.acroField.getOptions(),o=new Array(n.length),a=0,s=n.length;a<s;a++)o[a]={value:ze.fromText(n[a])};this.acroField.setOptions(i.concat(o))},e.prototype.select=function(r,n){n===void 0&&(n=!1),Q(r,"options",["string",Array]),Q(n,"merge",["boolean"]);var i=Array.isArray(r)?r:[r],o=this.getOptions();FQ(i,"option",o),this.markAsDirty(),(i.length>1||i.length===1&&n)&&this.enableMultiselect();for(var a=new Array(i.length),s=0,l=i.length;s<l;s++)a[s]=ze.fromText(i[s]);if(n){var c=this.acroField.getValues();this.acroField.setValues(c.concat(a))}else this.acroField.setValues(a)},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},e.prototype.setFontSize=function(r){i0(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.isSorted=function(){return this.acroField.hasFlag(_t.Sort)},e.prototype.enableSorting=function(){this.acroField.setFlagTo(_t.Sort,!0)},e.prototype.disableSorting=function(){this.acroField.setFlagTo(_t.Sort,!1)},e.prototype.isMultiselect=function(){return this.acroField.hasFlag(_t.MultiSelect)},e.prototype.enableMultiselect=function(){this.acroField.setFlagTo(_t.MultiSelect,!0)},e.prototype.disableMultiselect=function(){this.acroField.setFlagTo(_t.MultiSelect,!1)},e.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(_t.CommitOnSelChange)},e.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(_t.CommitOnSelChange,!0)},e.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(_t.CommitOnSelChange,!1)},e.prototype.addToPage=function(r,n){var i,o,a,s,l,c,d;Q(r,"page",[[Nn,"PDFPage"]]),lc(n),n||(n={}),"textColor"in n||(n.textColor=ut(0,0,0)),"backgroundColor"in n||(n.backgroundColor=ut(1,1,1)),"borderColor"in n||(n.borderColor=ut(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var h=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(o=n.y)!==null&&o!==void 0?o:0,width:(a=n.width)!==null&&a!==void 0?a:200,height:(s=n.height)!==null&&s!==void 0?s:100,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:Be(0),hidden:n.hidden,page:r.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var p=(d=n.font)!==null&&d!==void 0?d:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,p),r.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=((r=a.getAppearances())===null||r===void 0?void 0:r.normal)instanceof wn;if(!s)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Q(r,"font",[[_n,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Q(r,"font",[[_n,"PDFFont"]]),ge(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,a=i.length;o<a;o++){var s=i[o];this.updateWidgetAppearance(s,r,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,i){var o=i??Iee,a=sc(o(this,r,n));this.updateWidgetAppearanceWithFont(r,n,a)},e.of=function(r,n,i){return new e(r,n,i)},e}(us),tu=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,r,n,i)||this;return Q(r,"acroRadioButton",[[u0,"PDFAcroRadioButton"]]),o.acroField=r,o}return e.prototype.getOptions=function(){var r=this.acroField.getExportValues();if(r){for(var n=new Array(r.length),i=0,o=r.length;i<o;i++)n[i]=r[i].decodeText();return n}for(var a=this.acroField.getOnValues(),s=new Array(a.length),i=0,o=s.length;i<o;i++)s[i]=a[i].decodeText();return s},e.prototype.getSelected=function(){var r=this.acroField.getValue();if(r!==M.of("Off")){var n=this.acroField.getExportValues();if(n){for(var i=this.acroField.getOnValues(),o=0,a=i.length;o<a;o++)if(i[o]===r)return n[o].decodeText()}return r.decodeText()}},e.prototype.select=function(r){Q(r,"option",["string"]);var n=this.getOptions();Io(r,"option",n),this.markAsDirty();var i=this.acroField.getOnValues(),o=this.acroField.getExportValues();if(o)for(var a=0,s=o.length;a<s;a++)o[a].decodeText()===r&&this.acroField.setValue(i[a]);else for(var a=0,s=i.length;a<s;a++){var l=i[a];l.decodeText()===r&&this.acroField.setValue(l)}},e.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(M.of("Off"))},e.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(An.NoToggleToOff)},e.prototype.enableOffToggling=function(){this.acroField.setFlagTo(An.NoToggleToOff,!1)},e.prototype.disableOffToggling=function(){this.acroField.setFlagTo(An.NoToggleToOff,!0)},e.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(An.RadiosInUnison)},e.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(An.RadiosInUnison,!1)},e.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(An.RadiosInUnison,!0)},e.prototype.addOptionToPage=function(r,n,i){var o,a,s,l,c,d,h,f,p;Q(r,"option",["string"]),Q(n,"page",[[Nn,"PDFPage"]]),lc(i);var g=this.createWidget({x:(o=i==null?void 0:i.x)!==null&&o!==void 0?o:0,y:(a=i==null?void 0:i.y)!==null&&a!==void 0?a:0,width:(s=i==null?void 0:i.width)!==null&&s!==void 0?s:50,height:(l=i==null?void 0:i.height)!==null&&l!==void 0?l:50,textColor:(c=i==null?void 0:i.textColor)!==null&&c!==void 0?c:ut(0,0,0),backgroundColor:(d=i==null?void 0:i.backgroundColor)!==null&&d!==void 0?d:ut(1,1,1),borderColor:(h=i==null?void 0:i.borderColor)!==null&&h!==void 0?h:ut(0,0,0),borderWidth:(f=i==null?void 0:i.borderWidth)!==null&&f!==void 0?f:1,rotate:(p=i==null?void 0:i.rotate)!==null&&p!==void 0?p:Be(0),hidden:i==null?void 0:i.hidden,page:n.ref}),m=this.doc.context.register(g.dict),y=this.acroField.addWidgetWithOpt(m,ze.fromText(r),!this.isMutuallyExclusive());g.setAppearanceState(M.of("Off")),this.updateWidgetAppearance(g,y),n.node.addAnnot(m)},e.prototype.needsAppearancesUpdate=function(){for(var r,n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=a.getAppearanceState(),l=(r=a.getAppearances())===null||r===void 0?void 0:r.normal;if(!(l instanceof Ye)||s&&!l.has(s))return!0}return!1},e.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},e.prototype.updateAppearances=function(r){ge(r,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=a.getOnValue();s&&this.updateWidgetAppearance(a,s,r)}},e.prototype.updateWidgetAppearance=function(r,n,i){var o=i??Aee,a=sc(o(this,r));this.updateOnOffWidgetAppearance(r,n,a)},e.of=function(r,n,i){return new e(r,n,i)},e}(us),Cv=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,r,n,i)||this;return Q(r,"acroSignature",[[Ub,"PDFAcroSignature"]]),o.acroField=r,o}return e.prototype.needsAppearancesUpdate=function(){return!1},e.of=function(r,n,i){return new e(r,n,i)},e}(us),gf=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,r,n,i)||this;return Q(r,"acroText",[[l0,"PDFAcroText"]]),o.acroField=r,o}return e.prototype.getText=function(){var r=this.acroField.getValue();if(!r&&this.isRichFormatted())throw new wee(this.getName());return r==null?void 0:r.decodeText()},e.prototype.setText=function(r){ge(r,"text",["string"]);var n=this.getMaxLength();if(n!==void 0&&r&&r.length>n)throw new kee(r.length,n,this.getName());this.markAsDirty(),this.disableRichFormatting(),r?this.acroField.setValue(ze.fromText(r)):this.acroField.removeValue()},e.prototype.getAlignment=function(){var r=this.acroField.getQuadding();return r===0?yr.Left:r===1?yr.Center:r===2?yr.Right:yr.Left},e.prototype.setAlignment=function(r){Io(r,"alignment",yr),this.markAsDirty(),this.acroField.setQuadding(r)},e.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},e.prototype.setMaxLength=function(r){if($n(r,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),r===void 0)this.acroField.removeMaxLength();else{var n=this.getText();if(n&&n.length>r)throw new _ee(n.length,r,this.getName());this.acroField.setMaxLength(r)}},e.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},e.prototype.setImage=function(r){for(var n=this.getAlignment(),i=n===yr.Center?Ko.Center:n===yr.Right?Ko.Right:Ko.Left,o=this.acroField.getWidgets(),a=0,s=o.length;a<s;a++){var l=o[a],c=this.createImageAppearanceStream(l,r,i);this.updateWidgetAppearances(l,{normal:c})}this.markAsClean()},e.prototype.setFontSize=function(r){i0(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.isMultiline=function(){return this.acroField.hasFlag($t.Multiline)},e.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo($t.Multiline,!0)},e.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo($t.Multiline,!1)},e.prototype.isPassword=function(){return this.acroField.hasFlag($t.Password)},e.prototype.enablePassword=function(){this.acroField.setFlagTo($t.Password,!0)},e.prototype.disablePassword=function(){this.acroField.setFlagTo($t.Password,!1)},e.prototype.isFileSelector=function(){return this.acroField.hasFlag($t.FileSelect)},e.prototype.enableFileSelection=function(){this.acroField.setFlagTo($t.FileSelect,!0)},e.prototype.disableFileSelection=function(){this.acroField.setFlagTo($t.FileSelect,!1)},e.prototype.isSpellChecked=function(){return!this.acroField.hasFlag($t.DoNotSpellCheck)},e.prototype.enableSpellChecking=function(){this.acroField.setFlagTo($t.DoNotSpellCheck,!1)},e.prototype.disableSpellChecking=function(){this.acroField.setFlagTo($t.DoNotSpellCheck,!0)},e.prototype.isScrollable=function(){return!this.acroField.hasFlag($t.DoNotScroll)},e.prototype.enableScrolling=function(){this.acroField.setFlagTo($t.DoNotScroll,!1)},e.prototype.disableScrolling=function(){this.acroField.setFlagTo($t.DoNotScroll,!0)},e.prototype.isCombed=function(){return this.acroField.hasFlag($t.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},e.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var r="PDFTextFields must have a max length in order to be combed";console.warn(r)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo($t.Comb,!0)},e.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo($t.Comb,!1)},e.prototype.isRichFormatted=function(){return this.acroField.hasFlag($t.RichText)},e.prototype.enableRichFormatting=function(){this.acroField.setFlagTo($t.RichText,!0)},e.prototype.disableRichFormatting=function(){this.acroField.setFlagTo($t.RichText,!1)},e.prototype.addToPage=function(r,n){var i,o,a,s,l,c,d;Q(r,"page",[[Nn,"PDFPage"]]),lc(n),n||(n={}),"textColor"in n||(n.textColor=ut(0,0,0)),"backgroundColor"in n||(n.backgroundColor=ut(1,1,1)),"borderColor"in n||(n.borderColor=ut(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var h=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(o=n.y)!==null&&o!==void 0?o:0,width:(a=n.width)!==null&&a!==void 0?a:200,height:(s=n.height)!==null&&s!==void 0?s:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:Be(0),hidden:n.hidden,page:r.ref}),f=this.doc.context.register(h.dict);this.acroField.addWidget(f);var p=(d=n.font)!==null&&d!==void 0?d:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(h,p),r.node.addAnnot(f)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=((r=a.getAppearances())===null||r===void 0?void 0:r.normal)instanceof wn;if(!s)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Q(r,"font",[[_n,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Q(r,"font",[[_n,"PDFFont"]]),ge(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,a=i.length;o<a;o++){var s=i[o];this.updateWidgetAppearance(s,r,n)}this.markAsClean()},e.prototype.updateWidgetAppearance=function(r,n,i){var o=i??Fee,a=sc(o(this,r,n));this.updateWidgetAppearanceWithFont(r,n,a)},e.of=function(r,n,i){return new e(r,n,i)},e}(us),zl;(function(t){t.Courier="Courier",t.CourierBold="Courier-Bold",t.CourierOblique="Courier-Oblique",t.CourierBoldOblique="Courier-BoldOblique",t.Helvetica="Helvetica",t.HelveticaBold="Helvetica-Bold",t.HelveticaOblique="Helvetica-Oblique",t.HelveticaBoldOblique="Helvetica-BoldOblique",t.TimesRoman="Times-Roman",t.TimesRomanBold="Times-Bold",t.TimesRomanItalic="Times-Italic",t.TimesRomanBoldItalic="Times-BoldItalic",t.Symbol="Symbol",t.ZapfDingbats="ZapfDingbats"})(zl||(zl={}));var Mee=function(){function t(e,r){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(zl.Helvetica)},Q(e,"acroForm",[[dp,"PDFAcroForm"]]),Q(r,"doc",[[ta,"PDFDocument"]]),this.acroForm=e,this.doc=r,this.dirtyFields=new Set,this.defaultFontCache=Qi.populatedBy(this.embedDefaultFont)}return t.prototype.hasXFA=function(){return this.acroForm.dict.has(M.of("XFA"))},t.prototype.deleteXFA=function(){this.acroForm.dict.delete(M.of("XFA"))},t.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),r=[],n=0,i=e.length;n<i;n++){var o=e[n],a=o[0],s=o[1],l=Lee(a,s,this.doc);l&&r.push(l)}return r},t.prototype.getFieldMaybe=function(e){Q(e,"name",["string"]);for(var r=this.getFields(),n=0,i=r.length;n<i;n++){var o=r[n];if(o.getName()===e)return o}},t.prototype.getField=function(e){Q(e,"name",["string"]);var r=this.getFieldMaybe(e);if(r)return r;throw new bee(e)},t.prototype.getButton=function(e){Q(e,"name",["string"]);var r=this.getField(e);if(r instanceof mf)return r;throw new xa(e,mf,r)},t.prototype.getCheckBox=function(e){Q(e,"name",["string"]);var r=this.getField(e);if(r instanceof eu)return r;throw new xa(e,eu,r)},t.prototype.getDropdown=function(e){Q(e,"name",["string"]);var r=this.getField(e);if(r instanceof ff)return r;throw new xa(e,ff,r)},t.prototype.getOptionList=function(e){Q(e,"name",["string"]);var r=this.getField(e);if(r instanceof pf)return r;throw new xa(e,pf,r)},t.prototype.getRadioGroup=function(e){Q(e,"name",["string"]);var r=this.getField(e);if(r instanceof tu)return r;throw new xa(e,tu,r)},t.prototype.getSignature=function(e){Q(e,"name",["string"]);var r=this.getField(e);if(r instanceof Cv)return r;throw new xa(e,Cv,r)},t.prototype.getTextField=function(e){Q(e,"name",["string"]);var r=this.getField(e);if(r instanceof gf)return r;throw new xa(e,gf,r)},t.prototype.createButton=function(e){Q(e,"name",["string"]);var r=Ds(e),n=this.findOrCreateNonTerminals(r.nonTerminal),i=c0.create(this.doc.context);return i.setPartialName(r.terminal),Is(n,[i,i.ref],r.terminal),mf.of(i,i.ref,this.doc)},t.prototype.createCheckBox=function(e){Q(e,"name",["string"]);var r=Ds(e),n=this.findOrCreateNonTerminals(r.nonTerminal),i=a0.create(this.doc.context);return i.setPartialName(r.terminal),Is(n,[i,i.ref],r.terminal),eu.of(i,i.ref,this.doc)},t.prototype.createDropdown=function(e){Q(e,"name",["string"]);var r=Ds(e),n=this.findOrCreateNonTerminals(r.nonTerminal),i=s0.create(this.doc.context);return i.setPartialName(r.terminal),Is(n,[i,i.ref],r.terminal),ff.of(i,i.ref,this.doc)},t.prototype.createOptionList=function(e){Q(e,"name",["string"]);var r=Ds(e),n=this.findOrCreateNonTerminals(r.nonTerminal),i=d0.create(this.doc.context);return i.setPartialName(r.terminal),Is(n,[i,i.ref],r.terminal),pf.of(i,i.ref,this.doc)},t.prototype.createRadioGroup=function(e){Q(e,"name",["string"]);var r=Ds(e),n=this.findOrCreateNonTerminals(r.nonTerminal),i=u0.create(this.doc.context);return i.setPartialName(r.terminal),Is(n,[i,i.ref],r.terminal),tu.of(i,i.ref,this.doc)},t.prototype.createTextField=function(e){Q(e,"name",["string"]);var r=Ds(e),n=this.findOrCreateNonTerminals(r.nonTerminal),i=l0.create(this.doc.context);return i.setPartialName(r.terminal),Is(n,[i,i.ref],r.terminal),gf.of(i,i.ref,this.doc)},t.prototype.flatten=function(e){e===void 0&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var r=this.getFields(),n=0,i=r.length;n<i;n++){for(var o=r[n],a=o.acroField.getWidgets(),s=0,l=a.length;s<l;s++){var c=a[s],d=this.findWidgetPage(c),h=this.findWidgetAppearanceRef(o,c),f=d.node.newXObject("FlatWidget",h),p=c.getRectangle(),g=vt([Sr(),Mn(p.x,p.y)],la(qe(qe({},p),{rotation:0})),[Zb(f),kr()]).filter(Boolean);d.pushOperators.apply(d,g)}this.removeField(o)}},t.prototype.removeField=function(e){for(var r=e.acroField.getWidgets(),n=new Set,i=0,o=r.length;i<o;i++){var a=r[i],s=this.findWidgetAppearanceRef(e,a),l=this.findWidgetPage(a);n.add(l),l.node.removeAnnot(s)}n.forEach(function(p){return p.node.removeAnnot(e.ref)}),this.acroForm.removeField(e.acroField);for(var c=e.acroField.normalizedEntries().Kids,d=c.size(),h=0;h<d;h++){var f=c.get(h);f instanceof jt&&this.doc.context.delete(f)}this.doc.context.delete(e.ref)},t.prototype.updateFieldAppearances=function(e){ge(e,"font",[[_n,"PDFFont"]]),e=e??this.getDefaultFont();for(var r=this.getFields(),n=0,i=r.length;n<i;n++){var o=r[n];o.needsAppearancesUpdate()&&o.defaultUpdateAppearances(e)}},t.prototype.markFieldAsDirty=function(e){ge(e,"fieldRef",[[jt,"PDFRef"]]),this.dirtyFields.add(e)},t.prototype.markFieldAsClean=function(e){ge(e,"fieldRef",[[jt,"PDFRef"]]),this.dirtyFields.delete(e)},t.prototype.fieldIsDirty=function(e){return ge(e,"fieldRef",[[jt,"PDFRef"]]),this.dirtyFields.has(e)},t.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},t.prototype.findWidgetPage=function(e){var r=e.P(),n=this.doc.getPages().find(function(o){return o.ref===r});if(n===void 0){var i=this.doc.context.getObjectRef(e.dict);if(i===void 0)throw new Error("Could not find PDFRef for PDFObject");if(n=this.doc.findPageForAnnotationRef(i),n===void 0)throw new Error("Could not find page for PDFRef "+i)}return n},t.prototype.findWidgetAppearanceRef=function(e,r){var n,i=r.getNormalAppearance();if(i instanceof Ye&&(e instanceof eu||e instanceof tu)){var o=e.acroField.getValue(),a=(n=i.get(o))!==null&&n!==void 0?n:i.get(M.of("Off"));a instanceof jt&&(i=a)}if(!(i instanceof jt)){var s=e.getName();throw new Error("Failed to extract appearance ref for: "+s)}return i},t.prototype.findOrCreateNonTerminals=function(e){for(var r=[this.acroForm],n=0,i=e.length;n<i;n++){var o=e[n];if(!o)throw new xee(o);var a=r[0],s=r[1],l=this.findNonTerminal(o,a);if(l)r=l;else{var c=up.create(this.doc.context);c.setPartialName(o),c.setParent(s);var d=this.doc.context.register(c.dict);a.addField(d),r=[c,d]}}return r},t.prototype.findNonTerminal=function(e,r){for(var n=r instanceof dp?this.acroForm.getFields():Hb(r.Kids()),i=0,o=n.length;i<o;i++){var a=n[i],s=a[0],l=a[1];if(s.getPartialName()===e){if(s instanceof up)return[s,l];throw new QT(e)}}},t.of=function(e,r){return new t(e,r)},t}(),Lee=function(t,e,r){if(t instanceof c0)return mf.of(t,e,r);if(t instanceof a0)return eu.of(t,e,r);if(t instanceof s0)return ff.of(t,e,r);if(t instanceof d0)return pf.of(t,e,r);if(t instanceof l0)return gf.of(t,e,r);if(t instanceof u0)return tu.of(t,e,r);if(t instanceof Ub)return Cv.of(t,e,r)},Ds=function(t){if(t.length===0)throw new Error("PDF field names must not be empty strings");for(var e=t.split("."),r=0,n=e.length;r<n;r++)if(e[r]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+t+'"');return e.length===1?{nonTerminal:[],terminal:e[0]}:{nonTerminal:e.slice(0,e.length-1),terminal:e[e.length-1]}},Is=function(t,e,r){for(var n=t[0],i=t[1],o=e[0],a=e[1],s=n.normalizedEntries(),l=Hb("Kids"in s?s.Kids:s.Fields),c=0,d=l.length;c<d;c++)if(l[c][0].getPartialName()===r)throw new QT(r);n.addField(a),o.setParent(i)},zee={A4:[595.28,841.89]},jv;(function(t){t[t.Fastest=1/0]="Fastest",t[t.Fast=1500]="Fast",t[t.Medium=500]="Medium",t[t.Slow=100]="Slow"})(jv||(jv={}));var Bee=function(){function t(e,r,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=r,this.embedder=n}return t.prototype.embed=function(){return Qe(this,void 0,void 0,function(){var e,r,n,i,o;return $e(this,function(a){switch(a.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=a.sent(),this.doc.catalog.has(M.of("Names"))||this.doc.catalog.set(M.of("Names"),this.doc.context.obj({})),r=this.doc.catalog.lookup(M.of("Names"),Ye),r.has(M.of("EmbeddedFiles"))||r.set(M.of("EmbeddedFiles"),this.doc.context.obj({})),n=r.lookup(M.of("EmbeddedFiles"),Ye),n.has(M.of("Names"))||n.set(M.of("Names"),this.doc.context.obj([])),i=n.lookup(M.of("Names"),xt),i.push(ze.fromText(this.embedder.fileName)),i.push(e),this.doc.catalog.has(M.of("AF"))||this.doc.catalog.set(M.of("AF"),this.doc.context.obj([])),o=this.doc.catalog.lookup(M.of("AF"),xt),o.push(e),this.alreadyEmbedded=!0,a.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),Uee=function(){function t(e,r,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=r,this.embedder=n}return t.prototype.embed=function(){return Qe(this,void 0,void 0,function(){var e,r,n,i,o,a,s;return $e(this,function(l){switch(l.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,r=e.catalog,n=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:i=l.sent(),r.has(M.of("Names"))||r.set(M.of("Names"),n.obj({})),o=r.lookup(M.of("Names"),Ye),o.has(M.of("JavaScript"))||o.set(M.of("JavaScript"),n.obj({})),a=o.lookup(M.of("JavaScript"),Ye),a.has(M.of("Names"))||a.set(M.of("Names"),n.obj([])),s=a.lookup(M.of("Names"),xt),s.push(ze.fromText(this.embedder.scriptName)),s.push(i),this.alreadyEmbedded=!0,l.label=2;case 2:return[2]}})})},t.of=function(e,r,n){return new t(e,r,n)},t}(),Hee=function(){function t(e,r){this.script=e,this.scriptName=r}return t.for=function(e,r){return new t(e,r)},t.prototype.embedIntoContext=function(e,r){return Qe(this,void 0,void 0,function(){var n;return $e(this,function(i){return n=e.obj({Type:"Action",S:"JavaScript",JS:ze.fromText(this.script)}),r?(e.assign(r,n),[2,r]):[2,e.register(n)]})})},t}(),ta=function(){function t(e,r,n){var i=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var o=[];return i.catalog.Pages().traverse(function(a,s){if(a instanceof $i){var l=i.pageMap.get(a);l||(l=Nn.of(a,s,i),i.pageMap.set(a,l)),o.push(l)}}),o},this.getOrCreateForm=function(){var o=i.catalog.getOrCreateAcroForm();return Mee.of(o,i)},Q(e,"context",[[bv,"PDFContext"]]),Q(r,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Qi.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Qi.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!r&&this.isEncrypted)throw new gee;n&&this.updateInfoDict()}return t.load=function(e,r){return r===void 0&&(r={}),Qe(this,void 0,void 0,function(){var n,i,o,a,s,l,c,d,h,f,p,g;return $e(this,function(m){switch(m.label){case 0:return n=r.ignoreEncryption,i=n===void 0?!1:n,o=r.parseSpeed,a=o===void 0?jv.Slow:o,s=r.throwOnInvalidObject,l=s===void 0?!1:s,c=r.updateMetadata,d=c===void 0?!0:c,h=r.capNumbers,f=h===void 0?!1:h,Q(e,"pdf",["string",Uint8Array,ArrayBuffer]),Q(i,"ignoreEncryption",["boolean"]),Q(a,"parseSpeed",["number"]),Q(l,"throwOnInvalidObject",["boolean"]),p=Nc(e),[4,V$.forBytesWithOptions(p,a,l,f).parseDocument()];case 1:return g=m.sent(),[2,new t(g,i,d)]}})})},t.create=function(e){return e===void 0&&(e={}),Qe(this,void 0,void 0,function(){var r,n,i,o,a,s;return $e(this,function(l){return r=e.updateMetadata,n=r===void 0?!0:r,i=bv.create(),o=FT.withContext(i),a=i.register(o),s=NT.withContextAndPages(i,a),i.trailerInfo.Root=i.register(s),[2,new t(i,!1,n)]})})},t.prototype.registerFontkit=function(e){this.fontkit=e},t.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},t.prototype.getTitle=function(){var e=this.getInfoDict().lookup(M.Title);if(e)return xo(e),e.decodeText()},t.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(M.Author);if(e)return xo(e),e.decodeText()},t.prototype.getSubject=function(){var e=this.getInfoDict().lookup(M.Subject);if(e)return xo(e),e.decodeText()},t.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(M.Keywords);if(e)return xo(e),e.decodeText()},t.prototype.getCreator=function(){var e=this.getInfoDict().lookup(M.Creator);if(e)return xo(e),e.decodeText()},t.prototype.getProducer=function(){var e=this.getInfoDict().lookup(M.Producer);if(e)return xo(e),e.decodeText()},t.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(M.CreationDate);if(e)return xo(e),e.decodeDate()},t.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(M.ModDate);if(e)return xo(e),e.decodeDate()},t.prototype.setTitle=function(e,r){Q(e,"title",["string"]);var n=M.of("Title");if(this.getInfoDict().set(n,ze.fromText(e)),r!=null&&r.showInWindowTitleBar){var i=this.catalog.getOrCreateViewerPreferences();i.setDisplayDocTitle(!0)}},t.prototype.setAuthor=function(e){Q(e,"author",["string"]);var r=M.of("Author");this.getInfoDict().set(r,ze.fromText(e))},t.prototype.setSubject=function(e){Q(e,"author",["string"]);var r=M.of("Subject");this.getInfoDict().set(r,ze.fromText(e))},t.prototype.setKeywords=function(e){Q(e,"keywords",[Array]);var r=M.of("Keywords");this.getInfoDict().set(r,ze.fromText(e.join(" ")))},t.prototype.setCreator=function(e){Q(e,"creator",["string"]);var r=M.of("Creator");this.getInfoDict().set(r,ze.fromText(e))},t.prototype.setProducer=function(e){Q(e,"creator",["string"]);var r=M.of("Producer");this.getInfoDict().set(r,ze.fromText(e))},t.prototype.setLanguage=function(e){Q(e,"language",["string"]);var r=M.of("Lang");this.catalog.set(r,Ct.of(e))},t.prototype.setCreationDate=function(e){Q(e,"creationDate",[[Date,"Date"]]);var r=M.of("CreationDate");this.getInfoDict().set(r,Ct.fromDate(e))},t.prototype.setModificationDate=function(e){Q(e,"modificationDate",[[Date,"Date"]]);var r=M.of("ModDate");this.getInfoDict().set(r,Ct.fromDate(e))},t.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},t.prototype.getPages=function(){return this.pageCache.access()},t.prototype.getPage=function(e){var r=this.getPages();return mn(e,"index",0,r.length-1),r[e]},t.prototype.getPageIndices=function(){return cY(0,this.getPageCount())},t.prototype.removePage=function(e){var r=this.getPageCount();if(this.pageCount===0)throw new yee;mn(e,"index",0,r-1),this.catalog.removeLeafNode(e),this.pageCount=r-1},t.prototype.addPage=function(e){return Q(e,"page",["undefined",[Nn,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},t.prototype.insertPage=function(e,r){var n=this.getPageCount();if(mn(e,"index",0,n),Q(r,"page",["undefined",[Nn,"PDFPage"],Array]),!r||Array.isArray(r)){var i=Array.isArray(r)?r:zee.A4;r=Nn.create(this),r.setSize.apply(r,i)}else if(r.doc!==this)throw new vee;var o=this.catalog.insertLeafNode(r.ref,e);return r.node.setParent(o),this.pageMap.set(r.node,r),this.pageCache.invalidate(),this.pageCount=n+1,r},t.prototype.copyPages=function(e,r){return Qe(this,void 0,void 0,function(){var n,i,o,a,s,l,c,d;return $e(this,function(h){switch(h.label){case 0:return Q(e,"srcDoc",[[t,"PDFDocument"]]),Q(r,"indices",[Array]),[4,e.flush()];case 1:for(h.sent(),n=$S.for(e.context,this.context),i=e.getPages(),o=new Array(r.length),a=0,s=r.length;a<s;a++)l=i[r[a]],c=n.copy(l.node),d=this.context.register(c),o[a]=Nn.of(c,d,this);return[2,o]}})})},t.prototype.copy=function(){return Qe(this,void 0,void 0,function(){var e,r,n,i;return $e(this,function(o){switch(o.label){case 0:return[4,t.create()];case 1:return e=o.sent(),[4,e.copyPages(this,this.getPageIndices())];case 2:for(r=o.sent(),n=0,i=r.length;n<i;n++)e.addPage(r[n]);return this.getAuthor()!==void 0&&e.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&e.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&e.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&e.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&e.setProducer(this.getProducer()),this.getSubject()!==void 0&&e.setSubject(this.getSubject()),this.getTitle()!==void 0&&e.setTitle(this.getTitle()),e.defaultWordBreaks=this.defaultWordBreaks,[2,e]}})})},t.prototype.addJavaScript=function(e,r){Q(e,"name",["string"]),Q(r,"script",["string"]);var n=Hee.for(r,e),i=this.context.nextRef(),o=Uee.of(i,this,n);this.javaScripts.push(o)},t.prototype.attach=function(e,r,n){return n===void 0&&(n={}),Qe(this,void 0,void 0,function(){var i,o,a,s;return $e(this,function(l){return Q(e,"attachment",["string",Uint8Array,ArrayBuffer]),Q(r,"name",["string"]),ge(n.mimeType,"mimeType",["string"]),ge(n.description,"description",["string"]),ge(n.creationDate,"options.creationDate",[Date]),ge(n.modificationDate,"options.modificationDate",[Date]),Rn(n.afRelationship,"options.afRelationship",xv),i=Nc(e),o=m$.for(i,r,n),a=this.context.nextRef(),s=Bee.of(a,this,o),this.embeddedFiles.push(s),[2]})})},t.prototype.embedFont=function(e,r){return r===void 0&&(r={}),Qe(this,void 0,void 0,function(){var n,i,o,a,s,l,c,d,h,f;return $e(this,function(p){switch(p.label){case 0:return n=r.subset,i=n===void 0?!1:n,o=r.customName,a=r.features,Q(e,"font",["string",Uint8Array,ArrayBuffer]),Q(i,"subset",["boolean"]),VS(e)?(s=lp.for(e,o),[3,7]):[3,1];case 1:return dY(e)?(l=Nc(e),c=this.assertFontkit(),i?[4,g$.for(c,l,o,a)]:[3,3]):[3,6];case 2:return d=p.sent(),[3,5];case 3:return[4,zb.for(c,l,o,a)];case 4:d=p.sent(),p.label=5;case 5:return s=d,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return h=this.context.nextRef(),f=_n.of(h,this,s),this.fonts.push(f),[2,f]}})})},t.prototype.embedStandardFont=function(e,r){if(Q(e,"font",["string"]),!VS(e))throw new TypeError("`font` must be one of type `StandardFonts`");var n=lp.for(e,r),i=this.context.nextRef(),o=_n.of(i,this,n);return this.fonts.push(o),o},t.prototype.embedJpg=function(e){return Qe(this,void 0,void 0,function(){var r,n,i,o;return $e(this,function(a){switch(a.label){case 0:return Q(e,"jpg",["string",Uint8Array,ArrayBuffer]),r=Nc(e),[4,_T.for(r)];case 1:return n=a.sent(),i=this.context.nextRef(),o=_v.of(i,this,n),this.images.push(o),[2,o]}})})},t.prototype.embedPng=function(e){return Qe(this,void 0,void 0,function(){var r,n,i,o;return $e(this,function(a){switch(a.label){case 0:return Q(e,"png",["string",Uint8Array,ArrayBuffer]),r=Nc(e),[4,CT.for(r)];case 1:return n=a.sent(),i=this.context.nextRef(),o=_v.of(i,this,n),this.images.push(o),[2,o]}})})},t.prototype.embedPdf=function(e,r){return r===void 0&&(r=[0]),Qe(this,void 0,void 0,function(){var n,i,o;return $e(this,function(a){switch(a.label){case 0:return Q(e,"pdf",["string",Uint8Array,ArrayBuffer,[t,"PDFDocument"]]),Q(r,"indices",[Array]),e instanceof t?(i=e,[3,3]):[3,1];case 1:return[4,t.load(e)];case 2:i=a.sent(),a.label=3;case 3:return n=i,o=uY(n.getPages(),r),[2,this.embedPages(o)]}})})},t.prototype.embedPage=function(e,r,n){return Qe(this,void 0,void 0,function(){var i;return $e(this,function(o){switch(o.label){case 0:return Q(e,"page",[[Nn,"PDFPage"]]),[4,this.embedPages([e],[r],[n])];case 1:return i=o.sent()[0],[2,i]}})})},t.prototype.embedPages=function(e,r,n){return r===void 0&&(r=[]),n===void 0&&(n=[]),Qe(this,void 0,void 0,function(){var c,d,i,o,a,s,l,c,d,h,f,p,g,m,y;return $e(this,function(v){switch(v.label){case 0:if(e.length===0)return[2,[]];for(c=0,d=e.length-1;c<d;c++)if(i=e[c],o=e[c+1],i.node.context!==o.node.context)throw new HQ;a=e[0].node.context,s=a===this.context?function(b){return b}:$S.for(a,this.context).copy,l=new Array(e.length),c=0,d=e.length,v.label=1;case 1:return c<d?(h=s(e[c].node),f=r[c],p=n[c],[4,TT.for(h,f,p)]):[3,4];case 2:g=v.sent(),m=this.context.nextRef(),l[c]=n3.of(m,this,g),v.label=3;case 3:return c++,[3,1];case 4:return(y=this.embeddedPages).push.apply(y,l),[2,l]}})})},t.prototype.flush=function(){return Qe(this,void 0,void 0,function(){return $e(this,function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}})})},t.prototype.save=function(e){return e===void 0&&(e={}),Qe(this,void 0,void 0,function(){var r,n,i,o,a,s,l,c,d,h;return $e(this,function(f){switch(f.label){case 0:return r=e.useObjectStreams,n=r===void 0?!0:r,i=e.addDefaultPage,o=i===void 0?!0:i,a=e.objectsPerTick,s=a===void 0?50:a,l=e.updateFieldAppearances,c=l===void 0?!0:l,Q(n,"useObjectStreams",["boolean"]),Q(o,"addDefaultPage",["boolean"]),Q(s,"objectsPerTick",["number"]),Q(c,"updateFieldAppearances",["boolean"]),o&&this.getPageCount()===0&&this.addPage(),c&&(d=this.formCache.getValue(),d&&d.updateFieldAppearances()),[4,this.flush()];case 1:return f.sent(),h=n?c$:ST,[2,h.forContext(this.context,s).serializeToBuffer()]}})})},t.prototype.saveAsBase64=function(e){return e===void 0&&(e={}),Qe(this,void 0,void 0,function(){var r,n,i,o,a;return $e(this,function(s){switch(s.label){case 0:return r=e.dataUri,n=r===void 0?!1:r,i=qZ(e,["dataUri"]),Q(n,"dataUri",["boolean"]),[4,this.save(i)];case 1:return o=s.sent(),a=KZ(o),[2,n?"data:application/pdf;base64,"+a:a]}})})},t.prototype.findPageForAnnotationRef=function(e){for(var r=this.getPages(),n=0,i=r.length;n<i;n++){var o=r[n],a=o.node.Annots();if((a==null?void 0:a.indexOf(e))!==void 0)return o}},t.prototype.embedAll=function(e){return Qe(this,void 0,void 0,function(){var r,n;return $e(this,function(i){switch(i.label){case 0:r=0,n=e.length,i.label=1;case 1:return r<n?[4,e[r].embed()]:[3,4];case 2:i.sent(),i.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",r=new Date,n=this.getInfoDict();this.setProducer(e),this.setModificationDate(r),n.get(M.of("Creator"))||this.setCreator(e),n.get(M.of("CreationDate"))||this.setCreationDate(r)},t.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof Ye)return e;var r=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(r),r},t.prototype.assertFontkit=function(){if(!this.fontkit)throw new mee;return this.fontkit},t}();function xo(t){if(!(t instanceof ze)&&!(t instanceof Ct))throw new ap([ze,Ct],t)}var Wi;(function(t){t.Normal="Normal",t.Multiply="Multiply",t.Screen="Screen",t.Overlay="Overlay",t.Darken="Darken",t.Lighten="Lighten",t.ColorDodge="ColorDodge",t.ColorBurn="ColorBurn",t.HardLight="HardLight",t.SoftLight="SoftLight",t.Difference="Difference",t.Exclusion="Exclusion"})(Wi||(Wi={}));var Nn=function(){function t(e,r,n){this.fontSize=24,this.fontColor=ut(0,0,0),this.lineHeight=24,this.x=0,this.y=0,Q(e,"leafNode",[[$i,"PDFPageLeaf"]]),Q(r,"ref",[[jt,"PDFRef"]]),Q(n,"doc",[[ta,"PDFDocument"]]),this.node=e,this.ref=r,this.doc=n}return t.prototype.setRotation=function(e){var r=zT(e);vT(r,"degreesAngle",90),this.node.set(M.of("Rotate"),this.doc.context.obj(r))},t.prototype.getRotation=function(){var e=this.node.Rotate();return Be(e?e.asNumber():0)},t.prototype.setSize=function(e,r){Q(e,"width",["number"]),Q(r,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,e,r);var i=this.getCropBox(),o=this.getBleedBox(),a=this.getTrimBox(),s=this.getArtBox(),l=this.node.CropBox(),c=this.node.BleedBox(),d=this.node.TrimBox(),h=this.node.ArtBox();l&&Ih(i,n)&&this.setCropBox(n.x,n.y,e,r),c&&Ih(o,n)&&this.setBleedBox(n.x,n.y,e,r),d&&Ih(a,n)&&this.setTrimBox(n.x,n.y,e,r),h&&Ih(s,n)&&this.setArtBox(n.x,n.y,e,r)},t.prototype.setWidth=function(e){Q(e,"width",["number"]),this.setSize(e,this.getSize().height)},t.prototype.setHeight=function(e){Q(e,"height",["number"]),this.setSize(this.getSize().width,e)},t.prototype.setMediaBox=function(e,r,n,i){Q(e,"x",["number"]),Q(r,"y",["number"]),Q(n,"width",["number"]),Q(i,"height",["number"]);var o=this.doc.context.obj([e,r,e+n,r+i]);this.node.set(M.MediaBox,o)},t.prototype.setCropBox=function(e,r,n,i){Q(e,"x",["number"]),Q(r,"y",["number"]),Q(n,"width",["number"]),Q(i,"height",["number"]);var o=this.doc.context.obj([e,r,e+n,r+i]);this.node.set(M.CropBox,o)},t.prototype.setBleedBox=function(e,r,n,i){Q(e,"x",["number"]),Q(r,"y",["number"]),Q(n,"width",["number"]),Q(i,"height",["number"]);var o=this.doc.context.obj([e,r,e+n,r+i]);this.node.set(M.BleedBox,o)},t.prototype.setTrimBox=function(e,r,n,i){Q(e,"x",["number"]),Q(r,"y",["number"]),Q(n,"width",["number"]),Q(i,"height",["number"]);var o=this.doc.context.obj([e,r,e+n,r+i]);this.node.set(M.TrimBox,o)},t.prototype.setArtBox=function(e,r,n,i){Q(e,"x",["number"]),Q(r,"y",["number"]),Q(n,"width",["number"]),Q(i,"height",["number"]);var o=this.doc.context.obj([e,r,e+n,r+i]);this.node.set(M.ArtBox,o)},t.prototype.getSize=function(){var e=this.getMediaBox(),r=e.width,n=e.height;return{width:r,height:n}},t.prototype.getWidth=function(){return this.getSize().width},t.prototype.getHeight=function(){return this.getSize().height},t.prototype.getMediaBox=function(){var e=this.node.MediaBox();return e.asRectangle()},t.prototype.getCropBox=function(){var e,r=this.node.CropBox();return(e=r==null?void 0:r.asRectangle())!==null&&e!==void 0?e:this.getMediaBox()},t.prototype.getBleedBox=function(){var e,r=this.node.BleedBox();return(e=r==null?void 0:r.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},t.prototype.getTrimBox=function(){var e,r=this.node.TrimBox();return(e=r==null?void 0:r.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},t.prototype.getArtBox=function(){var e,r=this.node.ArtBox();return(e=r==null?void 0:r.asRectangle())!==null&&e!==void 0?e:this.getCropBox()},t.prototype.translateContent=function(e,r){Q(e,"x",["number"]),Q(r,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Sr(),Mn(e,r)),i=this.doc.context.register(n),o=this.createContentStream(kr()),a=this.doc.context.register(o);this.node.wrapContentStreams(i,a)},t.prototype.scale=function(e,r){Q(e,"x",["number"]),Q(r,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*r),this.scaleContent(e,r),this.scaleAnnotations(e,r)},t.prototype.scaleContent=function(e,r){Q(e,"x",["number"]),Q(r,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Sr(),nd(e,r)),i=this.doc.context.register(n),o=this.createContentStream(kr()),a=this.doc.context.register(o);this.node.wrapContentStreams(i,a)},t.prototype.scaleAnnotations=function(e,r){Q(e,"x",["number"]),Q(r,"y",["number"]);var n=this.node.Annots();if(n)for(var i=0;i<n.size();i++){var o=n.lookup(i);o instanceof Ye&&this.scaleAnnot(o,e,r)}},t.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},t.prototype.setFont=function(e){Q(e,"font",[[_n,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},t.prototype.setFontSize=function(e){Q(e,"fontSize",["number"]),this.fontSize=e},t.prototype.setFontColor=function(e){Q(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},t.prototype.setLineHeight=function(e){Q(e,"lineHeight",["number"]),this.lineHeight=e},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.moveTo=function(e,r){Q(e,"x",["number"]),Q(r,"y",["number"]),this.x=e,this.y=r},t.prototype.moveDown=function(e){Q(e,"yDecrease",["number"]),this.y-=e},t.prototype.moveUp=function(e){Q(e,"yIncrease",["number"]),this.y+=e},t.prototype.moveLeft=function(e){Q(e,"xDecrease",["number"]),this.x-=e},t.prototype.moveRight=function(e){Q(e,"xIncrease",["number"]),this.x+=e},t.prototype.pushOperators=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];mT(e,"operator",[[pt,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,e)},t.prototype.drawText=function(e,r){var n,i,o,a,s,l,c;r===void 0&&(r={}),Q(e,"text",["string"]),ge(r.color,"options.color",[[Object,"Color"]]),$n(r.opacity,"opacity.opacity",0,1),ge(r.font,"options.font",[[_n,"PDFFont"]]),ge(r.size,"options.size",["number"]),ge(r.rotate,"options.rotate",[[Object,"Rotation"]]),ge(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),ge(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),ge(r.x,"options.x",["number"]),ge(r.y,"options.y",["number"]),ge(r.lineHeight,"options.lineHeight",["number"]),ge(r.maxWidth,"options.maxWidth",["number"]),ge(r.wordBreaks,"options.wordBreaks",[Array]),Rn(r.blendMode,"options.blendMode",Wi);for(var d=this.setOrEmbedFont(r.font),h=d.oldFont,f=d.newFont,p=d.newFontKey,g=r.size||this.fontSize,m=r.wordBreaks||this.doc.defaultWordBreaks,y=function(C){return f.widthOfTextAtSize(C,g)},v=r.maxWidth===void 0?v5(Sd(e)):rY(e,m,r.maxWidth,y),b=new Array(v.length),x=0,w=v.length;x<w;x++)b[x]=f.encodeText(v[x]);var S=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),k=this.getContentStream();k.push.apply(k,see(b,{color:(n=r.color)!==null&&n!==void 0?n:this.fontColor,font:p,size:g,rotate:(i=r.rotate)!==null&&i!==void 0?i:Be(0),xSkew:(o=r.xSkew)!==null&&o!==void 0?o:Be(0),ySkew:(a=r.ySkew)!==null&&a!==void 0?a:Be(0),x:(s=r.x)!==null&&s!==void 0?s:this.x,y:(l=r.y)!==null&&l!==void 0?l:this.y,lineHeight:(c=r.lineHeight)!==null&&c!==void 0?c:this.lineHeight,graphicsState:S})),r.font&&(h?this.setFont(h):this.resetFont())},t.prototype.drawImage=function(e,r){var n,i,o,a,s,l,c;r===void 0&&(r={}),Q(e,"image",[[_v,"PDFImage"]]),ge(r.x,"options.x",["number"]),ge(r.y,"options.y",["number"]),ge(r.width,"options.width",["number"]),ge(r.height,"options.height",["number"]),ge(r.rotate,"options.rotate",[[Object,"Rotation"]]),ge(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),ge(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),$n(r.opacity,"opacity.opacity",0,1),Rn(r.blendMode,"options.blendMode",Wi);var d=this.node.newXObject("Image",e.ref),h=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),f=this.getContentStream();f.push.apply(f,YT(d,{x:(n=r.x)!==null&&n!==void 0?n:this.x,y:(i=r.y)!==null&&i!==void 0?i:this.y,width:(o=r.width)!==null&&o!==void 0?o:e.size().width,height:(a=r.height)!==null&&a!==void 0?a:e.size().height,rotate:(s=r.rotate)!==null&&s!==void 0?s:Be(0),xSkew:(l=r.xSkew)!==null&&l!==void 0?l:Be(0),ySkew:(c=r.ySkew)!==null&&c!==void 0?c:Be(0),graphicsState:h}))},t.prototype.drawPage=function(e,r){var n,i,o,a,s;r===void 0&&(r={}),Q(e,"embeddedPage",[[n3,"PDFEmbeddedPage"]]),ge(r.x,"options.x",["number"]),ge(r.y,"options.y",["number"]),ge(r.xScale,"options.xScale",["number"]),ge(r.yScale,"options.yScale",["number"]),ge(r.width,"options.width",["number"]),ge(r.height,"options.height",["number"]),ge(r.rotate,"options.rotate",[[Object,"Rotation"]]),ge(r.xSkew,"options.xSkew",[[Object,"Rotation"]]),ge(r.ySkew,"options.ySkew",[[Object,"Rotation"]]),$n(r.opacity,"opacity.opacity",0,1),Rn(r.blendMode,"options.blendMode",Wi);var l=this.node.newXObject("EmbeddedPdfPage",e.ref),c=this.maybeEmbedGraphicsState({opacity:r.opacity,blendMode:r.blendMode}),d=r.width!==void 0?r.width/e.width:r.xScale!==void 0?r.xScale:1,h=r.height!==void 0?r.height/e.height:r.yScale!==void 0?r.yScale:1,f=this.getContentStream();f.push.apply(f,lee(l,{x:(n=r.x)!==null&&n!==void 0?n:this.x,y:(i=r.y)!==null&&i!==void 0?i:this.y,xScale:d,yScale:h,rotate:(o=r.rotate)!==null&&o!==void 0?o:Be(0),xSkew:(a=r.xSkew)!==null&&a!==void 0?a:Be(0),ySkew:(s=r.ySkew)!==null&&s!==void 0?s:Be(0),graphicsState:c}))},t.prototype.drawSvgPath=function(e,r){var n,i,o,a,s,l,c,d,h;r===void 0&&(r={}),Q(e,"path",["string"]),ge(r.x,"options.x",["number"]),ge(r.y,"options.y",["number"]),ge(r.scale,"options.scale",["number"]),ge(r.rotate,"options.rotate",[[Object,"Rotation"]]),ge(r.borderWidth,"options.borderWidth",["number"]),ge(r.color,"options.color",[[Object,"Color"]]),$n(r.opacity,"opacity.opacity",0,1),ge(r.borderColor,"options.borderColor",[[Object,"Color"]]),ge(r.borderDashArray,"options.borderDashArray",[Array]),ge(r.borderDashPhase,"options.borderDashPhase",["number"]),Rn(r.borderLineCap,"options.borderLineCap",vl),$n(r.borderOpacity,"options.borderOpacity",0,1),Rn(r.blendMode,"options.blendMode",Wi);var f=this.maybeEmbedGraphicsState({opacity:r.opacity,borderOpacity:r.borderOpacity,blendMode:r.blendMode});!("color"in r)&&!("borderColor"in r)&&(r.borderColor=ut(0,0,0));var p=this.getContentStream();p.push.apply(p,hee(e,{x:(n=r.x)!==null&&n!==void 0?n:this.x,y:(i=r.y)!==null&&i!==void 0?i:this.y,scale:r.scale,rotate:(o=r.rotate)!==null&&o!==void 0?o:Be(0),color:(a=r.color)!==null&&a!==void 0?a:void 0,borderColor:(s=r.borderColor)!==null&&s!==void 0?s:void 0,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,borderDashArray:(c=r.borderDashArray)!==null&&c!==void 0?c:void 0,borderDashPhase:(d=r.borderDashPhase)!==null&&d!==void 0?d:void 0,borderLineCap:(h=r.borderLineCap)!==null&&h!==void 0?h:void 0,graphicsState:f}))},t.prototype.drawLine=function(e){var r,n,i,o,a;Q(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),Q(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),Q(e.start.x,"options.start.x",["number"]),Q(e.start.y,"options.start.y",["number"]),Q(e.end.x,"options.end.x",["number"]),Q(e.end.y,"options.end.y",["number"]),ge(e.thickness,"options.thickness",["number"]),ge(e.color,"options.color",[[Object,"Color"]]),ge(e.dashArray,"options.dashArray",[Array]),ge(e.dashPhase,"options.dashPhase",["number"]),Rn(e.lineCap,"options.lineCap",vl),$n(e.opacity,"opacity.opacity",0,1),Rn(e.blendMode,"options.blendMode",Wi);var s=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=ut(0,0,0));var l=this.getContentStream();l.push.apply(l,cee({start:e.start,end:e.end,thickness:(r=e.thickness)!==null&&r!==void 0?r:1,color:(n=e.color)!==null&&n!==void 0?n:void 0,dashArray:(i=e.dashArray)!==null&&i!==void 0?i:void 0,dashPhase:(o=e.dashPhase)!==null&&o!==void 0?o:void 0,lineCap:(a=e.lineCap)!==null&&a!==void 0?a:void 0,graphicsState:s}))},t.prototype.drawRectangle=function(e){var r,n,i,o,a,s,l,c,d,h,f,p,g;e===void 0&&(e={}),ge(e.x,"options.x",["number"]),ge(e.y,"options.y",["number"]),ge(e.width,"options.width",["number"]),ge(e.height,"options.height",["number"]),ge(e.rotate,"options.rotate",[[Object,"Rotation"]]),ge(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),ge(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),ge(e.borderWidth,"options.borderWidth",["number"]),ge(e.color,"options.color",[[Object,"Color"]]),$n(e.opacity,"opacity.opacity",0,1),ge(e.borderColor,"options.borderColor",[[Object,"Color"]]),ge(e.borderDashArray,"options.borderDashArray",[Array]),ge(e.borderDashPhase,"options.borderDashPhase",["number"]),Rn(e.borderLineCap,"options.borderLineCap",vl),$n(e.borderOpacity,"options.borderOpacity",0,1),Rn(e.blendMode,"options.blendMode",Wi);var m=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=ut(0,0,0));var y=this.getContentStream();y.push.apply(y,Ll({x:(r=e.x)!==null&&r!==void 0?r:this.x,y:(n=e.y)!==null&&n!==void 0?n:this.y,width:(i=e.width)!==null&&i!==void 0?i:150,height:(o=e.height)!==null&&o!==void 0?o:100,rotate:(a=e.rotate)!==null&&a!==void 0?a:Be(0),xSkew:(s=e.xSkew)!==null&&s!==void 0?s:Be(0),ySkew:(l=e.ySkew)!==null&&l!==void 0?l:Be(0),borderWidth:(c=e.borderWidth)!==null&&c!==void 0?c:0,color:(d=e.color)!==null&&d!==void 0?d:void 0,borderColor:(h=e.borderColor)!==null&&h!==void 0?h:void 0,borderDashArray:(f=e.borderDashArray)!==null&&f!==void 0?f:void 0,borderDashPhase:(p=e.borderDashPhase)!==null&&p!==void 0?p:void 0,graphicsState:m,borderLineCap:(g=e.borderLineCap)!==null&&g!==void 0?g:void 0}))},t.prototype.drawSquare=function(e){e===void 0&&(e={});var r=e.size;ge(r,"size",["number"]),this.drawRectangle(qe(qe({},e),{width:r,height:r}))},t.prototype.drawEllipse=function(e){var r,n,i,o,a,s,l,c,d,h,f;e===void 0&&(e={}),ge(e.x,"options.x",["number"]),ge(e.y,"options.y",["number"]),ge(e.xScale,"options.xScale",["number"]),ge(e.yScale,"options.yScale",["number"]),ge(e.rotate,"options.rotate",[[Object,"Rotation"]]),ge(e.color,"options.color",[[Object,"Color"]]),$n(e.opacity,"opacity.opacity",0,1),ge(e.borderColor,"options.borderColor",[[Object,"Color"]]),$n(e.borderOpacity,"options.borderOpacity",0,1),ge(e.borderWidth,"options.borderWidth",["number"]),ge(e.borderDashArray,"options.borderDashArray",[Array]),ge(e.borderDashPhase,"options.borderDashPhase",["number"]),Rn(e.borderLineCap,"options.borderLineCap",vl),Rn(e.blendMode,"options.blendMode",Wi);var p=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.color=ut(0,0,0));var g=this.getContentStream();g.push.apply(g,kv({x:(r=e.x)!==null&&r!==void 0?r:this.x,y:(n=e.y)!==null&&n!==void 0?n:this.y,xScale:(i=e.xScale)!==null&&i!==void 0?i:100,yScale:(o=e.yScale)!==null&&o!==void 0?o:100,rotate:(a=e.rotate)!==null&&a!==void 0?a:void 0,color:(s=e.color)!==null&&s!==void 0?s:void 0,borderColor:(l=e.borderColor)!==null&&l!==void 0?l:void 0,borderWidth:(c=e.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(d=e.borderDashArray)!==null&&d!==void 0?d:void 0,borderDashPhase:(h=e.borderDashPhase)!==null&&h!==void 0?h:void 0,borderLineCap:(f=e.borderLineCap)!==null&&f!==void 0?f:void 0,graphicsState:p}))},t.prototype.drawCircle=function(e){e===void 0&&(e={});var r=e.size,n=r===void 0?100:r;ge(n,"size",["number"]),this.drawEllipse(qe(qe({},e),{xScale:n,yScale:n}))},t.prototype.setOrEmbedFont=function(e){var r=this.font,n=this.fontKey;e?this.setFont(e):this.getFont();var i=this.font,o=this.fontKey;return{oldFont:r,oldFontKey:n,newFont:i,newFontKey:o}},t.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(zl.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},t.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},t.prototype.getContentStream=function(e){return e===void 0&&(e=!0),e&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},t.prototype.createContentStream=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.doc.context.obj({}),i=xu.of(n,e);return i},t.prototype.maybeEmbedGraphicsState=function(e){var r=e.opacity,n=e.borderOpacity,i=e.blendMode;if(!(r===void 0&&n===void 0&&i===void 0)){var o=this.doc.context.obj({Type:"ExtGState",ca:r,CA:n,BM:i}),a=this.node.newExtGState("GS",o);return a}},t.prototype.scaleAnnot=function(e,r,n){for(var i=["RD","CL","Vertices","QuadPoints","L","Rect"],o=0,a=i.length;o<a;o++){var s=e.lookup(M.of(i[o]));s instanceof xt&&s.scalePDFNumbers(r,n)}var l=e.lookup(M.of("InkList"));if(l instanceof xt)for(var o=0,a=l.size();o<a;o++){var c=l.lookup(o);c instanceof xt&&c.scalePDFNumbers(r,n)}},t.of=function(e,r,n){return new t(e,r,n)},t.create=function(e){Q(e,"doc",[[ta,"PDFDocument"]]);var r=jt.of(-1),n=$i.withContextAndParent(e.context,r),i=e.context.register(n);return new t(n,i,e)},t}(),mf=function(t){ye(e,t);function e(r,n,i){var o=t.call(this,r,n,i)||this;return Q(r,"acroButton",[[c0,"PDFAcroPushButton"]]),o.acroField=r,o}return e.prototype.setImage=function(r,n){n===void 0&&(n=Ko.Center);for(var i=this.acroField.getWidgets(),o=0,a=i.length;o<a;o++){var s=i[o],l=this.createImageAppearanceStream(s,r,n);this.updateWidgetAppearances(s,{normal:l})}this.markAsClean()},e.prototype.setFontSize=function(r){i0(r,"fontSize"),this.acroField.setFontSize(r),this.markAsDirty()},e.prototype.addToPage=function(r,n,i){var o,a,s,l,c,d,h,f,p,g,m;ge(r,"text",["string"]),ge(n,"page",[[Nn,"PDFPage"]]),lc(i);var y=this.createWidget({x:((o=i==null?void 0:i.x)!==null&&o!==void 0?o:0)-((a=i==null?void 0:i.borderWidth)!==null&&a!==void 0?a:0)/2,y:((s=i==null?void 0:i.y)!==null&&s!==void 0?s:0)-((l=i==null?void 0:i.borderWidth)!==null&&l!==void 0?l:0)/2,width:(c=i==null?void 0:i.width)!==null&&c!==void 0?c:100,height:(d=i==null?void 0:i.height)!==null&&d!==void 0?d:50,textColor:(h=i==null?void 0:i.textColor)!==null&&h!==void 0?h:ut(0,0,0),backgroundColor:(f=i==null?void 0:i.backgroundColor)!==null&&f!==void 0?f:ut(.75,.75,.75),borderColor:i==null?void 0:i.borderColor,borderWidth:(p=i==null?void 0:i.borderWidth)!==null&&p!==void 0?p:0,rotate:(g=i==null?void 0:i.rotate)!==null&&g!==void 0?g:Be(0),caption:r,hidden:i==null?void 0:i.hidden,page:n.ref}),v=this.doc.context.register(y.dict);this.acroField.addWidget(v);var b=(m=i==null?void 0:i.font)!==null&&m!==void 0?m:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(y,b),n.node.addAnnot(v)},e.prototype.needsAppearancesUpdate=function(){var r;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,o=n.length;i<o;i++){var a=n[i],s=((r=a.getAppearances())===null||r===void 0?void 0:r.normal)instanceof wn;if(!s)return!0}return!1},e.prototype.defaultUpdateAppearances=function(r){Q(r,"font",[[_n,"PDFFont"]]),this.updateAppearances(r)},e.prototype.updateAppearances=function(r,n){Q(r,"font",[[_n,"PDFFont"]]),ge(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,a=i.length;o<a;o++){var s=i[o];this.updateWidgetAppearance(s,r,n)}},e.prototype.updateWidgetAppearance=function(r,n,i){var o=i??Nee,a=sc(o(this,r,n));this.updateWidgetAppearanceWithFont(r,n,a)},e.of=function(r,n,i){return new e(r,n,i)},e}(us);const La=595.28,Vh=841.89,kt=40,gk=La-kt*2,qt={primary:ut(.118,.306,.478),accent:ut(1,.42,.208),text:ut(.102,.125,.173),textLight:ut(.392,.455,.545),border:ut(.894,.914,.941)},i3=8,o3=1.1;async function Wee(t,e,r){var G,U,O,W,A,q;console.log("[SPORTS-PDF] Starting PDF generation...");const n=await ta.create();n.setTitle(`${r} - TPV Studio`),n.setAuthor("TPV Studio"),n.setSubject("Sports Surface Design Report"),n.setCreator("Rosehill TPV Studio"),n.setCreationDate(new Date);const i=await n.embedFont(zl.HelveticaBold),o=await n.embedFont(zl.Helvetica),a=await Gee(t),s=Vee(a),l=await n.embedPng(s),c=gk,d=300,h=l.width/l.height;let f,p;h>c/d?(f=c,p=c/h):(p=d,f=d*h);const g=e.surface,m=e.courts||{},y=e.tracks||{},v=g.width_mm/1e3,b=g.length_mm/1e3,x=v*b,w=n.addPage([La,Vh]);let S=Vh-kt;S=mk(w,i,o,S),S-=30,w.drawText(r,{x:kt,y:S,size:20,font:i,color:qt.text}),S-=20;const k=new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});w.drawText(`Generated: ${k}`,{x:kt,y:S,size:11,font:o,color:qt.textLight}),S-=30,S=qee(w,i,o,v,b,x,S),S-=20;const C=kt+(gk-f)/2;w.drawImage(l,{x:C,y:S-p,width:f,height:p}),S-=p+15;const P=Object.keys(m).length,E=Object.keys(y).length,R=[];P>0&&R.push(`${P} court${P>1?"s":""}`),E>0&&R.push(`${E} track${E>1?"s":""}`),w.drawText(`This design contains: ${R.join(", ")||"No elements"}`,{x:kt,y:S,size:10,font:o,color:qt.textLight}),vk(w,o,1,2);const N=n.addPage([La,Vh]);if(S=Vh-kt,S=mk(N,i,o,S),S-=30,N.drawText("Material Requirements",{x:kt,y:S,size:16,font:i,color:qt.text}),S-=30,N.drawText("Surface Base",{x:kt,y:S,size:12,font:i,color:qt.text}),S-=20,S=Gh(N,o,g.color,x,S),P>0){S-=25,N.drawText("Courts",{x:kt,y:S,size:12,font:i,color:qt.text}),S-=20;for(const B of Object.keys(m)){const V=m[B],he=((G=V.template)==null?void 0:G.name)||"Court",ae=(((O=(U=V.template)==null?void 0:U.dimensions)==null?void 0:O.width_mm)||0)/1e3,ce=(((A=(W=V.template)==null?void 0:W.dimensions)==null?void 0:A.length_mm)||0)/1e3,Ae=ae*ce*(V.scale||1)**2;N.drawText(`${he} (${ae.toFixed(1)}m  ${ce.toFixed(1)}m)`,{x:kt,y:S,size:10,font:o,color:qt.text}),S-=15,V.courtSurfaceColor&&(S=Gh(N,o,V.courtSurfaceColor,Ae,S,"Court Surface")),V.lineColor&&(S=Gh(N,o,V.lineColor,Ae*.05,S,"Line Markings")),S-=10}}if(E>0){S-=15,N.drawText("Running Tracks",{x:kt,y:S,size:12,font:i,color:qt.text}),S-=20;for(const B of Object.keys(y)){const V=y[B],he=((q=V.template)==null?void 0:q.name)||"Track";if(N.drawText(he,{x:kt,y:S,size:10,font:o,color:qt.text}),S-=15,V.trackSurfaceColor){const ae=x*.3;S=Gh(N,o,V.trackSurfaceColor,ae,S,"Track Surface")}S-=10}}S-=20,N.drawLine({start:{x:kt,y:S+10},end:{x:La-kt,y:S+10},thickness:.5,color:qt.border});const T=x*i3*o3;N.drawText("Estimated Total TPV Required:",{x:kt,y:S,size:11,font:i,color:qt.text}),N.drawText(`${T.toFixed(0)} kg`,{x:kt+200,y:S,size:11,font:i,color:qt.primary}),S-=40,N.drawText("Installation Notes",{x:kt,y:S,size:12,font:i,color:qt.text}),S-=20;const D=[" Quantities include 10% safety margin for wastage"," Calculated for 20mm depth (adjust for 15mm or 25mm installations)"," Line marking quantities are estimates based on typical coverage"," Contact Rosehill for binder requirements and technical support"," Ensure sub-base meets World Athletics/governing body standards"];for(const B of D)N.drawText(B,{x:kt,y:S,size:9,font:o,color:qt.textLight}),S-=14;vk(N,o,2,2);const _=await n.save();return console.log(`[SPORTS-PDF] Generated ${_.length} bytes`),_}function Vee(t){const e=t.split(",")[1],r=atob(e),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}async function Gee(t){return new Promise((e,r)=>{try{const n=t.cloneNode(!0);n.querySelectorAll('[class*="selected"], .transform-handles, .track-resize-handles, .court-canvas__selection-outline, [class*="selection"], [class*="handle"], [stroke-dasharray]').forEach(h=>{h.remove()});const i=t.getAttribute("viewBox").split(" ").map(Number),o=1600,a=Math.round(i[3]/i[2]*o);n.setAttribute("width",o),n.setAttribute("height",a),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const s=new XMLSerializer().serializeToString(n),l=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),c=URL.createObjectURL(l),d=new Image;d.onload=()=>{const h=document.createElement("canvas");h.width=o,h.height=a;const f=h.getContext("2d");f.fillStyle="#ffffff",f.fillRect(0,0,o,a),f.drawImage(d,0,0,o,a),URL.revokeObjectURL(c),e(h.toDataURL("image/png"))},d.onerror=()=>{URL.revokeObjectURL(c),r(new Error("Failed to render SVG"))},d.src=c}catch(n){r(n)}})}function mk(t,e,r,n){return t.drawText("ROSEHILL",{x:kt,y:n,size:14,font:e,color:qt.primary}),t.drawText("TPV STUDIO",{x:kt+75,y:n,size:14,font:r,color:qt.accent}),t.drawText("Sports Surface Report",{x:La-kt-120,y:n,size:10,font:r,color:qt.textLight}),n-=15,t.drawLine({start:{x:kt,y:n},end:{x:La-kt,y:n},thickness:1,color:qt.border}),n}function vk(t,e,r,n){t.drawText(`Page ${r} of ${n}`,{x:kt,y:30,size:9,font:e,color:qt.textLight}),t.drawText("www.rosehilltpv.com",{x:La-kt-100,y:30,size:9,font:e,color:qt.textLight})}function qee(t,e,r,n,i,o,a){return t.drawText("Surface Dimensions",{x:kt,y:a,size:11,font:e,color:qt.text}),a-=18,t.drawText(`${n.toFixed(1)}m  ${i.toFixed(1)}m  (${o.toFixed(1)} m)`,{x:kt,y:a,size:10,font:r,color:qt.textLight}),a}function Gh(t,e,r,n,i,o=null){const a=(r==null?void 0:r.hex)||"#808080",s=(r==null?void 0:r.name)||"Unknown",l=(r==null?void 0:r.tpv_code)||"",c=a.replace("#",""),d=parseInt(c.substring(0,2),16)/255,h=parseInt(c.substring(2,4),16)/255,f=parseInt(c.substring(4,6),16)/255;t.drawRectangle({x:kt+10,y:i-6,width:18,height:10,color:ut(d,h,f),borderColor:qt.border,borderWidth:.5});const p=o?`${o}: ${l} ${s}`:`${l} ${s}`;t.drawText(p,{x:kt+35,y:i-2,size:9,font:e,color:qt.text});const g=n*i3*o3;return t.drawText(`${g.toFixed(1)} kg`,{x:kt+350,y:i-2,size:9,font:e,color:qt.textLight}),i-18}function Kee(t,e){const r=new Blob([t],{type:"application/pdf"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function Xee({svgRef:t}){const[e,r]=H.useState(!1),[n,i]=H.useState(null),o=H.useRef(null),a=vr(h=>h.exportDesignData);H.useEffect(()=>{const h=f=>{o.current&&!o.current.contains(f.target)&&r(!1)};return e&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[e]);const s=()=>t!=null&&t.current?t.current:document.querySelector(".court-canvas__svg"),l=async()=>{i("svg");try{const h=s();if(!h)throw new Error("Canvas not found");const f=a(),p=g5(h,f),g=wg(f.name,"svg");VZ(p,g)}catch(h){console.error("SVG export failed:",h),alert("Failed to export SVG: "+h.message)}finally{i(null),r(!1)}},c=async()=>{i("png");try{const h=s();if(!h)throw new Error("Canvas not found");const f=a(),p=wg(f.name,"png");await GZ(h,f,p,2)}catch(h){console.error("PNG export failed:",h),alert("Failed to export PNG: "+h.message)}finally{i(null),r(!1)}},d=async()=>{i("pdf");try{const h=s();if(!h)throw new Error("Canvas not found");const f=a(),p=f.name||"Sports Surface Design";console.log("[EXPORT] Generating PDF report...");const g=await Wee(h,f,p),m=wg(p,"pdf");Kee(g,m),console.log("[EXPORT] PDF downloaded:",m)}catch(h){console.error("PDF export failed:",h),alert("Failed to export PDF: "+h.message)}finally{i(null),r(!1)}};return u.jsxs("div",{className:"export-menu",ref:o,children:[u.jsxs("button",{className:"sports-toolbar__btn-export",onClick:()=>r(!e),title:"Export Design",children:["Export",u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:e?"M18 15l-6-6-6 6":"M6 9l6 6 6-6"})})]}),e&&u.jsxs("div",{className:"export-menu__dropdown",children:[u.jsxs("button",{className:"export-menu__item",onClick:l,disabled:n!==null,children:[u.jsx("span",{className:"export-menu__icon",children:""}),u.jsxs("div",{className:"export-menu__item-content",children:[u.jsx("span",{className:"export-menu__item-title",children:n==="svg"?"Exporting...":"Download SVG"}),u.jsx("span",{className:"export-menu__item-desc",children:"Vector format for CAD/printing"})]})]}),u.jsxs("button",{className:"export-menu__item",onClick:c,disabled:n!==null,children:[u.jsx("span",{className:"export-menu__icon",children:""}),u.jsxs("div",{className:"export-menu__item-content",children:[u.jsx("span",{className:"export-menu__item-title",children:n==="png"?"Exporting...":"Download PNG"}),u.jsx("span",{className:"export-menu__item-desc",children:"High-res image for presentations"})]})]}),u.jsx("div",{className:"export-menu__divider"}),u.jsxs("button",{className:"export-menu__item",onClick:d,disabled:n!==null,children:[u.jsx("span",{className:"export-menu__icon",children:""}),u.jsxs("div",{className:"export-menu__item-content",children:[u.jsx("span",{className:"export-menu__item-title",children:n==="pdf"?"Generating...":"Materials Report (PDF)"}),u.jsx("span",{className:"export-menu__item-desc",children:"TPV quantities & specifications"})]})]})]})]})}function Zee({loadedDesign:t}){const[e,r]=H.useState(!0),[n,i]=H.useState("50"),[o,a]=H.useState("50"),[s,l]=H.useState(!1),[c,d]=H.useState(!1),[h,f]=H.useState(null),[p,g]=H.useState(""),m=H.useRef(null);H.useEffect(()=>{t&&t.design_data&&(console.log("[SPORTS] Loading design from prop:",t.id,t.name),vr.getState().loadDesign(t.design_data),f(t.id),g(t.name||""),r(!1))},[t]);const{surface:y,courts:v,tracks:b,selectedCourtId:x,selectedTrackId:w,showCourtLibrary:S,showPropertiesPanel:k,toggleCourtLibrary:C,togglePropertiesPanel:P,setSurfaceDimensions:E,setSurfaceColor:R,resetDesign:N,hasUnsavedChanges:T}=vr(),D=U=>{U.preventDefault();const O=parseFloat(n)*1e3,W=parseFloat(o)*1e3;O>0&&W>0&&(E(O,W),r(!1))},_=U=>{R({tpv_code:U.code,hex:U.hex,name:U.name}),l(!1)},G=()=>{T()&&!window.confirm(`Start a new design?

You have unsaved changes that will be lost.`)||(N(),f(null),g(""),i("50"),a("50"),r(!0))};return H.useEffect(()=>{const U=O=>{const W=O.target.tagName.toLowerCase();if(W==="input"||W==="textarea"||W==="select")return;const{removeCourt:A,removeTrack:q,deselectCourt:B,deselectTrack:V,undo:he,redo:ae,canUndo:ce,canRedo:Ae,duplicateCourt:Re,updateCourtPosition:ke,updateTrackPosition:Ee,courts:Ze,tracks:ot,elementOrder:Ot,setElementOrder:Dt,toggleSnapToGrid:j,snapToGrid:oe,addToHistory:J}=vr.getState(),I=x||w;if(O.key==="Delete"&&I&&(O.preventDefault(),x?A(x):w&&q(w)),O.key==="Escape"&&I&&(x?B():w&&V()),(O.ctrlKey||O.metaKey)&&O.key==="z"&&!O.shiftKey&&(O.preventDefault(),ce()&&he()),(O.ctrlKey||O.metaKey)&&O.key==="z"&&O.shiftKey&&(O.preventDefault(),Ae()&&ae()),(O.ctrlKey||O.metaKey)&&O.key==="d"&&x&&(O.preventDefault(),Re(x)),I&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(O.key)){O.preventDefault();const F=O.shiftKey?10:100;let K=0,ee=0;if(O.key==="ArrowLeft"&&(K=-F),O.key==="ArrowRight"&&(K=F),O.key==="ArrowUp"&&(ee=-F),O.key==="ArrowDown"&&(ee=F),x){const ie=Ze[x];ie&&(ke(x,{x:ie.position.x+K,y:ie.position.y+ee}),J())}else if(w){const ie=ot[w];ie&&(Ee(w,{x:ie.position.x+K,y:ie.position.y+ee}),J())}}if(I&&(O.key==="["||O.key==="]")){O.preventDefault();const F=Ot.indexOf(I);if(F===-1)return;const K=[...Ot];O.key==="["&&F>0?([K[F],K[F-1]]=[K[F-1],K[F]],Dt(K),J()):O.key==="]"&&F<Ot.length-1&&([K[F],K[F+1]]=[K[F+1],K[F]],Dt(K),J())}(O.key==="g"||O.key==="G")&&(O.preventDefault(),j())};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[x,w]),u.jsxs("div",{className:"sports-designer",children:[e&&u.jsx("div",{className:"sports-designer__modal-overlay",children:u.jsxs("div",{className:"sports-designer__modal",children:[u.jsx("h2",{children:"Create Sports Surface"}),u.jsx("p",{children:"Enter the dimensions of your sports surface"}),u.jsxs("form",{onSubmit:D,children:[u.jsxs("div",{className:"sports-designer__dimension-inputs",children:[u.jsxs("div",{className:"sports-designer__input-group",children:[u.jsx("label",{htmlFor:"width",children:"Width (metres)"}),u.jsx("input",{id:"width",type:"number",min:"5",max:"100",step:"0.5",value:n,onChange:U=>i(U.target.value),required:!0,autoFocus:!0})]}),u.jsx("span",{className:"sports-designer__dimension-separator",children:""}),u.jsxs("div",{className:"sports-designer__input-group",children:[u.jsx("label",{htmlFor:"length",children:"Length (metres)"}),u.jsx("input",{id:"length",type:"number",min:"5",max:"100",step:"0.5",value:o,onChange:U=>a(U.target.value),required:!0})]})]}),u.jsx("p",{className:"sports-designer__dimension-hint",children:"Common sizes: 37m  34m (tennis), 40m  20m (futsal), 50m  50m (multi-sport)"}),u.jsx("button",{type:"submit",className:"sports-designer__btn-primary",children:"Create Surface"})]})]})}),!e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"sports-designer__content",children:[S&&u.jsxs("aside",{className:"sports-designer__sidebar",children:[u.jsx(PZ,{}),u.jsx(IZ,{})]}),u.jsxs("main",{className:"sports-designer__canvas-container",children:[u.jsxs("div",{className:"sports-toolbar",children:[u.jsxs("div",{className:"sports-toolbar__group",children:[u.jsx("button",{className:`sports-toolbar__btn ${S?"sports-toolbar__btn--active":""}`,onClick:C,title:"Court Library",children:u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),u.jsx("button",{className:`sports-toolbar__btn ${k&&(x||w)?"sports-toolbar__btn--active":""}`,onClick:P,title:"Properties",disabled:!x&&!w,children:u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),u.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),u.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),u.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),u.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),u.jsx("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),u.jsx("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),u.jsx("line",{x1:"17",y1:"16",x2:"23",y2:"16"})]})})]}),u.jsx("div",{className:"sports-toolbar__divider"}),u.jsxs("div",{className:"sports-toolbar__group",children:[u.jsxs("button",{className:"sports-toolbar__dimensions",onClick:()=>r(!0),title:"Click to resize surface",children:[(y.width_mm/1e3).toFixed(0),"m  ",(y.length_mm/1e3).toFixed(0),"m"]}),u.jsx("button",{className:"sports-toolbar__color-swatch",style:{backgroundColor:y.color.hex},onClick:()=>l(!0),title:`${y.color.name} (${y.color.tpv_code}) - Click to change`})]}),u.jsx("div",{className:"sports-toolbar__divider"}),u.jsxs("div",{className:"sports-toolbar__group",children:[u.jsx("button",{className:"sports-toolbar__btn",disabled:!vr.getState().canUndo(),onClick:()=>vr.getState().undo(),title:"Undo (Ctrl+Z)",children:u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 7v6h6"}),u.jsx("path",{d:"M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"})]})}),u.jsx("button",{className:"sports-toolbar__btn",disabled:!vr.getState().canRedo(),onClick:()=>vr.getState().redo(),title:"Redo (Ctrl+Shift+Z)",children:u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M21 7v6h-6"}),u.jsx("path",{d:"M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7"})]})})]}),u.jsx("div",{className:"sports-toolbar__divider"}),u.jsxs("div",{className:"sports-toolbar__group",children:[u.jsx("button",{className:"sports-toolbar__btn",onClick:G,title:"Start new design",children:u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),u.jsx("polyline",{points:"14 2 14 8 20 8"}),u.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),u.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),u.jsx("button",{className:"sports-toolbar__btn-primary",onClick:()=>d(!0),children:"Save"}),u.jsx(Xee,{svgRef:m})]})]}),u.jsx(_Z,{ref:m})]}),(x||w)&&k&&u.jsx("aside",{className:"sports-designer__properties",children:u.jsx(FZ,{})})]}),s&&u.jsx("div",{className:"sports-designer__color-modal-overlay",onClick:()=>l(!1),children:u.jsxs("div",{className:"sports-designer__color-modal",onClick:U=>U.stopPropagation(),children:[u.jsxs("div",{className:"sports-designer__color-modal-header",children:[u.jsx("h4",{children:"Select Surface Colour"}),u.jsx("button",{onClick:()=>l(!1),children:""})]}),u.jsx("div",{className:"sports-designer__color-grid",children:Ri.map(U=>u.jsx("button",{className:`sports-designer__color-swatch ${y.color.tpv_code===U.code?"sports-designer__color-swatch--selected":""}`,style:{backgroundColor:U.hex},onClick:()=>_(U),title:`${U.code} - ${U.name}`,children:u.jsx("span",{className:"sports-designer__color-code",children:U.code})},U.code))})]})}),c&&u.jsx(WZ,{existingDesignId:h,initialName:p,svgRef:m,onClose:()=>d(!1),onSaved:(U,O)=>{f(U.design_id),g(O),console.log("[SPORTS] Design saved:",U.design_id)}})]})]})}function Yee({onSelectTool:t}){return u.jsx("div",{className:"tool-selection",children:u.jsxs("div",{className:"tool-selection__container",children:[u.jsxs("header",{className:"tool-selection__header",children:[u.jsx("h1",{children:"Welcome to TPV Studio"}),u.jsx("p",{children:"Choose a design tool to get started"})]}),u.jsxs("div",{className:"tool-selection__tools",children:[u.jsxs("div",{className:"tool-selection__card",onClick:()=>t("playground"),children:[u.jsx("div",{className:"tool-selection__icon",children:""}),u.jsx("h2",{children:"Playground Designer"}),u.jsx("p",{children:"AI-powered playground surface design with custom patterns and colours"}),u.jsxs("ul",{className:"tool-selection__features",children:[u.jsx("li",{children:"Generate designs from text prompts"}),u.jsx("li",{children:"Upload and vectorise your own artwork"}),u.jsx("li",{children:"21 TPV colours with blend options"}),u.jsx("li",{children:"Material quantity calculations"}),u.jsx("li",{children:"Professional PDF specifications"})]}),u.jsx("button",{className:"tool-selection__btn tool-selection__btn--primary",children:"Open Playground Designer"})]}),u.jsxs("div",{className:"tool-selection__card",onClick:()=>t("sports"),children:[u.jsx("div",{className:"tool-selection__icon",children:""}),u.jsx("h2",{children:"Sports Surface Designer"}),u.jsx("p",{children:"Professional MUGA and sports court layout with precise markings"}),u.jsxs("ul",{className:"tool-selection__features",children:[u.jsx("li",{children:"Standard court templates (Basketball, Netball, Tennis, Futsal)"}),u.jsx("li",{children:"Multi-court layouts with positioning"}),u.jsx("li",{children:"Customisable line colours and zones"}),u.jsx("li",{children:"Official dimensions from governing bodies"}),u.jsx("li",{children:"Material specifications and line marking plans"})]}),u.jsx("button",{className:"tool-selection__btn tool-selection__btn--secondary",children:"Open Sports Designer"})]})]}),u.jsx("footer",{className:"tool-selection__footer",children:u.jsxs("p",{children:["Need help deciding? ",u.jsx("a",{href:"mailto:support@rosehill.group",children:"Contact our team"})]})})]})})}function yk({onShowDesigns:t,onShowAdmin:e,isAdmin:r,currentDesignName:n,activeTool:i,onSwitchTool:o}){const[a,s]=H.useState(!1),l=async()=>{confirm("Sign out?")&&(await Xi.signOut(),window.location.reload())};return u.jsx("header",{className:"studio-header",children:u.jsxs("div",{className:"header-content",children:[u.jsxs("div",{className:"header-left",children:[u.jsx("h1",{className:"studio-title",children:"TPV Studio"}),n&&u.jsxs("span",{className:"current-design-indicator",children:[u.jsx("svg",{width:"4",height:"4",viewBox:"0 0 4 4",children:u.jsx("circle",{cx:"2",cy:"2",r:"2",fill:"currentColor"})}),n]})]}),u.jsxs("div",{className:"header-right",children:[i&&o&&u.jsxs("div",{className:"mode-toggle",children:[u.jsxs("button",{className:`mode-toggle__btn ${i==="playground"?"mode-toggle__btn--active":""}`,onClick:()=>o("playground"),children:[u.jsx("span",{className:"mode-toggle__icon",children:""}),"Playground"]}),u.jsxs("button",{className:`mode-toggle__btn ${i==="sports"?"mode-toggle__btn--active":""}`,onClick:()=>o("sports"),children:[u.jsx("span",{className:"mode-toggle__icon",children:""}),"Sports"]})]}),u.jsxs("button",{onClick:t,className:"btn-my-designs",children:[u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"}),u.jsx("path",{d:"M9 22V12h6v10"})]}),"My Designs"]}),r&&u.jsxs("button",{onClick:e,className:"btn-admin",children:[u.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),u.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"})]}),"Admin"]}),u.jsxs("div",{className:"user-menu",children:[u.jsx("button",{onClick:()=>s(!a),className:"user-menu-button",children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"}),u.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),a&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"user-menu-backdrop",onClick:()=>s(!1)}),u.jsx("div",{className:"user-menu-dropdown",children:u.jsxs("button",{onClick:l,className:"menu-item sign-out",children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9"})}),"Sign Out"]})})]})]})]})]})})}function Jee({design:t,onLoad:e,onDelete:r,onUpdateMetadata:n}){const[i,o]=H.useState(!1),[a,s]=H.useState(!1),l=async()=>{if(confirm(`Delete "${t.name}"? This cannot be undone.`)){s(!0);try{await r(t.id)}catch(f){console.error("Failed to delete design:",f),alert(`Failed to delete: ${f.message}`),s(!1)}}},c=f=>{const p=new Date(f),g=new Date,m=g-p,y=Math.floor(m/(1e3*60*60*24));return y===0?"Today":y===1?"Yesterday":y<7?`${y} days ago`:y<30?`${Math.floor(y/7)} weeks ago`:p.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:p.getFullYear()!==g.getFullYear()?"numeric":void 0})},d=t.input_mode==="sports_surface",h=d?null:t.thumbnail_url||t.original_png_url||t.original_svg_url;return u.jsxs("div",{className:`design-card ${a?"deleting":""} ${d?"sports-design":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsxs("div",{className:"card-thumbnail",onClick:()=>e(t.id),children:[h?u.jsx("img",{src:h,alt:t.name}):d?u.jsxs("div",{className:"sports-thumbnail",children:[u.jsx("span",{className:"sports-icon",children:""}),u.jsx("span",{className:"sports-label",children:"Sports Surface"})]}):u.jsx("div",{className:"no-thumbnail",children:u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),u.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),i&&u.jsx("div",{className:"thumbnail-overlay",children:u.jsx("button",{className:"btn-load",children:"Open Design"})})]}),u.jsxs("div",{className:"card-info",children:[u.jsx("h3",{className:"design-name",title:t.name,children:t.name}),t.description&&u.jsx("p",{className:"design-description",title:t.description,children:t.description}),u.jsxs("div",{className:"card-meta",children:[t.projects&&u.jsx("span",{className:"project-badge",style:{backgroundColor:t.projects.color||"#1a365d"},title:t.projects.name,children:t.projects.name}),u.jsx("span",{className:"design-date",title:new Date(t.updated_at).toLocaleString(),children:c(t.updated_at)})]}),t.tags&&t.tags.length>0&&u.jsxs("div",{className:"design-tags",children:[t.tags.slice(0,3).map((f,p)=>u.jsx("span",{className:"tag",children:f},p)),t.tags.length>3&&u.jsxs("span",{className:"tag more",children:["+",t.tags.length-3]})]})]}),i&&!a&&u.jsxs("div",{className:"card-actions",children:[u.jsx("button",{onClick:()=>e(t.id),className:"action-btn load-btn",title:"Load design",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),u.jsx("button",{onClick:l,className:"action-btn delete-btn",title:"Delete design",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})})]}),a&&u.jsx("div",{className:"deleting-overlay",children:u.jsx("div",{className:"spinner"})})]})}function bk({onClose:t,onLoadDesign:e}){const[r,n]=H.useState([]),[i,o]=H.useState([]),[a,s]=H.useState(!0),[l,c]=H.useState(null),[d,h]=H.useState(""),[f,p]=H.useState(""),[g,m]=H.useState(!1),[y,v]=H.useState(!1);H.useEffect(()=>{b()},[d,f]);const b=async()=>{s(!0),c(null);try{const[k,C]=await Promise.all([kb(),Km({project_id:d||void 0,search:f||void 0,limit:12,offset:0})]);o(k.projects),n(C.designs),m(C.pagination.has_more)}catch(k){console.error("Failed to load designs:",k),c(k.message)}finally{s(!1)}},x=async()=>{if(!(y||!g)){v(!0);try{const k=await Km({project_id:d||void 0,search:f||void 0,limit:12,offset:r.length});n([...r,...k.designs]),m(k.pagination.has_more)}catch(k){console.error("Failed to load more designs:",k),c(k.message)}finally{v(!1)}}},w=async k=>{try{const{design:C}=await rN(k);e(C),t()}catch(C){console.error("Failed to load design:",C),alert(`Failed to load design: ${C.message}`)}},S=async k=>{try{await nN(k),n(r.filter(C=>C.id!==k))}catch(C){throw console.error("Failed to delete design:",C),C}};return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content design-gallery-modal",onClick:k=>k.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"My Designs"}),u.jsx("button",{onClick:t,className:"close-button",children:""})]}),u.jsxs("div",{className:"gallery-filters",children:[u.jsx("div",{className:"filter-group",children:u.jsx("input",{type:"text",placeholder:"Search designs...",value:f,onChange:k=>p(k.target.value),className:"search-input"})}),u.jsx("div",{className:"filter-group",children:u.jsxs("select",{value:d,onChange:k=>h(k.target.value),className:"project-filter",children:[u.jsx("option",{value:"",children:"All Projects"}),i.map(k=>u.jsxs("option",{value:k.id,children:[k.name," (",k.design_count,")"]},k.id))]})})]}),u.jsxs("div",{className:"modal-body",children:[l&&u.jsxs("div",{className:"error-message",children:[l,u.jsx("button",{onClick:b,className:"btn-retry",children:"Retry"})]}),a?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner-large"}),u.jsx("p",{children:"Loading your designs..."})]}):r.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}),u.jsx("path",{d:"M17 21v-8H7v8M7 3v5h8"})]}),u.jsx("h3",{children:"No designs yet"}),u.jsx("p",{children:f||d?"No designs match your filters. Try adjusting your search.":"Create your first design to see it here!"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"designs-grid",children:r.map(k=>u.jsx(Jee,{design:k,onLoad:w,onDelete:S},k.id))}),g&&u.jsx("div",{className:"load-more-section",children:u.jsx("button",{onClick:x,className:"btn-load-more",disabled:y,children:y?"Loading...":"Load More"})})]})]})]})})}function Qee(){const[t,e]=H.useState([]),[r,n]=H.useState(0),[i,o]=H.useState(!1),[a,s]=H.useState(null),[l,c]=H.useState("all"),[d,h]=H.useState("all"),[f,p]=H.useState(""),[g,m]=H.useState(0),y=50,v=async()=>{var P,E;const k=await br.auth.getSession();return{"Content-Type":"application/json",Authorization:`Bearer ${(E=(P=k==null?void 0:k.data)==null?void 0:P.session)==null?void 0:E.access_token}`}},b=async()=>{o(!0),s(null);try{const k=await v(),C=new URLSearchParams({limit:y.toString(),offset:g.toString()});l!=="all"&&C.append("status",l),d!=="all"&&C.append("saved_status",d),f&&C.append("search",f);const P=await fetch(`/api/admin/jobs?${C.toString()}`,{headers:k}),E=await P.json();if(!P.ok)throw new Error(E.error||"Failed to fetch jobs");e(E.jobs),n(E.total)}catch(k){console.error("Failed to fetch jobs:",k),s(k.message)}finally{o(!1)}};H.useEffect(()=>{b()},[l,d,f,g]);const x=t.filter(k=>k.status==="completed").length,w=t.filter(k=>!k.is_saved&&k.status==="completed").length,S=t.filter(k=>k.is_saved).length;return u.jsxs("div",{className:"generations-tab",children:[u.jsxs("div",{className:"admin-stats-grid",children:[u.jsxs("div",{className:"admin-stat-card",children:[u.jsx("h3",{children:"Total Generations"}),u.jsx("p",{className:"stat-value",children:r}),u.jsx("span",{className:"stat-label",children:"All time"})]}),u.jsxs("div",{className:"admin-stat-card",children:[u.jsx("h3",{children:"Completed"}),u.jsx("p",{className:"stat-value",children:x}),u.jsx("span",{className:"stat-label",children:"Current page"})]}),u.jsxs("div",{className:"admin-stat-card success",children:[u.jsx("h3",{children:"Saved"}),u.jsx("p",{className:"stat-value",children:S}),u.jsx("span",{className:"stat-label",children:" Linked to designs"})]}),u.jsxs("div",{className:"admin-stat-card warning",children:[u.jsx("h3",{children:"Orphaned"}),u.jsx("p",{className:"stat-value",children:w}),u.jsx("span",{className:"stat-label",children:" Not saved"})]})]}),u.jsxs("div",{className:"admin-filters",children:[u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Status:"}),u.jsxs("select",{value:l,onChange:k=>c(k.target.value),children:[u.jsx("option",{value:"all",children:"All"}),u.jsx("option",{value:"completed",children:"Completed"}),u.jsx("option",{value:"failed",children:"Failed"}),u.jsx("option",{value:"running",children:"Running"}),u.jsx("option",{value:"queued",children:"Queued"})]})]}),u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Saved:"}),u.jsxs("select",{value:d,onChange:k=>h(k.target.value),children:[u.jsx("option",{value:"all",children:"All"}),u.jsx("option",{value:"saved",children:"Saved only"}),u.jsx("option",{value:"orphaned",children:"Orphaned only"})]})]}),u.jsxs("div",{className:"filter-group search",children:[u.jsx("label",{children:"Search prompt:"}),u.jsx("input",{type:"text",placeholder:"Search in prompts...",value:f,onChange:k=>p(k.target.value)})]})]}),i&&u.jsxs("div",{className:"admin-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading jobs..."})]}),a&&u.jsx("div",{className:"admin-error",children:u.jsxs("p",{children:["Error: ",a]})}),!i&&t.length>0&&u.jsx("div",{className:"jobs-table-container",children:u.jsxs("table",{className:"jobs-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Thumbnail"}),u.jsx("th",{children:"Prompt"}),u.jsx("th",{children:"Dimensions"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Saved"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"Created"})]})}),u.jsx("tbody",{children:t.map(k=>u.jsxs("tr",{className:`job-row ${k.is_saved?"saved":"orphaned"} ${k.status}`,children:[u.jsx("td",{className:"thumbnail-cell",children:k.thumbnail_url?u.jsx("img",{src:k.thumbnail_url,alt:"Design",className:"job-thumbnail"}):u.jsx("div",{className:"thumbnail-placeholder",children:"No image"})}),u.jsx("td",{className:"prompt-cell",children:u.jsx("div",{className:"prompt-text",title:k.prompt,children:k.prompt||u.jsx("em",{children:"No prompt"})})}),u.jsx("td",{className:"dimensions-cell",children:k.width_mm&&k.length_mm?u.jsxs("span",{children:[k.width_mm,"  ",k.length_mm," mm"]}):u.jsx("em",{children:"N/A"})}),u.jsx("td",{className:"status-cell",children:u.jsx("span",{className:`status-badge ${k.status}`,children:k.status})}),u.jsx("td",{className:"saved-cell",children:k.is_saved?u.jsx("span",{className:"saved-badge",children:" Saved"}):u.jsx("span",{className:"orphaned-badge",children:" Orphaned"})}),u.jsx("td",{className:"user-cell",children:k.user_email}),u.jsx("td",{className:"date-cell",children:new Date(k.created_at).toLocaleDateString()})]},k.id))})]})}),!i&&t.length===0&&u.jsx("div",{className:"admin-empty",children:u.jsx("p",{children:"No jobs found matching your filters."})}),r>y&&u.jsxs("div",{className:"admin-pagination",children:[u.jsx("button",{onClick:()=>m(Math.max(0,g-y)),disabled:g===0,children:"Previous"}),u.jsxs("span",{children:["Showing ",g+1," to ",Math.min(g+y,r)," of ",r]}),u.jsx("button",{onClick:()=>m(g+y),disabled:g+y>=r,children:"Next"})]}),u.jsx("style",{children:`
        .jobs-table-container {
          overflow-x: auto;
          background: white;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .jobs-table {
          width: 100%;
          border-collapse: collapse;
        }

        .jobs-table th {
          background: #f9fafb;
          padding: 1rem;
          text-align: left;
          font-weight: 600;
          font-size: 0.875rem;
          color: #374151;
          border-bottom: 1px solid #e5e7eb;
        }

        .jobs-table td {
          padding: 1rem;
          border-bottom: 1px solid #e5e7eb;
        }

        .job-row.saved {
          background: rgba(16, 185, 129, 0.03);
        }

        .job-row.orphaned {
          background: rgba(245, 158, 11, 0.03);
        }

        .thumbnail-cell {
          width: 80px;
        }

        .job-thumbnail {
          width: 64px;
          height: 64px;
          object-fit: cover;
          border-radius: 4px;
        }

        .thumbnail-placeholder {
          width: 64px;
          height: 64px;
          background: #f3f4f6;
          border-radius: 4px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 0.75rem;
          color: #9ca3af;
        }

        .prompt-cell {
          max-width: 300px;
        }

        .prompt-text {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .status-badge {
          display: inline-block;
          padding: 0.25rem 0.75rem;
          border-radius: 9999px;
          font-size: 0.75rem;
          font-weight: 500;
        }

        .status-badge.completed {
          background: #d1fae5;
          color: #065f46;
        }

        .status-badge.failed {
          background: #fee2e2;
          color: #991b1b;
        }

        .status-badge.running {
          background: #dbeafe;
          color: #1e40af;
        }

        .status-badge.queued {
          background: #e0e7ff;
          color: #3730a3;
        }

        .saved-badge {
          color: #059669;
          font-weight: 500;
        }

        .orphaned-badge {
          color: #d97706;
          font-weight: 500;
        }

        .user-cell {
          font-size: 0.875rem;
          color: #6b7280;
        }

        .date-cell {
          font-size: 0.875rem;
          color: #6b7280;
          white-space: nowrap;
        }

        .admin-stat-card.success {
          border-left: 4px solid #10b981;
        }

        .admin-stat-card.warning {
          border-left: 4px solid #f59e0b;
        }
      `})]})}function $ee(){const[t,e]=H.useState([]),[r,n]=H.useState(null),[i,o]=H.useState(!1),[a,s]=H.useState(null),[l,c]=H.useState(!1),[d,h]=H.useState(new Set),[f,p]=H.useState("all"),g=async()=>{var k,C;const w=await br.auth.getSession();return{"Content-Type":"application/json",Authorization:`Bearer ${(C=(k=w==null?void 0:w.data)==null?void 0:k.session)==null?void 0:C.access_token}`}},m=async()=>{o(!0),s(null);try{const w=await g(),S=new URLSearchParams;f!=="all"&&S.append("age_filter",f);const k=await fetch(`/api/admin/recovery/orphaned?${S.toString()}`,{headers:w}),C=await k.json();if(!k.ok)throw new Error(C.error||"Failed to fetch orphaned jobs");e(C.orphaned_jobs),n(C.age_buckets)}catch(w){console.error("Failed to fetch orphaned jobs:",w),s(w.message)}finally{o(!1)}};H.useEffect(()=>{m()},[f]);const y=w=>{const S=new Set(d);S.has(w)?S.delete(w):S.add(w),h(S)},v=()=>{h(new Set(t.map(w=>w.id)))},b=()=>{h(new Set)},x=async()=>{if(d.size===0){alert("Please select at least one job to recover");return}if(confirm(`Recover ${d.size} orphaned ${d.size===1?"design":"designs"}?`)){c(!0),s(null);try{const w=await g(),S=await fetch("/api/admin/recovery/create",{method:"POST",headers:w,body:JSON.stringify({job_ids:Array.from(d)})}),k=await S.json();if(!S.ok)throw new Error(k.error||"Failed to recover designs");alert(`Successfully recovered ${k.recovered_count} ${k.recovered_count===1?"design":"designs"}!`),b(),await m()}catch(w){console.error("Failed to recover designs:",w),s(w.message),alert(`Recovery failed: ${w.message}`)}finally{c(!1)}}};return u.jsxs("div",{className:"recovery-tab",children:[u.jsxs("div",{className:"admin-stats-grid",children:[u.jsxs("div",{className:"admin-stat-card warning",children:[u.jsx("h3",{children:"Total Orphaned"}),u.jsx("p",{className:"stat-value",children:t.length}),u.jsx("span",{className:"stat-label",children:"Designs not saved"})]}),r&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"admin-stat-card",children:[u.jsx("h3",{children:"<24 hours"}),u.jsx("p",{className:"stat-value",children:r["<24h"]}),u.jsx("span",{className:"stat-label",children:"Recent"})]}),u.jsxs("div",{className:"admin-stat-card",children:[u.jsx("h3",{children:"1-7 days"}),u.jsx("p",{className:"stat-value",children:r["1-7d"]}),u.jsx("span",{className:"stat-label",children:"This week"})]}),u.jsxs("div",{className:"admin-stat-card",children:[u.jsx("h3",{children:">7 days"}),u.jsx("p",{className:"stat-value",children:r["7-30d"]+r[">30d"]}),u.jsx("span",{className:"stat-label",children:"Older"})]})]})]}),u.jsxs("div",{className:"recovery-controls",children:[u.jsx("div",{className:"admin-filters",children:u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Age:"}),u.jsxs("select",{value:f,onChange:w=>p(w.target.value),children:[u.jsx("option",{value:"all",children:"All"}),u.jsx("option",{value:"24h",children:"<24 hours"}),u.jsx("option",{value:"7d",children:"<7 days"}),u.jsx("option",{value:"30d",children:"<30 days"})]})]})}),u.jsxs("div",{className:"bulk-actions",children:[u.jsx("button",{onClick:v,className:"btn-secondary",children:"Select All"}),u.jsxs("button",{onClick:b,className:"btn-secondary",children:["Clear (",d.size,")"]}),u.jsx("button",{onClick:x,disabled:d.size===0||l,className:"btn-primary",children:l?"Recovering...":`Recover Selected (${d.size})`})]})]}),i&&u.jsxs("div",{className:"admin-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading orphaned jobs..."})]}),a&&u.jsx("div",{className:"admin-error",children:u.jsxs("p",{children:["Error: ",a]})}),!i&&t.length>0&&u.jsx("div",{className:"recovery-table-container",children:u.jsxs("table",{className:"recovery-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"40px"},children:u.jsx("input",{type:"checkbox",checked:d.size===t.length,onChange:w=>w.target.checked?v():b()})}),u.jsx("th",{children:"Thumbnail"}),u.jsx("th",{children:"Prompt / Auto-name"}),u.jsx("th",{children:"Dimensions"}),u.jsx("th",{children:"Age"}),u.jsx("th",{children:"User"})]})}),u.jsx("tbody",{children:t.map(w=>u.jsxs("tr",{className:d.has(w.id)?"selected":"",onClick:()=>y(w.id),children:[u.jsx("td",{onClick:S=>S.stopPropagation(),children:u.jsx("input",{type:"checkbox",checked:d.has(w.id),onChange:()=>y(w.id)})}),u.jsx("td",{className:"thumbnail-cell",children:w.thumbnail_url?u.jsx("img",{src:w.thumbnail_url,alt:"Design",className:"job-thumbnail"}):u.jsx("div",{className:"thumbnail-placeholder",children:"No image"})}),u.jsxs("td",{className:"prompt-cell",children:[u.jsx("div",{className:"prompt-text",title:w.prompt,children:w.auto_name}),w.prompt&&w.prompt.length>50&&u.jsx("div",{className:"prompt-full",children:w.prompt})]}),u.jsx("td",{className:"dimensions-cell",children:w.width_mm&&w.length_mm?u.jsxs("span",{children:[w.width_mm,"  ",w.length_mm," mm"]}):u.jsx("em",{children:"N/A"})}),u.jsx("td",{className:"age-cell",children:u.jsxs("span",{className:`age-badge ${w.age_bucket.replace(/[<>]/g,"")}`,children:[w.age_days," ",w.age_days===1?"day":"days"]})}),u.jsx("td",{className:"user-cell",children:w.user_email})]},w.id))})]})}),!i&&t.length===0&&u.jsx("div",{className:"admin-empty",children:u.jsx("p",{children:"No orphaned jobs found. All designs have been saved!"})}),u.jsx("style",{children:`
        .recovery-controls {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1.5rem;
          flex-wrap: wrap;
          gap: 1rem;
        }

        .bulk-actions {
          display: flex;
          gap: 0.5rem;
        }

        .btn-primary {
          padding: 0.5rem 1rem;
          background: #ff6b35;
          color: white;
          border: none;
          border-radius: 4px;
          font-weight: 500;
          cursor: pointer;
        }

        .btn-primary:hover:not(:disabled) {
          background: #e55a2b;
        }

        .btn-primary:disabled {
          background: #d1d5db;
          cursor: not-allowed;
        }

        .btn-secondary {
          padding: 0.5rem 1rem;
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
          border-radius: 4px;
          font-weight: 500;
          cursor: pointer;
        }

        .btn-secondary:hover {
          background: #f9fafb;
        }

        .recovery-table-container {
          overflow-x: auto;
          background: white;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .recovery-table {
          width: 100%;
          border-collapse: collapse;
        }

        .recovery-table th {
          background: #f9fafb;
          padding: 1rem;
          text-align: left;
          font-weight: 600;
          font-size: 0.875rem;
          color: #374151;
          border-bottom: 1px solid #e5e7eb;
        }

        .recovery-table td {
          padding: 1rem;
          border-bottom: 1px solid #e5e7eb;
        }

        .recovery-table tbody tr {
          cursor: pointer;
          transition: background 0.15s;
        }

        .recovery-table tbody tr:hover {
          background: #f9fafb;
        }

        .recovery-table tbody tr.selected {
          background: #eff6ff;
        }

        .age-badge {
          display: inline-block;
          padding: 0.25rem 0.75rem;
          border-radius: 9999px;
          font-size: 0.75rem;
          font-weight: 500;
        }

        .age-badge.24h {
          background: #fee2e2;
          color: #991b1b;
        }

        .age-badge.1-7d {
          background: #fed7aa;
          color: #92400e;
        }

        .age-badge.7-30d {
          background: #fef3c7;
          color: #78350f;
        }

        .age-badge.30d {
          background: #e5e7eb;
          color: #374151;
        }

        .prompt-full {
          font-size: 0.75rem;
          color: #6b7280;
          margin-top: 0.25rem;
          display: none;
        }

        .recovery-table tbody tr:hover .prompt-full {
          display: block;
        }
      `})]})}function ete({onClose:t}){const[e,r]=H.useState("overview"),[n,i]=H.useState(!0),[o,a]=H.useState(null),[s,l]=H.useState(null),[c,d]=H.useState([]),[h,f]=H.useState([]),[p,g]=H.useState(0),[m,y]=H.useState(null),v=async()=>{var P,E;const k=await br.auth.getSession();return{"Content-Type":"application/json",Authorization:`Bearer ${(E=(P=k==null?void 0:k.data)==null?void 0:P.session)==null?void 0:E.access_token}`}},b=async()=>{try{const k=await v(),C=await fetch("/api/admin/analytics/overview",{headers:k}),P=await C.json();if(!C.ok)throw new Error(P.error||"Failed to fetch overview");l(P.stats)}catch(k){console.error("Failed to fetch overview:",k),a(k.message)}},x=async()=>{try{const k=await v(),C=await fetch("/api/admin/users",{headers:k}),P=await C.json();if(!C.ok)throw new Error(P.error||"Failed to fetch users");d(P.users)}catch(k){console.error("Failed to fetch users:",k),a(k.message)}},w=async()=>{try{const k=await v(),C=await fetch("/api/admin/designs?limit=50",{headers:k}),P=await C.json();if(!C.ok)throw new Error(P.error||"Failed to fetch designs");f(P.designs),g(P.total)}catch(k){console.error("Failed to fetch designs:",k),a(k.message)}},S=async()=>{try{const k=await v(),C=await fetch("/api/admin/analytics/colours",{headers:k}),P=await C.json();if(!C.ok)throw new Error(P.error||"Failed to fetch colour analytics");y(P.analytics)}catch(k){console.error("Failed to fetch colours:",k),a(k.message)}};return H.useEffect(()=>{(async()=>{i(!0),await b(),i(!1)})()},[]),H.useEffect(()=>{e==="users"&&c.length===0?x():e==="designs"&&h.length===0?w():e==="colours"&&!m&&S()},[e]),n?u.jsxs("div",{className:"admin-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading admin dashboard..."})]}):o?u.jsxs("div",{className:"admin-error",children:[u.jsx("h2",{children:"Access Denied"}),u.jsx("p",{children:o}),u.jsx("p",{children:"You need admin privileges to view this page."})]}):u.jsxs("div",{className:"admin-dashboard",children:[u.jsxs("header",{className:"admin-header",children:[u.jsxs("div",{className:"admin-header-left",children:[u.jsxs("button",{onClick:t,className:"btn-back",children:[u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Back to Studio"]}),u.jsx("h1",{children:"TPV Studio Admin"})]}),u.jsxs("nav",{className:"admin-nav",children:[u.jsx("button",{className:e==="overview"?"active":"",onClick:()=>r("overview"),children:"Overview"}),u.jsx("button",{className:e==="generations"?"active":"",onClick:()=>r("generations"),children:"Generations"}),u.jsx("button",{className:e==="recovery"?"active":"",onClick:()=>r("recovery"),children:"Recovery"}),u.jsx("button",{className:e==="users"?"active":"",onClick:()=>r("users"),children:"Users"}),u.jsx("button",{className:e==="designs"?"active":"",onClick:()=>r("designs"),children:"Designs"}),u.jsx("button",{className:e==="colours"?"active":"",onClick:()=>r("colours"),children:"Colour Analytics"})]})]}),u.jsxs("main",{className:"admin-content",children:[e==="overview"&&s&&u.jsx(tte,{stats:s}),e==="generations"&&u.jsx(Qee,{}),e==="recovery"&&u.jsx($ee,{}),e==="users"&&u.jsx(rte,{users:c}),e==="designs"&&u.jsx(nte,{designs:h,total:p}),e==="colours"&&m&&u.jsx(ite,{analytics:m})]}),u.jsx("style",{jsx:!0,children:`
        .admin-dashboard {
          min-height: 100vh;
          background: #f8fafc;
        }

        .admin-header {
          background: white;
          border-bottom: 1px solid #e5e7eb;
          padding: 20px 40px;
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
        }

        .admin-header-left {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .btn-back {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          background: #f3f4f6;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          font-size: 13px;
          color: #6b7280;
          cursor: pointer;
          transition: all 0.2s;
          width: fit-content;
        }

        .btn-back:hover {
          background: #e5e7eb;
          color: #374151;
        }

        .admin-header h1 {
          margin: 0;
          font-size: 24px;
          color: #1e4a7a;
        }

        .admin-nav {
          display: flex;
          gap: 8px;
        }

        .admin-nav button {
          padding: 8px 16px;
          border: 1px solid #e5e7eb;
          background: white;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          color: #64748b;
          transition: all 0.2s;
        }

        .admin-nav button:hover {
          background: #f8fafc;
          color: #1e4a7a;
        }

        .admin-nav button.active {
          background: #1e4a7a;
          color: white;
          border-color: #1e4a7a;
        }

        .admin-content {
          padding: 24px 40px;
        }

        .admin-loading,
        .admin-error {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          min-height: 50vh;
          text-align: center;
        }

        .admin-error h2 {
          color: #dc2626;
        }

        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #e5e7eb;
          border-top-color: #1e4a7a;
          border-radius: 50%;
          animation: spin 0.8s linear infinite;
          margin-bottom: 16px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function tte({stats:t}){return u.jsxs("div",{className:"overview-panel",children:[u.jsx("h2",{children:"Dashboard Overview"}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:t.totals.users}),u.jsx("div",{className:"stat-label",children:"Total Users"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:t.totals.designs}),u.jsx("div",{className:"stat-label",children:"Total Designs"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:t.totals.projects}),u.jsx("div",{className:"stat-label",children:"Total Projects"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:t.totals.jobs}),u.jsx("div",{className:"stat-label",children:"AI Jobs Run"})]})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("div",{className:"stat-value",children:t.activity.active_users_30d}),u.jsx("div",{className:"stat-label",children:"Active Users (30d)"})]}),u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("div",{className:"stat-value",children:t.activity.designs_7d}),u.jsx("div",{className:"stat-label",children:"Designs This Week"})]}),u.jsxs("div",{className:"stat-card highlight",children:[u.jsx("div",{className:"stat-value",children:t.activity.designs_30d}),u.jsx("div",{className:"stat-label",children:"Designs This Month"})]}),u.jsxs("div",{className:"stat-card highlight",children:[u.jsxs("div",{className:"stat-value",children:[t.activity.job_success_rate,"%"]}),u.jsx("div",{className:"stat-label",children:"Job Success Rate"})]})]}),u.jsx("h3",{children:"Activity Timeline (14 Days)"}),u.jsx("div",{className:"activity-chart",children:t.timeline.map((e,r)=>u.jsxs("div",{className:"bar-container",children:[u.jsx("div",{className:"bar",style:{height:`${Math.max(4,e.count*20)}px`},title:`${e.date}: ${e.count} designs`}),u.jsx("div",{className:"bar-label",children:e.date.split("-")[2]})]},r))}),u.jsxs("div",{className:"breakdowns",children:[u.jsxs("div",{className:"breakdown-card",children:[u.jsx("h4",{children:"Input Mode"}),u.jsxs("div",{className:"breakdown-items",children:[u.jsxs("div",{className:"breakdown-item",children:[u.jsx("span",{children:"Prompt"}),u.jsx("strong",{children:t.breakdowns.input_mode.prompt})]}),u.jsxs("div",{className:"breakdown-item",children:[u.jsx("span",{children:"Image Upload"}),u.jsx("strong",{children:t.breakdowns.input_mode.image})]}),u.jsxs("div",{className:"breakdown-item",children:[u.jsx("span",{children:"SVG Upload"}),u.jsx("strong",{children:t.breakdowns.input_mode.svg})]})]})]}),u.jsxs("div",{className:"breakdown-card",children:[u.jsx("h4",{children:"View Mode Preference"}),u.jsxs("div",{className:"breakdown-items",children:[u.jsxs("div",{className:"breakdown-item",children:[u.jsx("span",{children:"Solid TPV"}),u.jsx("strong",{children:t.breakdowns.view_mode.solid})]}),u.jsxs("div",{className:"breakdown-item",children:[u.jsx("span",{children:"Blend TPV"}),u.jsx("strong",{children:t.breakdowns.view_mode.blend})]})]})]})]}),u.jsx("style",{jsx:!0,children:`
        .overview-panel h2 {
          margin: 0 0 24px 0;
          color: #1a202c;
        }

        .overview-panel h3 {
          margin: 32px 0 16px 0;
          color: #1a202c;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 16px;
          margin-bottom: 16px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .stat-card.highlight {
          border-color: #1e4a7a;
          border-width: 2px;
        }

        .stat-value {
          font-size: 32px;
          font-weight: 700;
          color: #1e4a7a;
        }

        .stat-label {
          font-size: 14px;
          color: #64748b;
          margin-top: 4px;
        }

        .activity-chart {
          display: flex;
          align-items: flex-end;
          gap: 8px;
          height: 120px;
          padding: 16px;
          background: white;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .bar-container {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .bar {
          width: 100%;
          background: #1e4a7a;
          border-radius: 4px 4px 0 0;
          min-height: 4px;
        }

        .bar-label {
          font-size: 10px;
          color: #64748b;
          margin-top: 4px;
        }

        .breakdowns {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
          margin-top: 24px;
        }

        .breakdown-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .breakdown-card h4 {
          margin: 0 0 12px 0;
          color: #1a202c;
        }

        .breakdown-item {
          display: flex;
          justify-content: space-between;
          padding: 8px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .breakdown-item:last-child {
          border-bottom: none;
        }

        .breakdown-item span {
          color: #64748b;
        }

        .breakdown-item strong {
          color: #1a202c;
        }
      `})]})}function rte({users:t}){return u.jsxs("div",{className:"users-panel",children:[u.jsxs("h2",{children:["User Management (",t.length," users)"]}),u.jsxs("table",{className:"users-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Role"}),u.jsx("th",{children:"Designs"}),u.jsx("th",{children:"Projects"}),u.jsx("th",{children:"Jobs"}),u.jsx("th",{children:"Last Design"}),u.jsx("th",{children:"Joined"})]})}),u.jsx("tbody",{children:t.map(e=>u.jsxs("tr",{children:[u.jsx("td",{children:e.email}),u.jsx("td",{children:u.jsx("span",{className:`role-badge ${e.role}`,children:e.role})}),u.jsx("td",{children:e.design_count}),u.jsx("td",{children:e.project_count}),u.jsx("td",{children:e.job_count}),u.jsx("td",{children:e.last_design_at?new Date(e.last_design_at).toLocaleDateString():"-"}),u.jsx("td",{children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]}),u.jsx("style",{jsx:!0,children:`
        .users-panel h2 {
          margin: 0 0 24px 0;
          color: #1a202c;
        }

        .users-table {
          width: 100%;
          background: white;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
          border-collapse: collapse;
        }

        .users-table th,
        .users-table td {
          padding: 12px 16px;
          text-align: left;
          border-bottom: 1px solid #e5e7eb;
        }

        .users-table th {
          background: #f8fafc;
          font-weight: 600;
          color: #64748b;
          font-size: 12px;
          text-transform: uppercase;
        }

        .users-table td {
          font-size: 14px;
          color: #1a202c;
        }

        .role-badge {
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
        }

        .role-badge.user {
          background: #f3f4f6;
          color: #64748b;
        }

        .role-badge.admin {
          background: #dbeafe;
          color: #1e40af;
        }

        .role-badge.superadmin {
          background: #fef3c7;
          color: #92400e;
        }
      `})]})}function nte({designs:t,total:e}){return u.jsxs("div",{className:"designs-panel",children:[u.jsxs("h2",{children:["All Designs (",e," total)"]}),u.jsx("div",{className:"designs-grid",children:t.map(r=>u.jsxs("div",{className:"design-card",children:[u.jsx("div",{className:"design-thumbnail",children:r.thumbnail_url||r.original_png_url?u.jsx("img",{src:r.thumbnail_url||r.original_png_url,alt:r.name}):u.jsx("div",{className:"no-image",children:"No preview"})}),u.jsxs("div",{className:"design-info",children:[u.jsx("h4",{children:r.name}),u.jsx("p",{className:"design-user",children:r.user_email}),u.jsx("p",{className:"design-date",children:new Date(r.created_at).toLocaleDateString()}),r.project&&u.jsx("span",{className:"project-badge",style:{backgroundColor:r.project.color||"#64748b"},children:r.project.name})]})]},r.id))}),u.jsx("style",{jsx:!0,children:`
        .designs-panel h2 {
          margin: 0 0 24px 0;
          color: #1a202c;
        }

        .designs-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 16px;
        }

        .design-card {
          background: white;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
          overflow: hidden;
        }

        .design-thumbnail {
          aspect-ratio: 1;
          background: #f3f4f6;
          overflow: hidden;
        }

        .design-thumbnail img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .no-image {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #9ca3af;
          font-size: 14px;
        }

        .design-info {
          padding: 12px;
        }

        .design-info h4 {
          margin: 0 0 4px 0;
          font-size: 14px;
          color: #1a202c;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .design-user {
          margin: 0;
          font-size: 12px;
          color: #64748b;
        }

        .design-date {
          margin: 4px 0;
          font-size: 12px;
          color: #9ca3af;
        }

        .project-badge {
          display: inline-block;
          padding: 2px 8px;
          border-radius: 10px;
          font-size: 10px;
          color: white;
        }
      `})]})}function ite({analytics:t}){return u.jsxs("div",{className:"colours-panel",children:[u.jsx("h2",{children:"Colour Usage Analytics"}),u.jsxs("div",{className:"colour-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:t.totals.designs_analysed}),u.jsx("div",{className:"stat-label",children:"Designs Analysed"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:t.totals.colour_usages}),u.jsx("div",{className:"stat-label",children:"Total Colour Uses"})]})]}),u.jsx("h3",{children:"Top 10 TPV Colours"}),u.jsx("div",{className:"colour-list",children:t.top_colours.map((e,r)=>u.jsxs("div",{className:"colour-item",children:[u.jsxs("span",{className:"colour-rank",children:["#",r+1]}),u.jsx("div",{className:"colour-swatch",style:{backgroundColor:e.hex}}),u.jsxs("div",{className:"colour-info",children:[u.jsx("strong",{children:e.code}),u.jsx("span",{children:e.name})]}),u.jsxs("div",{className:"colour-count",children:[e.count," uses"]})]},e.code))}),u.jsx("h3",{children:"Colour Family Breakdown"}),u.jsx("div",{className:"family-bars",children:Object.entries(t.families).map(([e,r])=>u.jsxs("div",{className:"family-bar",children:[u.jsx("span",{className:"family-name",children:e}),u.jsx("div",{className:"bar-bg",children:u.jsx("div",{className:"bar-fill",style:{width:`${r/t.totals.colour_usages*100}%`,backgroundColor:ote(e)}})}),u.jsx("span",{className:"family-count",children:r})]},e))}),t.top_blends.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"Top Blend Combinations"}),u.jsx("div",{className:"blend-list",children:t.top_blends.map((e,r)=>u.jsxs("div",{className:"blend-item",children:[u.jsx("div",{className:"blend-swatches",children:e.components.map((n,i)=>u.jsx("div",{className:"blend-swatch",style:{backgroundColor:n.hex},title:`${n.code} - ${n.name}`},i))}),u.jsx("div",{className:"blend-codes",children:e.components.map(n=>n.code).join(" + ")}),u.jsxs("div",{className:"blend-count",children:[e.count," uses"]})]},r))})]}),u.jsx("style",{jsx:!0,children:`
        .colours-panel h2 {
          margin: 0 0 24px 0;
          color: #1a202c;
        }

        .colours-panel h3 {
          margin: 32px 0 16px 0;
          color: #1a202c;
        }

        .colour-stats {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 16px;
          margin-bottom: 24px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .stat-value {
          font-size: 32px;
          font-weight: 700;
          color: #1e4a7a;
        }

        .stat-label {
          font-size: 14px;
          color: #64748b;
          margin-top: 4px;
        }

        .colour-list {
          background: white;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
          overflow: hidden;
        }

        .colour-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          border-bottom: 1px solid #f3f4f6;
        }

        .colour-item:last-child {
          border-bottom: none;
        }

        .colour-rank {
          width: 30px;
          font-size: 12px;
          color: #9ca3af;
        }

        .colour-swatch {
          width: 32px;
          height: 32px;
          border-radius: 6px;
          border: 1px solid #e5e7eb;
        }

        .colour-info {
          flex: 1;
        }

        .colour-info strong {
          display: block;
          color: #1a202c;
        }

        .colour-info span {
          font-size: 12px;
          color: #64748b;
        }

        .colour-count {
          font-weight: 600;
          color: #1e4a7a;
        }

        .family-bars {
          background: white;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
          padding: 16px;
        }

        .family-bar {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 12px;
        }

        .family-bar:last-child {
          margin-bottom: 0;
        }

        .family-name {
          width: 80px;
          font-size: 14px;
          color: #64748b;
          text-transform: capitalize;
        }

        .bar-bg {
          flex: 1;
          height: 20px;
          background: #f3f4f6;
          border-radius: 4px;
          overflow: hidden;
        }

        .bar-fill {
          height: 100%;
          border-radius: 4px;
        }

        .family-count {
          width: 50px;
          text-align: right;
          font-weight: 600;
          color: #1a202c;
        }

        .blend-list {
          background: white;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
          overflow: hidden;
        }

        .blend-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          border-bottom: 1px solid #f3f4f6;
        }

        .blend-item:last-child {
          border-bottom: none;
        }

        .blend-swatches {
          display: flex;
          gap: 4px;
        }

        .blend-swatch {
          width: 24px;
          height: 24px;
          border-radius: 4px;
          border: 1px solid #e5e7eb;
        }

        .blend-codes {
          flex: 1;
          font-size: 14px;
          color: #1a202c;
        }

        .blend-count {
          font-weight: 600;
          color: #1e4a7a;
        }
      `})]})}function ote(t){return{reds:"#dc2626",greens:"#16a34a",blues:"#2563eb",yellows:"#ca8a04",neutrals:"#6b7280"}[t]||"#6b7280"}const Bg=[{code:"RH30",name:"Beige",hex:"#E4C4AA"},{code:"RH31",name:"Cream",hex:"#E8E3D8"},{code:"RH41",name:"Bright Yellow",hex:"#FFD833"},{code:"RH40",name:"Mustard",hex:"#E5A144"},{code:"RH50",name:"Orange",hex:"#F15B32"},{code:"RH01",name:"Standard Red",hex:"#A5362F"},{code:"RH02",name:"Bright Red",hex:"#E21F2F"},{code:"RH90",name:"Funky Pink",hex:"#E8457E"},{code:"RH21",name:"Purple",hex:"#493D8C"},{code:"RH20",name:"Standard Blue",hex:"#0075BC"},{code:"RH22",name:"Light Blue",hex:"#47AFE3"},{code:"RH23",name:"Azure",hex:"#039DC4"},{code:"RH26",name:"Turquoise",hex:"#00A6A3"},{code:"RH12",name:"Dark Green",hex:"#006C55"},{code:"RH10",name:"Standard Green",hex:"#609B63"},{code:"RH11",name:"Bright Green",hex:"#3BB44A"},{code:"RH32",name:"Brown",hex:"#8B5F3C"},{code:"RH65",name:"Pale Grey",hex:"#D9D9D6"},{code:"RH61",name:"Light Grey",hex:"#939598"},{code:"RH60",name:"Dark Grey",hex:"#59595B"},{code:"RH70",name:"Black",hex:"#231F20"}],xk=["ocean theme with dolphins and waves","jungle adventure with parrots","solar system with planets","garden with butterflies and flowers","racing track with cars","underwater coral reef scene","dinosaur footprints trail","rainbow with clouds"],ate=[...Array(60)].map(t=>({delay:`${Math.random()*3}s`,x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,size:`${8+Math.random()*12}px`}));function ste(){const[t,e]=H.useState(""),[r,n]=H.useState(""),[i,o]=H.useState(""),[a,s]=H.useState(!1),[l,c]=H.useState(!1),[d,h]=H.useState(0);H.useEffect(()=>{const g=setInterval(()=>{h(m=>(m+1)%xk.length)},5e3);return()=>clearInterval(g)},[]);const f=async g=>{g.preventDefault(),o(""),s(!0);try{await Xi.signIn(t,r)}catch(m){o(m.message||"Sign in failed")}finally{s(!1)}},p=g=>{var m;(m=document.getElementById(g))==null||m.scrollIntoView({behavior:"smooth"})};return u.jsxs("div",{className:"landing-page",children:[u.jsxs("nav",{className:"landing-nav",children:[u.jsxs("div",{className:"nav-logo",children:[u.jsx("span",{className:"logo-text",children:"TPV"}),u.jsx("span",{className:"logo-accent",children:"Studio"})]}),u.jsxs("div",{className:"nav-links",children:[u.jsx("button",{onClick:()=>p("features"),children:"Features"}),u.jsx("button",{onClick:()=>p("palette"),children:"Colours"}),u.jsx("button",{onClick:()=>c(!0),className:"nav-cta",children:"Sign In"})]})]}),u.jsxs("section",{className:"hero",children:[u.jsx("div",{className:"hero-background",children:u.jsx("div",{className:"granule-field",children:ate.map((g,m)=>u.jsx("div",{className:"granule",style:{"--delay":g.delay,"--x":g.x,"--y":g.y,"--color":Bg[m%Bg.length].hex,"--size":g.size}},m))})}),u.jsxs("div",{className:"hero-content",children:[u.jsx("div",{className:"hero-badge",children:"AI-Powered Design Tool"}),u.jsxs("h1",{children:[u.jsx("span",{className:"hero-line-1",children:"Transform Ideas Into"}),u.jsx("span",{className:"hero-line-2",children:"Playground Surfaces"})]}),u.jsx("p",{className:"hero-subtitle",children:"Describe your vision or upload an image. Get production-ready TPV colour specifications in minutes, not hours."}),u.jsxs("div",{className:"hero-ctas",children:[u.jsxs("button",{onClick:()=>c(!0),className:"cta-primary",children:["Start Designing",u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),u.jsx("button",{onClick:()=>p("how-it-works"),className:"cta-secondary",children:"See How It Works"})]})]}),u.jsx("div",{className:"hero-visual",children:u.jsx("div",{className:"mockup-container",children:u.jsxs("div",{className:"mockup-screen",children:[u.jsx("div",{className:"mockup-header",children:u.jsxs("div",{className:"mockup-dots",children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})}),u.jsxs("div",{className:"mockup-content",children:[u.jsx("div",{className:"mockup-input",children:u.jsx("span",{className:"typing-text",children:xk[d]},d)}),u.jsxs("div",{className:"mockup-preview",children:[u.jsx("div",{className:"preview-shape shape-1"}),u.jsx("div",{className:"preview-shape shape-2"}),u.jsx("div",{className:"preview-shape shape-3"})]})]})]})})})]}),u.jsxs("section",{id:"how-it-works",className:"how-it-works",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("span",{className:"section-tag",children:"Process"}),u.jsx("h2",{children:"Three Steps to Production-Ready Designs"})]}),u.jsxs("div",{className:"steps-container",children:[u.jsxs("div",{className:"step",children:[u.jsx("div",{className:"step-number",children:"01"}),u.jsx("div",{className:"step-icon",children:u.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:u.jsx("path",{d:"M12 20h9M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"})})}),u.jsx("h3",{children:"Describe or Upload"}),u.jsx("p",{children:'Type a description like "tropical jungle with parrots" or upload an existing image or SVG file.'})]}),u.jsx("div",{className:"step-connector",children:u.jsx("svg",{viewBox:"0 0 100 20",preserveAspectRatio:"none",children:u.jsx("path",{d:"M0 10 Q50 10 100 10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4"})})}),u.jsxs("div",{className:"step",children:[u.jsx("div",{className:"step-number",children:"02"}),u.jsx("div",{className:"step-icon",children:u.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:u.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),u.jsx("h3",{children:"AI Generates Vector"}),u.jsx("p",{children:"Our AI creates a clean vector design optimized for TPV surface production with colour regions."})]}),u.jsx("div",{className:"step-connector",children:u.jsx("svg",{viewBox:"0 0 100 20",preserveAspectRatio:"none",children:u.jsx("path",{d:"M0 10 Q50 10 100 10",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4"})})}),u.jsxs("div",{className:"step",children:[u.jsx("div",{className:"step-number",children:"03"}),u.jsx("div",{className:"step-icon",children:u.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),u.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]})}),u.jsx("h3",{children:"Get TPV Recipes"}),u.jsx("p",{children:"Receive precise granule blend specifications with component ratios, ready for production."})]})]})]}),u.jsxs("section",{id:"features",className:"features",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("span",{className:"section-tag",children:"Capabilities"}),u.jsx("h2",{children:"Everything You Need to Design TPV Surfaces"})]}),u.jsxs("div",{className:"features-grid",children:[u.jsxs("div",{className:"feature-card feature-highlight",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{d:"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"}),u.jsx("path",{d:"M3.27 6.96L12 12.01l8.73-5.05M12 22.08V12"})]})}),u.jsx("h3",{children:"AI Text-to-Vector"}),u.jsx("p",{children:"Describe any concept in natural language. Our AI transforms your words into production-ready vector designs."}),u.jsx("div",{className:"feature-example",children:'"vibrant underwater scene with coral reef"'})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),u.jsx("path",{d:"M21 15l-5-5L5 21"})]})}),u.jsx("h3",{children:"Image Vectorisation"}),u.jsx("p",{children:"Upload any PNG or JPG image and convert it to clean SVG vectors optimised for TPV production."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("circle",{cx:"13.5",cy:"6.5",r:"2.5"}),u.jsx("circle",{cx:"17.5",cy:"10.5",r:"2.5"}),u.jsx("circle",{cx:"8.5",cy:"7.5",r:"2.5"}),u.jsx("circle",{cx:"6.5",cy:"12.5",r:"2.5"}),u.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})]})}),u.jsx("h3",{children:"Auto Colour Matching"}),u.jsx("p",{children:"Automatic extraction and matching to the 21-colour TPV palette with optimal blend recipes."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{d:"M12 3v18M3 12h18"}),u.jsx("circle",{cx:"12",cy:"12",r:"9"})]})}),u.jsx("h3",{children:"Solid & Blend Modes"}),u.jsx("p",{children:"Choose between single-colour purity or multi-granule blends for precise colour accuracy."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),u.jsx("h3",{children:"Interactive Editor"}),u.jsx("p",{children:"Click any colour region to customise. Real-time preview updates as you design."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"}),u.jsx("path",{d:"M14 2v6h6M12 18v-6M9 15l3 3 3-3"})]})}),u.jsx("h3",{children:"PDF Specifications"}),u.jsx("p",{children:"Export professional specification sheets with design preview, dimensions, and all recipes."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),u.jsx("path",{d:"M21 15l-5-5L5 21"})]})}),u.jsx("h3",{children:"In-Situ Preview"}),u.jsx("p",{children:"Upload a site photo and see your design in context. Adjust perspective and lighting to visualise the finished installation."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon",children:u.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),u.jsx("h3",{children:"Installation Tiles"}),u.jsx("p",{children:"Download your design as 1m1m tiles in a ZIP file. Named like a chessboard (A1, B2...) for easy on-site layout."})]})]})]}),u.jsxs("section",{id:"palette",className:"palette-section",children:[u.jsxs("div",{className:"section-header light",children:[u.jsx("span",{className:"section-tag",children:"Palette"}),u.jsx("h2",{children:"21 Standard TPV Colours"}),u.jsx("p",{className:"section-subtitle",children:"The complete Rosehill TPV granule palette at your fingertips"})]}),u.jsx("div",{className:"palette-grid",children:Bg.map((g,m)=>u.jsxs("div",{className:"palette-swatch",style:{"--swatch-color":g.hex,"--delay":`${m*.03}s`},children:[u.jsx("div",{className:"swatch-color"}),u.jsxs("div",{className:"swatch-info",children:[u.jsx("span",{className:"swatch-name",children:g.name}),u.jsx("span",{className:"swatch-code",children:g.code})]})]},g.code))})]}),u.jsx("section",{className:"benefits",children:u.jsxs("div",{className:"benefits-grid",children:[u.jsxs("div",{className:"benefit",children:[u.jsx("div",{className:"benefit-metric",children:"10x"}),u.jsx("div",{className:"benefit-label",children:"Faster Design Process"}),u.jsx("p",{children:"What took hours of manual colour matching now takes minutes with AI automation."})]}),u.jsxs("div",{className:"benefit",children:[u.jsx("div",{className:"benefit-metric",children:"100%"}),u.jsx("div",{className:"benefit-label",children:"Production Accurate"}),u.jsx("p",{children:"Recipes use exact TPV granule components with precise ratio specifications."})]}),u.jsxs("div",{className:"benefit",children:[u.jsx("div",{className:"benefit-metric",children:"21"}),u.jsx("div",{className:"benefit-label",children:"Standard Colours"}),u.jsx("p",{children:"Full access to the complete Rosehill TPV palette with blend combinations."})]})]})}),u.jsx("section",{className:"cta-footer",children:u.jsxs("div",{className:"cta-content",children:[u.jsx("h2",{children:"Ready to Transform Your Workflow?"}),u.jsx("p",{children:"Start designing playground surfaces with AI-powered precision."}),u.jsxs("button",{onClick:()=>c(!0),className:"cta-primary large",children:["Sign In to TPV Studio",u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),u.jsxs("p",{className:"cta-note",children:["Need an account? Contact ",u.jsx("a",{href:"mailto:info@rosehill.group",children:"info@rosehill.group"})]})]})}),l&&u.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:u.jsxs("div",{className:"sign-in-modal",onClick:g=>g.stopPropagation(),children:[u.jsx("button",{className:"modal-close",onClick:()=>c(!1),children:u.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:"Sign In"}),u.jsx("p",{children:"Access your TPV Studio account"})]}),i&&u.jsx("div",{className:"form-error",children:i}),u.jsxs("form",{onSubmit:f,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email"}),u.jsx("input",{type:"email",value:t,onChange:g=>e(g.target.value),placeholder:"your.email@company.com",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Password"}),u.jsx("input",{type:"password",value:r,onChange:g=>n(g.target.value),required:!0})]}),u.jsx("button",{type:"submit",disabled:a,className:"submit-btn",children:a?"Signing in...":"Sign In"})]}),u.jsx("p",{className:"modal-footer-text",children:"Don't have an account? Contact your administrator."})]})}),u.jsx("style",{jsx:!0,children:`
        /* ============================================
           TPV STUDIO LANDING PAGE
           Aesthetic: Sophisticated Industrial-Creative
           ============================================ */

        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:wght@400;500;600&display=swap');

        .landing-page {
          --primary: #1e4a7a;
          --primary-light: #2a5a8e;
          --accent: #ff6b35;
          --accent-hover: #e55a2a;
          --text: #1a202c;
          --text-secondary: #64748b;
          --text-light: #94a3b8;
          --bg: #fafbfc;
          --bg-dark: #0f172a;
          --card: #ffffff;
          --border: #e2e8f0;

          font-family: 'DM Sans', sans-serif;
          background: var(--bg);
          color: var(--text);
          overflow-x: hidden;
        }

        /* Navigation */
        .landing-nav {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 1000;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1rem 3rem;
          background: rgba(255, 255, 255, 0.9);
          backdrop-filter: blur(12px);
          border-bottom: 1px solid var(--border);
        }

        .nav-logo {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 1.5rem;
          font-weight: 700;
        }

        .logo-text {
          color: var(--primary);
        }

        .logo-accent {
          color: var(--accent);
        }

        .nav-links {
          display: flex;
          align-items: center;
          gap: 2rem;
        }

        .nav-links button {
          background: none;
          border: none;
          font-family: inherit;
          font-size: 0.875rem;
          font-weight: 500;
          color: var(--text-secondary);
          cursor: pointer;
          transition: color 0.2s;
        }

        .nav-links button:hover {
          color: var(--text);
        }

        .nav-cta {
          background: var(--primary) !important;
          color: white !important;
          padding: 0.5rem 1.25rem !important;
          border-radius: 6px !important;
        }

        .nav-cta:hover {
          background: var(--primary-light) !important;
        }

        /* Hero Section */
        .hero {
          min-height: 100vh;
          display: grid;
          grid-template-columns: 1fr 1fr;
          align-items: center;
          padding: 8rem 4rem 4rem;
          position: relative;
          overflow: hidden;
        }

        .hero-background {
          position: absolute;
          inset: 0;
          pointer-events: none;
        }

        .granule-field {
          position: absolute;
          inset: 0;
        }

        .granule {
          position: absolute;
          left: var(--x);
          top: var(--y);
          width: var(--size);
          height: var(--size);
          background: var(--color);
          border-radius: 50%;
          opacity: 0.15;
          animation: float 8s ease-in-out infinite;
          animation-delay: var(--delay);
        }

        @keyframes float {
          0%, 100% { transform: translateY(0) scale(1); }
          50% { transform: translateY(-20px) scale(1.1); }
        }

        .hero-content {
          position: relative;
          z-index: 10;
        }

        .hero-badge {
          display: inline-block;
          padding: 0.5rem 1rem;
          background: rgba(30, 74, 122, 0.1);
          color: var(--primary);
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          border-radius: 50px;
          margin-bottom: 1.5rem;
        }

        .hero h1 {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 3.5rem;
          font-weight: 700;
          line-height: 1.1;
          margin: 0 0 1.5rem;
        }

        .hero-line-1 {
          display: block;
          color: var(--text-secondary);
        }

        .hero-line-2 {
          display: block;
          color: var(--primary);
        }

        .hero-subtitle {
          font-size: 1.125rem;
          color: var(--text-secondary);
          line-height: 1.7;
          max-width: 480px;
          margin-bottom: 2rem;
        }

        .hero-ctas {
          display: flex;
          gap: 1rem;
        }

        .cta-primary {
          display: inline-flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.875rem 1.5rem;
          background: var(--accent);
          color: white;
          border: none;
          border-radius: 8px;
          font-family: inherit;
          font-size: 0.9375rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
        }

        .cta-primary:hover {
          background: var(--accent-hover);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(255, 107, 53, 0.3);
        }

        .cta-primary.large {
          padding: 1rem 2rem;
          font-size: 1rem;
        }

        .cta-secondary {
          padding: 0.875rem 1.5rem;
          background: white;
          color: var(--text);
          border: 2px solid var(--border);
          border-radius: 8px;
          font-family: inherit;
          font-size: 0.9375rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
        }

        .cta-secondary:hover {
          border-color: var(--primary);
          color: var(--primary);
        }

        /* Hero Visual / Mockup */
        .hero-visual {
          position: relative;
          z-index: 10;
          display: flex;
          justify-content: center;
        }

        .mockup-container {
          perspective: 1000px;
        }

        .mockup-screen {
          width: 400px;
          background: white;
          border-radius: 12px;
          box-shadow: 0 24px 80px rgba(0, 0, 0, 0.15);
          overflow: hidden;
          transform: rotateY(-5deg) rotateX(2deg);
          animation: mockupFloat 6s ease-in-out infinite;
        }

        @keyframes mockupFloat {
          0%, 100% { transform: rotateY(-5deg) rotateX(2deg) translateY(0); }
          50% { transform: rotateY(-5deg) rotateX(2deg) translateY(-10px); }
        }

        .mockup-header {
          padding: 0.75rem 1rem;
          background: #f8f8f8;
          border-bottom: 1px solid #eee;
        }

        .mockup-dots {
          display: flex;
          gap: 6px;
        }

        .mockup-dots span {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          background: #ddd;
        }

        .mockup-dots span:nth-child(1) { background: #ff5f56; }
        .mockup-dots span:nth-child(2) { background: #ffbd2e; }
        .mockup-dots span:nth-child(3) { background: #27ca41; }

        .mockup-content {
          padding: 1.5rem;
        }

        .mockup-input {
          background: #f5f5f5;
          padding: 1rem;
          border-radius: 8px;
          font-size: 0.875rem;
          color: var(--text-secondary);
          margin-bottom: 1.5rem;
          display: flex;
          align-items: center;
        }

        .typing-text {
          display: inline-block;
          overflow: hidden;
          white-space: nowrap;
          border-right: 2px solid var(--primary);
          animation: typing 5s steps(40, end) forwards, blink 0.7s step-end infinite;
        }

        @keyframes typing {
          0% { max-width: 0; }
          35% { max-width: 500px; }
          65% { max-width: 500px; }
          100% { max-width: 0; }
        }

        @keyframes blink {
          50% { border-color: transparent; }
        }

        .mockup-preview {
          height: 180px;
          background: linear-gradient(135deg, #e8f4f8, #f0f4ff);
          border-radius: 8px;
          position: relative;
          overflow: hidden;
        }

        .preview-shape {
          position: absolute;
          border-radius: 50%;
          animation: shapeReveal 4s ease-out infinite;
        }

        .shape-1 {
          width: 80px;
          height: 80px;
          background: var(--accent);
          opacity: 0.8;
          top: 20%;
          left: 15%;
          animation-delay: 0s;
        }

        .shape-2 {
          width: 60px;
          height: 60px;
          background: #30D5C8;
          opacity: 0.8;
          top: 40%;
          left: 50%;
          animation-delay: 0.3s;
        }

        .shape-3 {
          width: 100px;
          height: 100px;
          background: var(--primary);
          opacity: 0.8;
          top: 50%;
          right: 10%;
          animation-delay: 0.6s;
        }

        @keyframes shapeReveal {
          0%, 100% { transform: scale(0.8); opacity: 0.4; }
          50% { transform: scale(1); opacity: 0.8; }
        }

        /* Section Headers */
        .section-header {
          text-align: center;
          margin-bottom: 4rem;
        }

        .section-header.light h2,
        .section-header.light .section-subtitle {
          color: white;
        }

        .section-header.light .section-tag {
          background: rgba(255, 255, 255, 0.1);
          color: rgba(255, 255, 255, 0.9);
        }

        .section-tag {
          display: inline-block;
          padding: 0.375rem 0.875rem;
          background: rgba(30, 74, 122, 0.1);
          color: var(--primary);
          font-size: 0.6875rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.15em;
          border-radius: 50px;
          margin-bottom: 1rem;
        }

        .section-header h2 {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 2.5rem;
          font-weight: 700;
          color: var(--text);
          margin: 0;
        }

        .section-subtitle {
          margin-top: 1rem;
          font-size: 1.125rem;
          color: var(--text-secondary);
        }

        /* How It Works */
        .how-it-works {
          padding: 6rem 4rem;
          background: white;
        }

        .steps-container {
          display: flex;
          align-items: flex-start;
          justify-content: center;
          gap: 1rem;
        }

        .step {
          flex: 1;
          max-width: 280px;
          text-align: center;
          padding: 2rem 1.5rem;
        }

        .step-number {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 3rem;
          font-weight: 700;
          color: rgba(30, 74, 122, 0.1);
          margin-bottom: 1rem;
        }

        .step-icon {
          width: 64px;
          height: 64px;
          margin: 0 auto 1.5rem;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(255, 107, 53, 0.1);
          border-radius: 16px;
          color: var(--accent);
        }

        .step h3 {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 1.25rem;
          font-weight: 600;
          margin: 0 0 0.75rem;
          color: var(--text);
        }

        .step p {
          font-size: 0.9375rem;
          color: var(--text-secondary);
          line-height: 1.6;
          margin: 0;
        }

        .step-connector {
          width: 100px;
          padding-top: 5rem;
          color: var(--border);
        }

        /* Features */
        .features {
          padding: 6rem 4rem;
          background: var(--bg);
        }

        .features-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 1.5rem;
          max-width: 1200px;
          margin: 0 auto;
        }

        .feature-card {
          background: white;
          padding: 2rem;
          border-radius: 12px;
          border: 1px solid var(--border);
          transition: all 0.3s;
        }

        .feature-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
        }

        .feature-highlight {
          grid-column: span 2;
          background: linear-gradient(135deg, var(--primary), var(--primary-light));
          color: white;
          border: none;
        }

        .feature-highlight .feature-icon {
          background: rgba(255, 255, 255, 0.2);
          color: white;
        }

        .feature-highlight h3 {
          color: white;
        }

        .feature-highlight p {
          color: rgba(255, 255, 255, 0.9);
        }

        .feature-icon {
          width: 56px;
          height: 56px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(30, 74, 122, 0.1);
          border-radius: 12px;
          color: var(--primary);
          margin-bottom: 1.25rem;
        }

        .feature-card h3 {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 1.125rem;
          font-weight: 600;
          margin: 0 0 0.5rem;
        }

        .feature-card p {
          font-size: 0.875rem;
          color: var(--text-secondary);
          line-height: 1.6;
          margin: 0;
        }

        .feature-example {
          margin-top: 1.5rem;
          padding: 0.875rem 1rem;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          font-size: 0.8125rem;
          font-style: italic;
          opacity: 0.9;
        }

        /* Palette Section */
        .palette-section {
          padding: 6rem 4rem;
          background: var(--bg-dark);
        }

        .palette-grid {
          display: grid;
          grid-template-columns: repeat(7, 1fr);
          gap: 1rem;
          max-width: 1000px;
          margin: 0 auto;
        }

        .palette-swatch {
          animation: swatchReveal 0.5s ease-out forwards;
          animation-delay: var(--delay);
          opacity: 0;
          transform: translateY(20px);
        }

        @keyframes swatchReveal {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .swatch-color {
          aspect-ratio: 1;
          background: var(--swatch-color);
          border-radius: 8px;
          margin-bottom: 0.5rem;
          transition: transform 0.2s;
        }

        .palette-swatch:hover .swatch-color {
          transform: scale(1.1);
        }

        .swatch-info {
          text-align: center;
        }

        .swatch-name {
          display: block;
          font-size: 0.6875rem;
          font-weight: 500;
          color: white;
        }

        .swatch-code {
          display: block;
          font-size: 0.625rem;
          color: rgba(255, 255, 255, 0.5);
        }

        /* Benefits */
        .benefits {
          padding: 6rem 4rem;
          background: white;
        }

        .benefits-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 3rem;
          max-width: 1000px;
          margin: 0 auto;
          text-align: center;
        }

        .benefit-metric {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 4rem;
          font-weight: 700;
          color: var(--accent);
          line-height: 1;
        }

        .benefit-label {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 1.125rem;
          font-weight: 600;
          color: var(--text);
          margin: 0.5rem 0 1rem;
        }

        .benefit p {
          font-size: 0.875rem;
          color: var(--text-secondary);
          line-height: 1.6;
          margin: 0;
        }

        /* CTA Footer */
        .cta-footer {
          padding: 6rem 4rem;
          background: var(--bg);
          text-align: center;
        }

        .cta-content h2 {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 2.5rem;
          font-weight: 700;
          color: var(--text);
          margin: 0 0 1rem;
        }

        .cta-content > p {
          font-size: 1.125rem;
          color: var(--text-secondary);
          margin-bottom: 2rem;
        }

        .cta-note {
          margin-top: 1.5rem;
          font-size: 0.875rem;
          color: var(--text-light);
        }

        .cta-note a {
          color: var(--primary);
          text-decoration: none;
        }

        .cta-note a:hover {
          text-decoration: underline;
        }

        /* Modal */
        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.5);
          backdrop-filter: blur(4px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 2000;
          padding: 2rem;
        }

        .sign-in-modal {
          background: white;
          border-radius: 16px;
          padding: 2.5rem;
          width: 100%;
          max-width: 400px;
          position: relative;
          animation: modalSlide 0.3s ease-out;
        }

        @keyframes modalSlide {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
        }

        .modal-close {
          position: absolute;
          top: 1rem;
          right: 1rem;
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          border: none;
          color: var(--text-light);
          cursor: pointer;
          border-radius: 6px;
          transition: all 0.2s;
        }

        .modal-close:hover {
          background: var(--bg);
          color: var(--text);
        }

        .modal-header {
          text-align: center;
          margin-bottom: 1.5rem;
        }

        .modal-header h2 {
          font-family: 'Space Grotesk', sans-serif;
          font-size: 1.5rem;
          font-weight: 600;
          margin: 0 0 0.25rem;
        }

        .modal-header p {
          font-size: 0.875rem;
          color: var(--text-secondary);
          margin: 0;
        }

        .form-error {
          padding: 0.75rem 1rem;
          background: #fef2f2;
          color: #dc2626;
          border-radius: 8px;
          font-size: 0.875rem;
          margin-bottom: 1rem;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-group label {
          display: block;
          font-size: 0.875rem;
          font-weight: 500;
          margin-bottom: 0.5rem;
        }

        .form-group input {
          width: 100%;
          padding: 0.75rem 1rem;
          border: 1px solid var(--border);
          border-radius: 8px;
          font-family: inherit;
          font-size: 0.9375rem;
          transition: all 0.2s;
        }

        .form-group input:focus {
          outline: none;
          border-color: var(--primary);
          box-shadow: 0 0 0 3px rgba(30, 74, 122, 0.1);
        }

        .submit-btn {
          width: 100%;
          padding: 0.875rem;
          background: var(--accent);
          color: white;
          border: none;
          border-radius: 8px;
          font-family: inherit;
          font-size: 0.9375rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
        }

        .submit-btn:hover:not(:disabled) {
          background: var(--accent-hover);
        }

        .submit-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .modal-footer-text {
          text-align: center;
          font-size: 0.8125rem;
          color: var(--text-light);
          margin: 1.5rem 0 0;
        }

        /* Responsive */
        @media (max-width: 1024px) {
          .hero {
            grid-template-columns: 1fr;
            text-align: center;
          }

          .hero-content {
            max-width: 600px;
            margin: 0 auto;
          }

          .hero-subtitle {
            margin-left: auto;
            margin-right: auto;
          }

          .hero-ctas {
            justify-content: center;
          }

          .hero-visual {
            display: none;
          }

          .features-grid {
            grid-template-columns: repeat(2, 1fr);
          }

          .feature-highlight {
            grid-column: span 2;
          }

          .palette-grid {
            grid-template-columns: repeat(5, 1fr);
          }
        }

        @media (max-width: 768px) {
          .landing-nav {
            padding: 1rem 1.5rem;
          }

          .nav-links {
            gap: 1rem;
          }

          .hero {
            padding: 6rem 1.5rem 3rem;
          }

          .hero h1 {
            font-size: 2.5rem;
          }

          .steps-container {
            flex-direction: column;
            gap: 0;
          }

          .step-connector {
            display: none;
          }

          .features-grid {
            grid-template-columns: 1fr;
          }

          .feature-highlight {
            grid-column: span 1;
          }

          .section-header h2 {
            font-size: 2rem;
          }

          .how-it-works,
          .features,
          .palette-section,
          .benefits,
          .cta-footer {
            padding: 4rem 1.5rem;
          }

          .benefits-grid {
            grid-template-columns: 1fr;
            gap: 2rem;
          }

          .palette-grid {
            grid-template-columns: repeat(4, 1fr);
          }
        }

        @media (max-width: 480px) {
          .nav-links button:not(.nav-cta) {
            display: none;
          }

          .hero h1 {
            font-size: 2rem;
          }

          .cta-content h2 {
            font-size: 1.75rem;
          }

          .palette-grid {
            grid-template-columns: repeat(3, 1fr);
          }
        }
      `})]})}function lte({user:t,onPasswordSet:e}){const[r,n]=H.useState(""),[i,o]=H.useState(""),[a,s]=H.useState(!1),[l,c]=H.useState(""),d=async h=>{if(h.preventDefault(),c(""),r.length<8){c("Password must be at least 8 characters long");return}if(r!==i){c("Passwords do not match");return}s(!0);try{await Xi.updatePassword(r),console.log("[SET-PASSWORD] Password set successfully"),e()}catch(f){console.error("[SET-PASSWORD] Failed to set password:",f),c(f.message||"Failed to set password. Please try again.")}finally{s(!1)}};return u.jsx("div",{className:"tpv-studio",children:u.jsx("div",{className:"tpv-studio__container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:u.jsxs("div",{style:{maxWidth:"400px",width:"100%",padding:"2rem",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[u.jsx("h2",{style:{marginBottom:"0.5rem",fontSize:"1.5rem"},children:"Welcome to TPV Studio"}),u.jsxs("p",{style:{marginBottom:"1.5rem",color:"#666",fontSize:"0.9rem"},children:["Please set a password for your account: ",u.jsx("strong",{children:t.email})]}),u.jsxs("form",{onSubmit:d,children:[u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500"},children:"New Password"}),u.jsx("input",{type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Enter your password",required:!0,minLength:8,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}}),u.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:"#666"},children:"At least 8 characters"})]}),u.jsxs("div",{style:{marginBottom:"1.5rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",fontWeight:"500"},children:"Confirm Password"}),u.jsx("input",{type:"password",value:i,onChange:h=>o(h.target.value),placeholder:"Confirm your password",required:!0,minLength:8,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),l&&u.jsx("div",{style:{padding:"0.75rem",marginBottom:"1rem",background:"#fee",border:"1px solid #fcc",borderRadius:"4px",color:"#c00",fontSize:"0.9rem"},children:l}),u.jsx("button",{type:"submit",disabled:a,style:{width:"100%",padding:"0.75rem",background:a?"#ccc":"#007bff",color:"#fff",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"500",cursor:a?"not-allowed":"pointer"},children:a?"Setting Password...":"Set Password"})]})]})})})}function cte(){const[t,e]=H.useState(null),[r,n]=H.useState(!0),[i,o]=H.useState(!1),[a,s]=H.useState(!1),[l,c]=H.useState(!1),[d,h]=H.useState(!1),[f,p]=H.useState(null),[g,m]=H.useState(null),[y,v]=H.useState(null),[b,x]=H.useState(null),[w,S]=H.useState(null),k=async()=>{try{const R=await Xi.getSession();if(console.log("[APP] Session object:",R),console.log("[APP] Access token:",R==null?void 0:R.access_token),!(R!=null&&R.access_token)){console.warn("[APP] No access token found in session"),c(!1);return}const N=await fetch("/api/admin/users",{headers:{Authorization:`Bearer ${R.access_token}`}});console.log("[APP] Admin check response:",N.status,N.ok),c(N.ok)}catch(R){console.error("[APP] Admin check failed:",R),c(!1)}};H.useEffect(()=>{Xi.getSession().then(N=>{var D;const T=(N==null?void 0:N.user)||null;if(e(T),n(!1),T){const _=(D=T.user_metadata)==null?void 0:D.password_setup_complete;h(!_),k()}});const{data:R}=Xi.onAuthStateChange((N,T)=>{var _;const D=(T==null?void 0:T.user)||null;if(e(D),D){const G=(_=D.user_metadata)==null?void 0:_.password_setup_complete;h(!G),k()}else c(!1),h(!1)});return()=>R==null?void 0:R.unsubscribe()},[]);const C=R=>{var T;console.log("[APP] Loading design:",R),console.log("[APP] Design ID:",R.id),((T=R.design_data)==null?void 0:T.type)==="sports_surface"?(console.log("[APP] Sports design detected, switching to sports mode"),v(R),S(R.name),p("sports")):(console.log("[APP] Playground design detected, switching to playground mode"),m(R),x(R.name),p("playground"))},P=R=>{f==="sports"?S(R):x(R)},E=async()=>{console.log("[APP] Password set successfully"),h(!1);const R=await Xi.getSession();e((R==null?void 0:R.user)||null)};return r?u.jsx("div",{className:"tpv-studio",children:u.jsx("div",{className:"tpv-studio__container",children:u.jsxs("div",{className:"tpv-studio__empty",children:[u.jsx("div",{className:"tpv-studio__spinner"}),u.jsx("p",{children:"Loading..."})]})})}):t?d?u.jsx(lte,{user:t,onPasswordSet:E}):a?u.jsx("div",{className:"tpv-studio",children:u.jsx(ete,{onClose:()=>s(!1)})}):f?f==="sports"?u.jsx(H1,{children:u.jsxs("div",{className:"tpv-studio",children:[u.jsx(yk,{onShowDesigns:()=>o(!0),onShowAdmin:()=>s(!0),isAdmin:l,currentDesignName:w,activeTool:f,onSwitchTool:p}),u.jsx("main",{className:"tpv-studio__container",children:u.jsx(Zee,{loadedDesign:y})}),i&&u.jsx(bk,{onClose:()=>o(!1),onLoadDesign:C})]})}):u.jsx(H1,{children:u.jsxs("div",{className:"tpv-studio",children:[u.jsx(yk,{onShowDesigns:()=>o(!0),onShowAdmin:()=>s(!0),isAdmin:l,currentDesignName:b,activeTool:f,onSwitchTool:p}),u.jsx("main",{className:"tpv-studio__container",children:u.jsx($X,{loadedDesign:g,onDesignSaved:P})}),i&&u.jsx(bk,{onClose:()=>o(!1),onLoadDesign:C})]})}):u.jsx("div",{className:"tpv-studio",children:u.jsx(Yee,{onSelectTool:p})}):u.jsx(ste,{})}Ug.createRoot(document.getElementById("root")).render(u.jsx(z.StrictMode,{children:u.jsx(cte,{})}))});export default ute();
//# sourceMappingURL=index-BAf0ESZR.js.map
